---
title: Azure IoT Central에서 새 IoT 디바이스 유형 정의 | Microsoft Docs
description: 이 문서에서는 빌더로서 Azure IoT Central 응용 프로그램에서 새 Azure IoT 장치 템플릿을 만드는 방법을 보여 줍니다. 유형에 대한 원격 분석, 상태, 속성 및 명령을 정의합니다.
author: dominicbetts
ms.author: dobett
ms.date: 12/06/2019
ms.topic: how-to
ms.service: iot-central
services: iot-central
manager: peterpr
ms.openlocfilehash: 2a99f261e1a834705d081e8197e4ae627cf1cb9f
ms.sourcegitcommit: 31e9f369e5ff4dd4dda6cf05edf71046b33164d3
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/22/2020
ms.locfileid: "81756654"
---
# <a name="define-a-new-iot-device-type-in-your-azure-iot-central-application"></a>Azure IoT Central 애플리케이션에서 새 IoT 디바이스 유형 정의

*이 문서는 솔루션 빌더 및 장치 개발자에게 적용됩니다.*

디바이스 템플릿은 Azure IoT Central 애플리케이션에 연결하는 디바이스 유형의 특징과 동작을 정의하는 청사진입니다.

예를 들어 작성자는 다음과 같은 특성이 있는 연결된 팬에 대한 디바이스 템플릿을 만들 수 있습니다.

- 온도 원격 분석 보내기
- 위치 속성 보내기
- 팬 모터 오류 이벤트 보내기
- 팬 작동 상태 보내기
- 쓰기 가능한 팬 속도 속성 제공
- 디바이스를 다시 시작하는 명령 제공
- 대시보드를 통해 전체 디바이스 보기 제공

운영자는 이 디바이스 템플릿에서 실제 팬 디바이스를 만들고 연결할 수 있습니다. 이러한 모든 팬에는 운영자가 모니터링하고 관리하는 데 사용하는 측정, 속성 및 명령이 있습니다. 운영자는 디바이스 대시보드와 양식을 사용하여 팬 디바이스와 상호 작용합니다.

> [!NOTE]
> 작성자와 관리자만이 디바이스 템플릿을 만들고, 편집하고, 삭제할 수 있습니다. 모든 사용자는 기존 디바이스 템플릿의 **디바이스** 페이지에서 디바이스를 만들 수 있습니다.

[IoT 플러그 앤 플레이(미리 보기)를](../../iot-pnp/overview-iot-plug-and-play.md) 사용하면 임베디드 장치 코드를 작성하지 않고도 IoT Central에서 장치를 통합할 수 있습니다. IoT 플러그 앤 플레이(미리 보기)의 핵심은 디바이스 기능을 설명하는 디바이스 기능 모델 스키마입니다. IoT Central 애플리케이션에서 디바이스 템플릿은 이러한 IoT 플러그 앤 플레이(미리 보기) 디바이스 기능 모델을 사용합니다.

개발자는 다음과 같은 여러 가지 옵션을 통해 디바이스 템플릿을 만들 수 있습니다.

- IoT Central에서 디바이스 템플릿을 디자인한 다음, 디바이스 코드에서 디바이스 기능 모델을 구현합니다.
- [IoT용 Azure Certified 디바이스 카탈로그](https://aka.ms/iotdevcat)에서 디바이스 기능 모델을 가져옵니다. 그런 다음, IoT Central 애플리케이션에 필요한 클라우드 속성, 사용자 지정 및 대시보드를 추가합니다.
- Visual Studio Code를 사용하여 디바이스 기능 모델을 만듭니다. 모델에서 디바이스 코드를 구현합니다. 디바이스 기능 모델을 IoT Central 애플리케이션으로 수동으로 가져온 다음, IoT Central 애플리케이션에 필요한 클라우드 속성, 사용자 지정 및 대시보드를 추가합니다.
- Visual Studio Code를 사용하여 디바이스 기능 모델을 만듭니다. 모델에서 디바이스 코드를 구현하고, 디바이스 우선 연결을 사용하여 실제 디바이스를 IoT Central 애플리케이션에 연결합니다. IoT Central에서 퍼블릭 리포지토리에 있는 디바이스 기능 모델을 찾아 가져옵니다. 그런 다음, IoT Central 애플리케이션에 필요한 클라우드 속성, 사용자 지정 및 대시보드를 디바이스 템플릿에 추가할 수 있습니다.

## <a name="create-a-device-template-from-the-device-catalog"></a>디바이스 카탈로그에서 디바이스 템플릿 만들기

작성자는 IoT 플러그 앤 플레이(미리 보기) 인증 디바이스를 사용하여 솔루션 빌드를 빠르게 시작할 수 있습니다. [Azure IoT 디바이스 카탈로그](https://catalog.azureiotsolutions.com/alldevices)의 목록을 참조하세요. IoT Central은 디바이스 카탈로그와 통합되어 이러한 IoT 플러그 앤 플레이(미리 보기) 인증 디바이스에서 디바이스 기능 모델을 가져올 수 있습니다. IoT Central에 있는 이러한 디바이스 중 하나에서 디바이스 템플릿을 만들려면 다음을 수행합니다.

1. IoT Central 애플리케이션의 **디바이스 템플릿** 페이지로 이동합니다.
1. **+ 새로 만들기**를 선택한 다음, 카탈로그에서 IoT 플러그 앤 플레이(미리 보기) 인증 디바이스를 선택합니다. IoT Central에서 이 디바이스 기능 모델을 기반으로 하여 디바이스 템플릿을 만듭니다.
1. 클라우드 속성, 사용자 지정 또는 보기를 디바이스 템플릿에 추가합니다.
1. **게시**를 선택하여 운영자가 디바이스를 보고 연결하는 템플릿을 사용할 수 있도록 합니다.

## <a name="create-a-device-template-from-scratch"></a>처음부터 디바이스 템플릿 만들기

디바이스 템플릿에 포함되는 항목은 다음과 같습니다.

- _디바이스 기능 모델_ - 디바이스에서 구현하는 원격 분석, 속성 및 명령을 지정합니다. 이러한 기능은 하나 이상의 인터페이스로 구성됩니다.
- _클라우드 속성_ - IoT Central 애플리케이션에서 디바이스에 대해 저장하는 정보를 정의합니다. 예를 들어 클라우드 속성은 디바이스에서 마지막으로 서비스를 제공한 날짜를 기록할 수 있습니다. 이 정보는 디바이스와 공유되지 않습니다.
- _사용자 지정_ - 이를 통해 작성자가 디바이스 기능 모델의 정의 중 일부를 재정의할 수 있습니다. 예를 들어 작성자는 디바이스 속성 이름을 재정의할 수 있습니다. 속성 이름은 IoT Central 대시보드 및 양식에 표시됩니다.
- _대시보드 및 양식_ - 이를 통해 작성자가 UI를 만들 수 있습니다. 이 UI는 운영자가 애플리케이션에 연결된 디바이스를 모니터링하고 관리할 수 있도록 합니다.

IoT Central에서 디바이스 템플릿을 만들려면 다음을 수행합니다.

1. IoT Central 애플리케이션의 **디바이스 템플릿** 페이지로 이동합니다.
1. **+ 새** > **사용자 지정**을 선택합니다.
1. 템플릿의 이름을 입력합니다(예: **환경 센서**).
1. **Enter** 키를 누릅니다. IoT Central에서 빈 디바이스 템플릿을 만듭니다.

## <a name="manage-a-device-template"></a>디바이스 템플릿 관리

템플릿의 홈 페이지에서 템플릿 이름을 바꾸거나 템플릿을 삭제할 수 있습니다.

디바이스 기능 모델이 템플릿에 추가되면 게시할 수 있습니다. 먼저 템플릿이 게시되어야 운영자가 이 템플릿을 기반으로 하여 디바이스를 연결하여 **디바이스** 페이지에서 해당 디바이스를 확인할 수 있습니다.

## <a name="create-a-capability-model"></a>기능 모델 만들기

디바이스 기능 모델을 만들려면 다음을 수행합니다.

- IoT Central을 사용하여 사용자 지정 모델을 처음부터 만듭니다.
- JSON 파일에서 모델을 가져옵니다. 디바이스 작성자가 Visual Studio Code를 사용하여 애플리케이션의 디바이스 기능 모델을 작성했을 수 있습니다.
- [디바이스 카탈로그]에서 디바이스 중 하나를 선택합니다. 이 옵션은 제조업체에서 이 디바이스에 대해 게시한 디바이스 기능 모델을 가져옵니다. 이와 같이 가져온 디바이스 기능 모델이 자동으로 게시됩니다.

## <a name="manage-a-capability-model"></a>기능 모델 관리

디바이스 기능 모델이 만들어지면 다음을 수행할 수 있습니다.

- 인터페이스를 모델에 추가합니다. 모델에는 하나 이상의 인터페이스가 있어야 합니다.
- ID, 네임스페이스 및 이름과 같은 모델 메타데이터를 편집합니다.
- 모델을 삭제합니다.

## <a name="create-an-interface"></a>인터페이스 만들기

디바이스 기능에는 하나 이상의 인터페이스가 있어야 합니다. 인터페이스는 재사용 가능한 기능의 컬렉션입니다.

인터페이스를 만들려면 다음을 수행합니다.

1. 장치 기능 모델로 이동하여 **+ 인터페이스 추가를**선택합니다.

1. **인터페이스 선택** 페이지에서 다음을 수행합니다.

    - 사용자 지정 인터페이스를 처음부터 만듭니다.
    - 파일에서 기존 인터페이스를 가져옵니다. 디바이스 작성자가 Visual Studio Code를 사용하여 디바이스에 대한 인터페이스를 작성했을 수 있습니다.
    - **장치 정보** 인터페이스와 같은 표준 인터페이스 중 하나를 선택합니다. 표준 인터페이스는 많은 디바이스에 공통적인 기능을 지정합니다. 이러한 표준 인터페이스는 Azure IoT에서 게시하며 버전을 지정하거나 편집할 수 없습니다.

1. 인터페이스가 만들어지면 **ID 편집**을 선택하여 인터페이스의 표시 이름을 변경합니다.

1. 사용자 지정 인터페이스를 처음부터 만들도록 선택하는 경우 디바이스의 기능을 추가할 수 있습니다. 디바이스 기능은 원격 분석, 속성 및 명령입니다.

### <a name="telemetry"></a>원격 분석

원격 분석은 디바이스, 일반적으로 센서에서 보내는 값의 스트림입니다. 예를 들어 센서에서 주변 온도를 보고할 수 있습니다.

다음 표에는 원격 분석 기능의 구성 설정이 나와 있습니다.

| 필드 | 설명 |
| ----- | ----------- |
| 표시 이름 | 대시보드와 양식에 사용되는 원격 분석 값의 표시 이름입니다. |
| 이름 | 원격 분석 메시지의 필드 이름입니다. IoT Central은 표시 이름에서 이 필드의 값을 생성하지만, 필요한 경우 사용자 고유의 값을 선택할 수 있습니다. |
| 기능 유형 | 원격 분석입니다. |
| 의미 체계 유형 | 원격 분석의 의미 체계 유형입니다(예: 온도, 상태 또는 이벤트). 의미 체계 유형을 선택하면 다음 필드 중에서 사용 가능한 필드가 결정됩니다. |
| 스키마 | 원격 분석 데이터 형식입니다(예: double, string 또는 vector). 사용 가능한 선택 항목은 의미 체계 유형에 따라 결정됩니다. 이벤트 및 상태 의미 체계 유형에는 스키마를 사용할 수 없습니다. |
| 심각도 | 이벤트 의미 체계 유형에만 사용할 수 있습니다. 심각도는 **오류**, **정보** 또는 **경고**입니다. |
| 상태 값 | 상태 의미 체계 유형에만 사용할 수 있습니다. 가능한 상태 값을 정의하며, 각각에는 표시 이름, 이름, 열거형 형식 및 값이 있습니다. |
| 단위 | **mph**, **%** 또는 ** &deg;C와**같은 원격 분석 값에 대한 단위입니다. |
| 표시 단위 | 대시보드와 양식에서 사용할 표시 단위입니다. |
| 주석 | 원격 분석 기능에 대한 주석입니다. |
| 설명 | 원격 분석 기능에 대한 설명입니다. |

### <a name="properties"></a>속성

속성은 특정 시간 값을 나타냅니다. 예를 들어 디바이스에서 속성을 사용하여 도달하려는 목표 온도를 보고할 수 있습니다. IoT Central에서 쓰기 가능한 속성을 설정할 수 있습니다.

다음 표에는 속성 기능의 구성 설정이 나와 있습니다.

| 필드 | 설명 |
| ----- | ----------- |
| 표시 이름 | 대시보드와 양식에 사용되는 속성 값의 표시 이름입니다. |
| 이름 | 속성의 이름입니다. IoT Central은 표시 이름에서 이 필드의 값을 생성하지만, 필요한 경우 사용자 고유의 값을 선택할 수 있습니다. |
| 기능 유형 | 속성입니다. |
| 의미 체계 유형 | 속성의 의미 체계 유형입니다(예: 온도, 상태 또는 이벤트). 의미 체계 유형을 선택하면 다음 필드 중에서 사용 가능한 필드가 결정됩니다. |
| 스키마 | 속성 데이터 형식입니다(예: double, string 또는 vector). 사용 가능한 선택 항목은 의미 체계 유형에 따라 결정됩니다. 이벤트 및 상태 의미 체계 유형에는 스키마를 사용할 수 없습니다. |
| 쓰기 가능 | 쓰기 가능하지 않은 속성인 경우 디바이스에서 속성 값을 IoT Central에 보고할 수 있습니다. 쓰기 가능한 속성인 경우 디바이스에서 속성 값을 IoT Central에 보고할 수 있으며, IoT Central에서 속성 업데이트를 디바이스에 보낼 수 있습니다.
| 심각도 | 이벤트 의미 체계 유형에만 사용할 수 있습니다. 심각도는 **오류**, **정보** 또는 **경고**입니다. |
| 상태 값 | 상태 의미 체계 유형에만 사용할 수 있습니다. 가능한 상태 값을 정의하며, 각각에는 표시 이름, 이름, 열거형 형식 및 값이 있습니다. |
| 단위 | 속성 값(예: **mph**, **%** 또는 ** &deg;C)에**대한 단위입니다. |
| 표시 단위 | 대시보드와 양식에서 사용할 표시 단위입니다. |
| 주석 | 속성 기능에 대한 주석입니다. |
| 설명 | 속성 기능에 대한 설명입니다. |

### <a name="commands"></a>명령

IoT Central에서 디바이스 명령을 호출할 수 있습니다. 선택적으로 매개 변수를 디바이스에 전달하고 디바이스로부터 응답을 받습니다. 예를 들어 명령을 호출하여 10초 내에 디바이스를 다시 부팅할 수 있습니다.

다음 표에는 명령 기능의 구성 설정이 나와 있습니다.

| 필드 | 설명 |
| ----- | ----------- |
| 표시 이름 | 대시보드와 양식에 사용되는 명령의 표시 이름입니다. |
| 이름 | 명령 이름입니다. IoT Central은 표시 이름에서 이 필드의 값을 생성하지만, 필요한 경우 사용자 고유의 값을 선택할 수 있습니다. |
| 기능 유형 | 명령입니다. |
| 명령 | `SynchronousExecutionType`. |
| 주석 | 명령 기능에 대한 주석입니다. |
| 설명 | 명령 기능에 대한 설명입니다. |
| 요청 | 사용하도록 설정하면 이름, 표시 이름, 스키마, 단위 및 표시 단위를 포함한 요청 매개 변수의 정의입니다. |
| 응답 | 사용하도록 설정하면 이름, 표시 이름, 스키마, 단위 및 표시 단위를 포함한 명령 응답의 정의입니다. |

## <a name="manage-an-interface"></a>인터페이스 관리

인터페이스를 게시하지 않은 경우 인터페이스에서 정의한 기능을 편집할 수 있습니다. 인터페이스를 게시한 후에 변경하려는 경우 새 버전의 디바이스 템플릿을 만들고 인터페이스 버전을 지정해야 합니다. 표시 이름 또는 단위와 같이 버전을 지정할 필요가 없는 변경은 **사용자 지정** 섹션에서 수행할 수 있습니다.

또한 다른 기능 모델에서 인터페이스를 다시 사용하려는 경우 해당 인터페이스를 JSON 파일로 내보낼 수 있습니다.

## <a name="add-cloud-properties"></a>클라우드 속성 추가

클라우드 속성을 사용하여 IoT Central에서 디바이스 관련 정보를 저장합니다. 클라우드 속성은 디바이스에 보내지 않습니다. 예를 들어 클라우드 속성을 사용하여 디바이스를 설치한 고객의 이름 또는 디바이스에서 마지막으로 서비스를 제공한 날짜를 저장할 수 있습니다.

다음 표에는 클라우드 속성의 구성 설정이 나와 있습니다.

| 필드 | 설명 |
| ----- | ----------- |
| 표시 이름 | 대시보드와 양식에 사용되는 클라우드 속성 값의 표시 이름입니다. |
| 이름 | 클라우드 속성의 이름입니다. IoT Central은 표시 이름에서 이 필드의 값을 생성하지만, 필요한 경우 사용자 고유의 값을 선택할 수 있습니다. |
| 의미 체계 유형 | 속성의 의미 체계 유형입니다(예: 온도, 상태 또는 이벤트). 의미 체계 유형을 선택하면 다음 필드 중에서 사용 가능한 필드가 결정됩니다. |
| 스키마 | 클라우드 속성 데이터 형식입니다(예: double, string 또는 vector). 사용 가능한 선택 항목은 의미 체계 유형에 따라 결정됩니다. |

## <a name="add-customizations"></a>사용자 지정 추가

가져온 인터페이스를 수정하거나 IoT Central 관련 기능을 기능에 추가해야 하는 경우 사용자 지정을 사용합니다. 인터페이스 호환성이 손상되지 않는 필드만 사용자 지정할 수 있습니다. 예를 들어, 다음을 수행할 수 있습니다.

- 기능의 표시 이름과 단위를 사용자 지정합니다.
- 값이 차트에 표시될 때 사용할 기본 색을 추가합니다.
- 속성의 초기 값, 최솟값 및 최댓값을 지정합니다.

기능 이름 또는 기능 유형은 사용자 지정할 수 없습니다. **사용자 지정** 섹션에서 변경할 수 없는 항목이 있는 경우 기능을 수정하려면 디바이스 템플릿 및 인터페이스의 버전을 지정해야 합니다.

### <a name="generate-default-views"></a>기본 보기 생성

기본 보기를 생성하면 중요한 디바이스 정보를 빠르게 시각화할 수 있습니다. 디바이스 템플릿에 대해 최대 세 개의 기본 보기를 생성할 수 있습니다.

- **명령**은 디바이스 명령이 포함된 보기를 제공하며, 운영자가 이를 디바이스로 디스패치할 수 있습니다.
- **개요**는 디바이스 원격 분석이 포함된 보기를 제공하며, 차트 및 메트릭을 표시합니다.
- **정보**는 디바이스 정보가 포함된 보기를 제공하며, 해당 속성을 표시합니다.

**기본 보기 생성**이 선택되면 해당 보기가 디바이스 템플릿의 **보기** 섹션 아래에 자동으로 추가되어 있음을 확인할 수 있습니다.

## <a name="add-dashboards"></a>대시보드 추가

운영자가 차트와 메트릭을 사용하여 디바이스를 시각화할 수 있는 대시보드를 디바이스 템플릿에 추가합니다. 디바이스 템플릿에는 여러 개의 대시보드가 있을 수 있습니다.

대시보드를 디바이스 템플릿에 추가하려면 다음을 수행합니다.

1. 장치 템플릿으로 이동하여 **보기를 선택합니다.**
1. **디바이스를 시각화하는 중**을 선택합니다.
1. **대시보드 이름**에서 대시보드의 이름을 입력합니다.
1. 정적, 속성, 클라우드 속성, 원격 분석 및 명령 타일의 목록에서 타일을 대시보드에 추가합니다. 대시보드에 추가하려는 타일을 끌어서 놓습니다.
1. 단일 차트 타일에 여러 원격 분석 값을 플로팅하려면 원격 분석 값을 선택한 다음 **결합을 선택합니다.**
1. 추가하는 각 타일을 구성하여 데이터를 표시하는 방법을 사용자 지정합니다. 이 작업은 기어 아이콘을 선택하거나 차트 타일에서 **구성 변경**을 선택하여 수행할 수 있습니다.
1. 대시보드의 타일을 정렬하고 크기를 조정합니다.
1. 변경 내용을 저장합니다.

### <a name="configure-preview-device-to-view-dashboard"></a>대시보드를 볼 수 있도록 미리 보기 디바이스 구성

대시보드를 보고 테스트하려면 **미리 보기 디바이스 구성**을 선택합니다. 이렇게 하면 대시보드가 게시된 후 운영자가 보는 그대로 해당 대시보드가 표시됩니다. 이 옵션을 사용하여 보기에 올바른 데이터가 표시되는지 확인합니다. 다음 중에서 선택할 수 있습니다.

- 미리 보기 디바이스 없음
- 디바이스 템플릿에 대해 구성한 실제 테스트 디바이스
- 디바이스 ID를 사용하여 애플리케이션에 있는 기존 디바이스

## <a name="add-forms"></a>양식 추가

운영자가 속성을 보고 설정하여 디바이스를 관리할 수 있게 하는 양식을 디바이스 템플릿에 추가합니다. 운영자는 클라우드 속성과 쓰기 가능한 디바이스 속성만 편집할 수 있습니다. 디바이스 템플릿에는 여러 개의 양식이 있을 수 있습니다.

양식을 디바이스 템플릿에 추가하려면 다음을 수행합니다.

1. 장치 템플릿으로 이동하여 **보기를 선택합니다.**
1. **디바이스 및 클라우드 데이터를 편집하는 중**을 선택합니다.
1. **양식 이름**에서 양식의 이름을 입력합니다.
1. 양식의 레이아웃에 사용할 열 수를 선택합니다.
1. 속성을 양식의 기존 섹션에 추가하거나, 속성을 선택하고 **섹션 추가**를 선택합니다. 섹션을 사용하여 양식의 속성을 그룹화합니다. 제목은 섹션에 추가할 수 있습니다.
1. 해당 동작을 사용자 지정할 수 있도록 양식의 각 속성을 구성합니다.
1. 양식의 속성을 정렬합니다.
1. 변경 내용을 저장합니다.

## <a name="publish-a-device-template"></a>디바이스 템플릿 게시

디바이스 기능 모델을 구현하는 디바이스를 연결하려면 먼저 디바이스 템플릿을 게시해야 합니다.

디바이스 템플릿이 게시되면 디바이스 기능 모델을 제한적으로만 변경할 수 있습니다. 인터페이스를 수정하려면 [새 버전을 만들고 게시](./howto-version-device-template.md)해야 합니다.

장치 템플릿을 게시하려면 장치 템플릿으로 이동하여 **게시 를**선택합니다.

장치 템플릿을 게시한 후 운영자는 **장치** 페이지로 이동하여 장치 템플릿을 사용하는 실제 또는 시뮬레이션된 장치를 추가할 수 있습니다. 변경하면서 디바이스 템플릿을 계속 수정하고 저장할 수 있습니다. **디바이스**페이지에서 볼 수 있도록 운영자에게 이러한 변경 내용을 푸시하려면 매번 **게시**를 선택해야 합니다.

## <a name="next-steps"></a>다음 단계

장치 개발자인 경우 다음 단계는 [장치 템플릿 버전 지정에](./howto-version-device-template.md)대해 읽어야 합니다.
