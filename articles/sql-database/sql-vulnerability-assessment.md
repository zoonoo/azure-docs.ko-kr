---
title: SQL 취약성 평가 - Azure SQL Database | Microsoft Docs
description: SQL Database에서 SQL 취약성 평가를 구성하고 평가 보고서를 해석하는 방법을 알아봅니다.
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: ronitr
ms.author: ronitr
ms.reviewer: vanto, carlrab
manager: craigg
ms.date: 10/05/2018
ms.openlocfilehash: 028e7870154e061460411da3f564070de162b05a
ms.sourcegitcommit: 0bb8db9fe3369ee90f4a5973a69c26bff43eae00
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/08/2018
ms.locfileid: "48870607"
---
# <a name="sql-vulnerability-assessment-service-helps-you-identify-database-vulnerabilities"></a>SQL 취약성 평가 서비스는 데이터베이스 취약성을 식별하는 데 도움이 됩니다.

SQL 취약성 평가는 잠재적인 데이터베이스 취약성을 검색, 추적 및 수정할 수 있는 서비스를 간편하게 구성합니다. 이 도구를 사용하여 데이터베이스 보안을 사전에 개선하세요.

취약성 평가는 고급 SQL 보안 기능용 통합 패키지인 [SQL ATP(Advanced Threat Protection)](sql-advanced-threat-protection.md) 제품의 일부입니다. 중앙 SQL ATP 포털을 통해 취약성 평가에 액세스하고 관리할 수 있습니다.

## <a name="the-vulnerability-assessment-service"></a>취약성 평가 서비스

SQL VA(취약성 평가)는 보안 상태를 파악할 수 있는 서비스로, 보안 문제를 해결하고 데이터베이스 보안을 강화하기 위한 실행 가능한 단계를 포함합니다. 이 도구는 다음에 도움이 될 수 있습니다.  

- 데이터베이스 검색 보고서가 필요한 준수 요구 사항을 충족합니다.  
- 데이터 개인 정보 보호 표준을 충족합니다.  
- 변경을 추적하기 어려운 동적 데이터베이스 환경을 모니터링합니다.  

취약성 평가는 Azure SQL Database 서비스에 기본 제공되는 검사 서비스입니다. 이 서비스는 보안 취약성에 플래그를 지정하고 잘못된 구성, 과도한 권한, 보호되지 않는 중요 데이터와 같은 모범 사례의 문제를 강조 표시하는 규칙 기술 자료를 사용합니다. 규칙은 Microsoft의 모범 사례를 기반으로 하고 데이터베이스와 중요한 데이터에 가장 큰 위험을 제공하는 보안 문제에 초점을 맞춥니다. 데이터베이스 수준 문제뿐 아니라 서버 방화벽 설정 및 서버 수준 권한과 같은 서버 수준 보안 문제도 다룹니다. 이러한 규칙은 준수 표준을 충족하기 위한 다양한 규제 기관의 많은 요구 사항도 나타냅니다.  

검색 결과는 각 문제를 해결하기 위한 실행 가능한 단계를 포함하고 적용할 수 있는 경우 사용자 지정된 수정 스크립트를 제공합니다. 권한 구성, 기능 구성 및 데이터베이스 설정에 대한 허용 가능한 기준을 설정하여 평가 보고서를 환경에 맞게 사용자 지정할 수 있습니다.

## <a name="implementing-vulnerability-assessment"></a>취약성 평가 구현

다음 단계를 통해 SQL Database에서 VA를 구현합니다.  

### <a name="1-run-a-scan"></a>1. 검색 실행  

Azure SQL Database 창의 보안 머리글 아래에 있는 **Advanced Threat Protection**으로 이동하여 VA를 시작합니다. Advanced Threat Protection을 클릭하여 사용하도록 설정한 다음 **취약성 평가** 카드를 클릭합니다. 그러면 취약성 평가 설정 카드가 자동으로 열립니다.

먼저 검색 결과를 저장할 저장소 계정을 구성합니다. 스토리지 계정에 대한 자세한 내용은 [Azure Storage 계정 정보](../storage/common/storage-create-storage-account.md)를 참조하세요. 저장소가 구성된 후 **검색**을 클릭하여 데이터베이스에서 취약성을 검색합니다.
  
![데이터베이스 검색](./media/sql-vulnerability-assessment/pp_va_initialize.png)  

  > [!NOTE]
  > 검색은 간편하고 안전합니다. 몇 초 만에 실행할 수 있고 완전히 읽기 전용입니다. 데이터베이스를 변경하지 않습니다.  

### <a name="2-view-the-report"></a>2. 보고서 보기

검색이 완료되면 검색 보고서가 Azure Portal에 자동으로 표시됩니다. 이 보고서는 발견된 문제 수와 각 문제의 심각도가 포함된 보안 상태 개요를 제공합니다. 결과에는 모범 사례의 문제에 대한 경고 및 보안 관련 설정(예: 데이터베이스 보안 주체/역할 및 관련 권한)의 스냅숏이 포함됩니다. 검색 보고서는 데이터베이스에서 검색된 중요한 데이터의 맵을 제공하고 [데이터 검색 및 분류](sql-database-data-discovery-and-classification.md)를 사용하여 이 데이터를 분류할 수 있는 권장 사항을 포함합니다.

![보고서 보기](./media/sql-vulnerability-assessment/pp_main_getstarted.png)  

### <a name="3-analyze-the-results-and-resolve-issues"></a>3. 결과 분석 및 문제 해결

결과를 검토하고 보고서에서 환경의 실제 보안 문제를 나타내는 결과를 확인합니다. 각 실패한 결과로 드릴다운하여 결과의 영향과 각 보안 검사가 실패한 이유를 이해합니다. 보고서에 제공된 실행 가능한 수정 정보를 사용하여 문제를 해결합니다.  

![보고서 분석](./media/sql-vulnerability-assessment/pp_fail_rule_show_remediation.png)

### <a name="4-set-your-baseline"></a>4. 기준 설정

평가 결과를 검토할 때 특정 결과를 해당 환경에서 허용 가능한 *기준*으로 표시할 수 있습니다. 기준은 기본적으로 결과를 보고하는 방법의 사용자 지정입니다. 기준과 일치하는 결과는 후속 검색을 통과하는 것으로 간주합니다. 기준 보안 상태를 설정한 후에는 VA가 기준의 문제만 보고하므로 관련 문제에만 주의를 기울일 수 있습니다.  

![기준 설정](./media/sql-vulnerability-assessment/pp_fail_rule_show_baseline.png)  

### <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. 새 검색을 실행하여 사용자 지정된 추적 보고서 확인

**규칙 기준** 설정을 완료한 후 새 검색을 실행하여 사용자 지정된 보고서를 봅니다. 이제 VA는 승인된 기준 상태에서 벗어난 보안 문제만 보고합니다.

![사용자 지정 보고서 보기](./media/sql-vulnerability-assessment/pp_pass_main_with_baselines.png)  

이제 취약성 평가를 사용하여 데이터베이스가 항상 높은 수준의 보안을 유지하고 조직 정책을 충족하는지 모니터링할 수 있습니다. 준수 보고서가 필요한 경우 준수 프로세스를 이용하는 데 VA 보고서가 도움이 될 수 있습니다.  

### <a name="6-set-up-periodic-recurring-scans"></a>6. 주기적 되풀이 검색 설정

취약성 평가 설정으로 이동하여 **주기적 되풀이 검색**을 설정합니다. 그러면 일주일에 한 번씩 데이터베이스 검색을 자동으로 실행하도록 취약성 평가가 구성됩니다. 사용자가 제공한 전자 메일 주소로 검색 결과 요약이 전송됩니다.

![사용자 지정 보고서 보기](./media/sql-vulnerability-assessment/pp_recurring_scans.png)

### <a name="7-export-an-assessment-report"></a>7. 평가 보고서 내보내기

**검색 결과 내보내기**를 클릭하여 검색 결과의 다운로드 가능한 Excel 보고서를 만듭니다. 이 보고서에는 실패한 모든 검사를 포함하여 평가의 요약 정보를 표시하는 요약 탭이 포함되어 있습니다. 또한 실행된 모든 검사와 각 검사에 대한 결과 정보 등 전체 검색 결과 집합이 들어 있는 **결과** 탭이 포함되어 있습니다.

### <a name="8-view-scan-history"></a>8. 검색 기록 보기

VA 창에서 **검색 기록**을 클릭하여 이전에 이 데이터베이스에서 실행된 모든 검색의 기록을 확인합니다. 자세한 검색 결과를 보려면 목록에서 특정 검색을 선택합니다.

이제 취약성 평가를 사용하여 데이터베이스가 항상 높은 수준의 보안을 유지하고 조직 정책을 충족하는지 모니터링할 수 있습니다. 준수 보고서가 필요한 경우 준수 프로세스를 이용하는 데 VA 보고서가 도움이 될 수 있습니다.

## <a name="manage-vulnerability-assessments-using-azure-powershell"></a>Azure PowerShell을 사용하여 취약성 평가 관리

Azure PowerShell cmdlet을 사용하여 취약성 평가를 프로그래밍 방식으로 관리할 수 있습니다. 지원되는 cmdlet은 다음과 같습니다.

- [Update-AzureRmSqlDatabaseVulnerabilityAssessmentSettings](https://docs.microsoft.com/powershell/module/azurerm.sql/Update-AzureRmSqlDatabaseVulnerabilityAssessmentSettings?view=azurermps-6.6.0)

  데이터베이스의 취약성 평가 설정을 업데이트합니다.
- [Get-AzureRmSqlDatabaseVulnerabilityAssessmentSettings](https://docs.microsoft.com/powershell/module/azurerm.sql/Get-AzureRmSqlDatabaseVulnerabilityAssessmentSettings?view=azurermps-6.6.0)

  데이터베이스의 취약성 평가 설정을 반환합니다.
- [Clear-AzureRmSqlDatabaseVulnerabilityAssessmentSettings](https://docs.microsoft.com/powershell/module/azurerm.sql/Clear-AzureRmSqlDatabaseVulnerabilityAssessmentSettings?view=azurermps-6.6.0)

  데이터베이스의 취약성 평가 설정을 지웁니다.
- [Set-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/azurerm.sql/Set-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline?view=azurermps-6.6.0)

  취약성 평가 규칙 기준을 설정합니다.
- [Get-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/azurerm.sql/Get-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline?view=azurermps-6.6.0)

  지정된 규칙에 대한 취약성 평가 규칙 기준을 가져옵니다.
- [Clear-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/azurerm.sql/Clear-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline?view=azurermps-6.6.0)

  취약성 평가 규칙 기준을 지웁니다. 먼저 이 cmdlet을 사용하여 선택을 취소하기 전에 기준을 설정합니다.
- [Start-AzureRmSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/azurerm.sql/Start-AzureRmSqlDatabaseVulnerabilityAssessmentScan?view=azurermps-6.6.0)

  취약성 평가 검사 시작을 트리거합니다.
- [Get-AzureRmSqlDatabaseVulnerabilityAssessmentScanRecord](https://docs.microsoft.com/powershell/module/azurerm.sql/Get-AzureRmSqlDatabaseVulnerabilityAssessmentScanRecord?view=azurermps-6.6.0)

   지정된 데이터베이스와 연관된 모든 취약성 평가 검사 레코드를 가져옵니다.
- [Convert-AzureRmSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/azurerm.sql/Convert-AzureRmSqlDatabaseVulnerabilityAssessmentScan?view=azurermps-6.6.0)

  취약성 평가 검사 결과를 Excel 파일로 변환합니다.

스크립트 예제를 보려면 [Azure SQL 취약성 평가 PowerShell 지원](https://blogs.msdn.microsoft.com/sqlsecurity/2018/08/02/azure-sql-vulnerability-assessment-now-with-powershell-support/)을 참조하세요.

## <a name="next-steps"></a>다음 단계  

- [SQL Advanced Threat Protection](sql-advanced-threat-protection.md)에 대해 자세히 알아보기
- [데이터 검색 및 분류](sql-database-data-discovery-and-classification.md)에 대해 자세히 알아보기
