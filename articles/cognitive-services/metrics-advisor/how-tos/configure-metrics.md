---
title: 웹 포털을 사용하여 Metrics Advisor 인스턴스 구성
titleSuffix: Azure Cognitive Services
description: Metrics Advisor 인스턴스를 구성하고 변칙 탐지 결과를 미세 조정하는 방법을 알아봅니다.
services: cognitive-services
author: mrbullwinkle
manager: nitinme
ms.service: applied-ai-services
ms.subservice: metrics-advisor
ms.topic: conceptual
ms.date: 09/10/2020
ms.author: mbullwin
ms.openlocfilehash: 9daabd568cce9476b62f546d2d52bfc6706e670e
ms.sourcegitcommit: 34feb2a5bdba1351d9fc375c46e62aa40bbd5a1f
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 06/10/2021
ms.locfileid: "111892489"
---
# <a name="how-to-configure-metrics-and-fine-tune-detecting-configuration"></a>방법: 메트릭을 구성하고 구성 감지 미세 조정

이 문서를 사용하여 웹 포털을 통해 Metrics Advisor 인스턴스 구성을 시작합니다. 특정 데이터 피드에 대한 메트릭을 찾아보려면 **데이터 피드** 페이지로 이동하여 피드 중 하나를 선택합니다. 그러면 연결된 메트릭 목록이 표시됩니다.

:::image type="content" source="../media/metrics/select-metric.png" alt-text="메트릭 선택" lightbox="../media/metrics/select-metric.png":::

메트릭 이름 중 하나를 클릭하여 세부 정보를 확인합니다. 이 상세 보기에서는 화면 오른쪽 상단에 있는 드롭다운 목록을 사용하여 동일한 데이터 피드의 다른 메트릭으로 전환할 수 있습니다.

메트릭의 세부 정보를 처음 볼 때 Metrics Advisor가 해당 메트릭을 선택하도록 하거나 각 차원에 포함할 값을 지정하여 시계열을 로드할 수 있습니다. 

또한 시간 범위를 선택하고 페이지의 레이아웃을 변경할 수도 있습니다.

> [!NOTE]
> - 시작 시간은 포함됩니다.
> - 종료 시간은 제외됩니다. 

**인시던트** 탭을 클릭하여 변칙을 확인하고 [인시던트 허브](diagnose-incident.md)에 대한 링크를 찾을 수 있습니다.

## <a name="tune-the-detecting-configuration"></a>검색 구성 조정

메트릭은 하나 이상의 검색 구성을 적용할 수 있습니다. 모니터링 요구 사항에 따라 편집하거나 추가할 수 있는 각 메트릭에 대한 기본 구성이 있습니다.

### <a name="tune-the-configuration-for-all-series-in-current-metric"></a>현재 메트릭에 있는 모든 계열의 구성 조정

이 구성은 별도의 구성을 가진 계열을 제외하고 이 메트릭의 모든 계열에 적용됩니다. 메트릭 수준 구성은 데이터가 온보딩될 때 기본적으로 설정되며 왼쪽 패널에 표시됩니다. 사용자는 메트릭 페이지에서 메트릭 수준 구성을 직접 편집할 수 있습니다. 

**방향** 및 **유효한 변칙** 과 같은 추가 매개 변수를 사용하여 구성을 추가로 조정하는 데 사용할 수 있습니다. 여러 검색 메서드를 함께 사용할 수도 있습니다. 

:::image type="content" source="../media/configuration-combination.png" alt-text="구성 조합" lightbox="../media/configuration-combination.png":::

### <a name="tune-the-configuration-for-a-specific-series-or-group"></a>특정 계열 또는 그룹에 대한 구성 조정

메트릭 수준 구성 옵션 아래에서 **고급 구성** 을 클릭하여 그룹 수준 구성을 확인합니다. 이 창에서 **+** 아이콘을 클릭하여 개별 계열 또는 계열 그룹에 대한 구성을 추가할 수 있습니다. 이러한 매개 변수는 메트릭 수준 구성 매개 변수와 유사하지만 계열 그룹을 식별하려면 그룹 수준 구성에 대해 하나 이상의 차원 값을 지정해야 할 수 있습니다. 또한 계열 수준 구성에 대한 모든 차원 값을 지정하여 특정 계열을 식별합니다. 

이 구성은 메트릭 수준 구성 대신 특정 계열 또는 계열 그룹에 적용됩니다. 이 그룹에 대한 조건을 설정한 후 저장합니다.

:::image type="content" source="../media/advanced-configuration.png" alt-text="고급 구성" lightbox="../media/advanced-configuration.png":::

### <a name="anomaly-detection-methods"></a>변칙 검색 메서드

Metrics Advisor는 다양한 변칙 검색 메서드를 제공합니다. 한 메서드를 사용하거나 **+** 단추를 클릭한 다음 논리 연산자를 사용하여 여러 메서드를 조합할 수 있습니다. 

**스마트 감지** 

스마트 검색은 과거 데이터에서 패턴을 학습하고 이를 향후 검색에 사용하는 기계 학습을 기반으로 합니다. 이 방법을 사용할 때 **민감도** 는 검색 결과를 조정하는 데 가장 중요한 매개 변수입니다. 이 값을 더 작거나 더 큰 값으로 끌어 페이지 오른쪽의 시각화에 영향을 줄 수 있습니다. 데이터에 적합한 값을 선택하고 저장합니다. 


스마트 검색 모드에서 민감도 및 경계 버전 매개 변수는 변칙 결과를 미세 조정하는 데 사용됩니다.

민감도는 각 포인트의 예상 값 범위 너비에 영향을 줄 수 있습니다. 민감도를 높이면 예상 값 범위가 더 좁아지고 더 많은 변칙이 보고됩니다.

:::image type="content" source="../media/metrics/smart-detection-high-sensitivity.png" alt-text="높은 민감도의 스마트 검색":::

민감도를 낮추면 예상 값 범위가 더 넓어지고 더 적은 변칙이 보고됩니다.

:::image type="content" source="../media/metrics/smart-detection-low-sensitivity.png" alt-text="낮은 민감도의 스마트 검색":::

**변경 임계값** 

변경 임계값은 일반적으로 메트릭 데이터가 특정 범위를 벗어나지 않는 경우 사용됩니다. 임계값은 **변경 비율** 에 따라 설정됩니다. 다음과 같이 시나리오에서는 **변경 임계값** 모드에서 변칙을 검색할 수 있습니다.

* 데이터가 일반적으로 안정적이고 부드러운 경우 변동 시 알림을 받고자 하는 경우
* 데이터가 일반적으로 매우 불안정하고 변동이 심한 경우 너무 안정적이거나 플랫 상태일 때 알림을 받고자 하는 경우

이 모드를 사용하려면 다음 단계를 따릅니다.

1. 메트릭 또는 시계열에 대한 변칙 검색 구성을 설정할 때 변칙 검색 방법으로 **변경 임계값** 을 선택합니다.
    
    :::image type="content" source="../media/metrics/change-threshold.png" alt-text="변경 임계값":::

2. 시나리오에 따라 **범위 밖** 또는 **범위 안** 을 선택합니다.

    변동을 검색하려면 **범위 밖** 을 선택합니다. 예를 들어, 아래 설정을 사용하면 이전과 비교하여 10% 이상 변경된 모든 데이터 포인트가 이상값으로 검색됩니다.
    :::image type="content" source="../media/metrics/out-of-the-range.png" alt-text="범위 밖 매개 변수":::

    데이터에서 플랫 선을 검색하려면 **범위 안** 을 선택합니다. 예를 들어, 아래 설정을 사용하면 이전과 비교하여 0.01% 내에서 변경된 모든 데이터 포인트가 이상값으로 검색됩니다. 임계값이 너무 작기 때문에(0.01%) 데이터의 플랫 선을 변칙으로 검색합니다.

    :::image type="content" source="../media/metrics/in-the-range.png" alt-text="범위 내 매개 변수":::

3. 변칙으로 간주되고 이전에 캡처한 데이터 포인트가 비교에 사용될 변경 비율을 설정합니다. 이 비교는 항상 현재 데이터 포인트와 그 이전의 단일 데이터 포인트 N개 사이에 이루어집니다.
    
    **방향** 은 **범위 밖** 모드를 사용하는 경우에만 유효합니다.
    
    * **위로** 는 (현재 데이터 포인트) - (비교 데이터 포인트) > **+** 임계값 비율인 경우에만 변칙을 검색하도록 검색을 구성합니다.
    * **아래로** 는 (현재 데이터 포인트) - (비교 데이터 포인트) < **-** 임계값 비율인 경우에만 변칙을 검색하도록 검색을 구성합니다.
 
**하드 임계값**

 하드 임계값은 변칙 검색의 기본 방법을 알아봅니다. 상한 및/또는 하한을 설정하여 예상되는 값 범위를 결정할 수 있습니다. 경계를 벗어난 모든 포인트는 변칙으로 식별됩니다. 


## <a name="preset-events"></a>사전 설정 이벤트

경우에 따라 예상된 이벤트 및 발생(예: 휴일)이 변칙 데이터를 생성할 수 있습니다. 사전 설정 이벤트를 사용하여 지정된 시간 동안 변칙 검색 출력에 플래그를 추가할 수 있습니다. 이 기능은 데이터 피드가 온보딩된 후에 구성해야 합니다. 각 메트릭에는 사전 설정 이벤트 구성이 하나만 있을 수 있습니다.

> [!Note]
> 사전 설정 이벤트 구성에서는 변칙 검색 시 휴일을 고려하여 결과가 변경될 수 있습니다. 구성을 저장한 후 수집된 데이터 포인트에 적용됩니다. 

각 메트릭 세부 정보 페이지의 메트릭 드롭다운 목록 옆에 있는 **사전 설정 이벤트 구성** 단추를 클릭합니다.
 
:::image type="content" source="../media/metrics/preset-event-button.png" alt-text="사전 설정 이벤트 단추":::

창이 나타나면 용도에 따라 옵션을 구성합니다. 구성을 사용하려면 **휴일 이벤트 사용** 이 선택되었는지 확인합니다. 

**휴일 이벤트** 섹션을 통해 휴일 동안 불필요한 변칙이 검색되는 것을 방지할 수 있습니다. 적용할 수 있는 **전략** 옵션에는 두 가지 옵션이 있습니다.

* **휴일 표시 안 함**: 휴일 기간 동안 발생한 변칙 검색 결과의 변칙 및 경고를 모두 표시하지 않습니다.
* **휴일을 주말로**: 휴일 전 여러 주말의 평균 예상 값을 계산하고 이러한 값의 변칙 상태를 기반으로 합니다.

구성할 수 있는 몇 가지 다른 값이 있습니다.

|옵션  |Description  |
|---------|---------|
|**하나의 차원을 국가로 선택**     | 국가 정보가 포함된 차원을 선택합니다. (예: 국가 코드)         |
|**국가 코드 매핑**     | 표준 [국가 코드](https://wikipedia.org/wiki/ISO_3166-1_alpha-2)와 선택한 차원의 국가 데이터 간 매핑입니다.        |
|**휴일 옵션**    | 모든 휴일을 고려하는지 여부, PTO 휴일(유상 휴가) 또는 PTO가 아닌 휴일(무상 휴가)만을 고려합니다.         |
|**확장할 기간(일)**    |  휴일 전후에 영향을 받는 날짜입니다.        |


**주기 이벤트** 섹션을 사용하면 일부 시나리오에서 데이터의 순환 패턴을 사용하여 불필요한 경고를 줄일 수 있습니다. 예를 들면 다음과 같습니다. 

- 매주 및 매월 패턴과 같이 여러 패턴 또는 주기가 있는 메트릭입니다. 
- 명확한 패턴이 없는 메트릭이지만 데이터는 연도별(YoY), 월별(MoM), 주별(WoW) 또는 일별(DoD) 등으로 비교할 수 있습니다.
 
모든 세분성에 대해 모든 옵션을 선택할 수 있는 것은 아닙니다. 세분성별로 사용 가능한 옵션은 다음과 같습니다.

| 세분성 | YoY | MoM | WoW | DoD |
|:-|:-|:-|:-|:-|
| 매년 | X | X | X | X |
| 매월 | X | X | X | X |
| 매주 | ✔ | X | X | X |
| 매일 | ✔ | ✔ | ✔ | X |
| 시간별 | ✔ | ✔ | ✔ | ✔ |
| 1분마다 | X | X | X | X |
| 1초마다 | X | X | X | X |
| 사용자 지정* | ✔ | ✔ | ✔ | ✔ |

X - 사용할 수 없음  
✔ - 사용할 수 있음
  
\* 사용자 지정 세분성(초)을 사용하는 경우 메트릭이 1시간 이상 1일 미만인 경우에만 사용할 수 있습니다.

주기 이벤트는 순환 패턴을 따르는 경우 변칙을 줄이는 데 사용되지만, 여러 데이터 포인트가 패턴을 따르지 않는 경우 변칙을 보고합니다. **Strict 모드** 는 데이터 포인트가 하나라도 패턴을 따르지 않는 경우 변칙을 보고하도록 설정하는 데 사용됩니다. 

:::image type="content" source="../media/metrics/preset-events.png" alt-text="사전 설정 이벤트 구성":::

## <a name="view-recent-incidents"></a>최근 인시던트 보기

Metrics Advisor는 수집된 모든 시계열 데이터에 대한 변칙을 검색합니다. 그러나 중요한 영향을 주지 않을 수 있으므로 모든 변칙을 에스컬레이션할 필요는 없습니다. 변칙에 대해 집계를 수행하여 관련 변칙을 인시던트로 그룹화합니다. 이러한 인시던트는 메트릭 세부 정보 페이지의 **인시던트** 탭에서 볼 수 있습니다. 

인시던트를 클릭하면 자세한 내용을 볼 수 있는 **인시던트 분석** 페이지로 이동합니다. **새 인시던트 허브에서 인시던트 관리** 를 클릭하여 특정 메트릭의 모든 인시던트를 찾을 수 있는 [인시던트 허브](diagnose-incident.md) 페이지를 찾습니다. 

## <a name="subscribe-anomalies-for-notification"></a>알림에 대한 변칙 구독

변칙이 검색될 때마다 알림을 받으려면 후크를 사용하여 메트릭에 대한 경고를 구독할 수 있습니다. 자세한 내용은 [후크를 사용하여 경고를 구성하고 알림 가져오기](alerts.md)을 참조하세요.


## <a name="next-steps"></a>다음 단계 
- [후크를 사용하여 경고를 구성하고 알림 가져오기](alerts.md)
- [피드백을 사용하여 변칙 검색 조정](anomaly-feedback.md)
- [인시던트 진단](diagnose-incident.md)

