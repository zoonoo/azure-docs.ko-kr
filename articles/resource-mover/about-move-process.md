---
title: Azure Resource Mover의 이동 프로세스 정보
description: Azure Resource Mover를 사용하여 지역 간에 리소스를 이동하는 프로세스에 대해 알아봅니다.
author: rayne-wiselman
manager: evansma
ms.service: resource-move
ms.topic: overview
ms.date: 09/09/2020
ms.author: raynew
ms.openlocfilehash: 4d520f51717aa11dba55697d63852b17e0ba9cf0
ms.sourcegitcommit: 80b9c8ef63cc75b226db5513ad81368b8ab28a28
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/16/2020
ms.locfileid: "90604498"
---
# <a name="about-the-move-process"></a>이동 프로세스 정보

[Azure Resource Mover](overview.md)는 Azure 지역 간에 Azure 리소스를 이동하는 데 유용합니다. 이 문서에서는 Resource Mover에서 사용하는 구성 요소를 요약하고 이동 프로세스를 설명합니다. 


## <a name="components"></a>구성 요소

이러한 구성 요소는 영역 이동 중에 사용됩니다.

**구성 요소** | **세부 정보**
--- | ---
**Resource Mover** |  Resource Mover는 [Azure 리소스 공급자](https://docs.microsoft.com/azure/azure-resource-manager/management/resource-providers-and-types)와 조정하여 지역 간 리소스 이동을 오케스트레이션합니다. Resource Mover는 리소스 종속성을 분석하고 이동 프로세스 중에 리소스 상태를 유지 및 관리합니다. 
**이동 컬렉션** |  이동 컬렉션은 [Azure Resource Manager](https://docs.microsoft.com/azure/azure-resource-manager/management/overview) 개체입니다.<br/><br/> 이동 컬렉션은 구독에 있는 원본 및 대상 지역의 각 쌍 조합에 대해 지역 이동 프로세스 중에 생성됩니다. 컬렉션에는 이동할 리소스에 대한 메타데이터 및 구성 정보가 포함됩니다.<br/><br/>이동 컬렉션에 추가된 리소스는 동일한 구독에 있어야 하지만 다른 리소스 그룹에 있을 수 있습니다. 
**리소스 이동** | 이동 컬렉션에 리소스를 추가하면 Resource Mover가 이동 리소스로 추적합니다.<br/><br/> Resource Mover는 이동 컬렉션의 모든 이동 리소스에 대한 정보를 유지하고 원본과 대상 리소스 간에 일대일 관계를 유지합니다. 
**종속성** | Resource Mover는 컬렉션에 추가한 리소스의 유효성을 검사하고 이동 컬렉션에 없는 종속성이 리소스에 있는지 확인합니다.<br/><br/> 리소스에 대한 종속성을 식별한 후 종속성을 이동 컬렉션에 추가하고 이동하거나 대상 지역에서 다른 기존 리소스를 선택할 수 있습니다. 모든 종속성은 이동을 시작하기 전에 해결해야 합니다. 



## <a name="move-region-process"></a>지역 이동 프로세스 

![이동 단계를 보여주는 다이어그램](./media/about-move-process/move-steps.png)

각 이동 리소스는 요약된 단계를 거칩니다.

**Step** | **세부 정보** | **상태/문제**
--- | --- | --- 
**1단계: 리소스 선택** | 리소스를 선택합니다. 리소스가 이동 컬렉션에 추가됩니다. | 리소스 상태가 *Prepare pending*(준비 보류 중)으로 이동합니다.<br/><br/> 리소스에 종속성이 있는 경우 *Validate dependency*(종속성 유효성 검사)는 이동 컬렉션에 종속 리소스를 추가해야 함을 나타냅니다.
**2단계: 종속성 유효성 검사** | 유효성 검사 프로세스를 시작합니다.<br/><br/> 유효성 검사에 종속 리소스가 보류 중인 것으로 표시되면 이동 컬렉션에 추가합니다. <br/><br/> 이동하지 않을 경우에도 모든 종속 리소스를 추가합니다. 나중에 이동할 리소스가 대상 지역에서 다른 리소스를 대신 사용하도록 지정할 수 있습니다.<br/><br/> 미해결 종속성이 없을 때까지 다시 유효성을 검사합니다. | 모든 종속성이 추가되고 유효성 검사에 성공하면 리소스 상태가 문제 없이 *Prepare pending*(준비 보류 중)으로 이동합니다.
**3단계: 준비** | 준비 프로세스를 시작합니다. 준비 단계는 이동하는 리소스에 따라 다릅니다.<br/><br/> - **상태 비저장 리소스**: 상태 비저장 리소스에는 구성 정보만 있습니다. 이러한 리소스는 데이터를 이동하기 위해 데이터를 지속적으로 복제할 필요가 없습니다. Azure VNet(가상 네트워크), 네트워크 어댑터, 부하 분산 장치 및 네트워크 보안 그룹을 예로 들 수 있습니다. 이 유형의 리소스에 대해 준비 프로세스는 Azure Resource Manager 템플릿을 생성합니다.<br/><br/> - **상태 저장 리소스**: 상태 저장 리소스에는 구성 정보와 이동해야 하는 데이터가 모두 있습니다. Azure VM 및 Azure SQL 데이터베이스를 예로 들 수 있습니다. 준비 프로세스는 각 리소스마다 다릅니다. 원본 리소스를 대상 지역으로 복제하는 작업이 포함될 수 있습니다. | 시작하면 리소스 상태가 *Prepare in progress*(준비 진행 중)로 이동합니다.<br/><br/> 준비가 완료되면 리소스 상태가 문제없이 *Initiate move pending*(이동 시작 보류 중)으로 이동합니다.<br/><br/> 실패한 프로세스는 상태가 *Prepare failed*(준비 실패)로 이동합니다.
**4단계: 이동 시작** | 이동 프로세스를 시작합니다. 이동 방법은 리소스 유형에 따라 다릅니다.<br/><br/> - **상태 비저장**: 일반적으로 상태 비저장 리소스의 경우 이동 프로세스는 가져온 템플릿을 대상 지역에 배포합니다. 템플릿은 원본 리소스 설정 및 대상 설정에 대한 수동 편집을 기반으로 합니다.<br/><br/> - **상태 저장**: 상태 저장 리소스의 경우 이동 프로세스에는 대상 지역에서 리소스를 만들거나 복사본을 사용하도록 설정하는 작업이 포함될 수 있습니다.<br/><br/>  상태 저장 리소스의 경우에만 이동을 시작하면 원본 리소스의 가동 중지 시간이 발생할 수 있습니다. 예를 들면, VM 및 SQL입니다. | 이동을 시작하면 상태가 *Initiate move in progress*(이동 시작 진행 중)로 전환됩니다.<br/><br/> 이동 시작에 성공하면 리소스 상태가 문제없이 *Commit move pending*(이동 커밋 보류 중)으로 이동합니다. <br/><br/> 이동 프로세스가 실패하면 상태가 *Initiate move failed*(이동 시작 실패함)로 이동합니다.
**5단계 옵션 1: 이동 무시** | 초기 이동 후 전체 이동을 진행할지 여부를 결정할 수 있습니다. 진행하지 않으려면 이동을 취소할 수 있으며, Resource Mover는 대상에 만든 리소스를 삭제합니다. 상태 저장 리소스에 대한 복제 프로세스는 무시 프로세스 후에 계속됩니다. 이 옵션은 테스트에 유용합니다. | 리소스를 무시하면 상태가 *Discard in progress*(무시 진행 중)로 이동합니다.<br/><br/> 무시에 성공하면 상태가 문제 없이 *Initiate move pending*(이동 시작 보류 중)으로 이동합니다.<br/><br/> 무시에 실패하면 상태가 *Discard move failed*(이동 무시 실패함)로 이동합니다. 
**5단계 옵션 2: 이동 커밋** | 초기 이동 후 전체 이동을 진행하려면 대상 지역에서 리소스를 확인하고 준비가 되면 이동을 커밋합니다.<br/><br/> 상태 저장 리소스의 경우에만 커밋하면 VM 또는 SQL과 같은 원본 리소스에 액세스할 수 없게 될 수 있습니다. | 이동을 커밋하면 리소스 상태가 *Commit move in progress**(이동 커밋 진행 중)으로 이동합니다.<br/><br/> 커밋에 성공하면 리소스 상태에 문제없이 *Commit move completed*(이동 커밋 완료됨)가 표시됩니다.<br/><br/> 커밋에 실패하면 상태가 *Commit move failed*(이동 커밋 실패함)로 이동합니다.
**6단계: 원본 삭제** | 이동을 커밋하고 대상 지역에서 리소스를 확인한 후 원본 리소스를 삭제할 수 있습니다. | 이동을 커밋한 후에는 리소스 상태가 *Delete source pending*(원본 삭제 보류 중)으로 이동합니다.


## <a name="move-region-states"></a>지역 이동 상태

이동 프로세스에는 여러 상태와 각 상태에서 발생할 수 있는 문제가 있습니다. 이 내용은 순서도에 요약되어 있습니다.

![가능한 상태 및 문제에 대한 순서도](./media/about-move-process/process.png)


### <a name="dependency-analysis"></a>종속성 분석

이동 프로세스를 진행하는 동안, 다음과 같은 경우 종속성의 유효성을 검사하라는 메시지가 표시될 수 있습니다.
- 리소스가 이동 컬렉션에 없는 종속 리소스를 사용합니다.
- 이동 컬렉션의 종속 리소스에 이동 컬렉션에 없는 자체 종속성이 있습니다.
- 리소스에 대한 대상 설정을 수정했으면 종속성의 유효성을 다시 검사해야 합니다.


### <a name="remove-resources"></a>리소스 제거

리소스를 이동하지 않으려는 경우 이동 컬렉션에서 제거할 수 있습니다. 그러면 리소스는 연결된 작업 또는 개체(예: 복제 또는 저장된 템플릿)와 함께 컬렉션에서 삭제됩니다. 리소스를 제거하면 정확히 어떻게 되는지는 리소스 유형 및 삭제할 때 리소스의 상태에 따라 다릅니다. [자세한 정보](remove-move-resources.md) 

## <a name="move-impact"></a>이동 영향

이 표에는 지역 간에 이동할 때 영향을 받는 사항이 요약되어 있습니다.

**동작** | **지역 간**
--- | --- | --- 
**Data** | 리소스 데이터 및 메타데이터가 이동됩니다.<br/><br/> 메타데이터가 임시로 저장되어 리소스 종속성 및 작업 상태를 추적합니다.
**리소스** | 원본 리소스는 앱이 계속 작동하도록 그대로 유지되며 이동 후 선택적으로 제거할 수 있습니다.<br/><br/> 대상 지역에 리소스가 생성됩니다.
**이동 프로세스** | 수동 작업 및 모니터링이 필요한 다단계 프로세스입니다.
테스트 | 이동 후 앱이 대상 지역에서 예상대로 계속 작동해야 하므로 이동 테스트는 중요합니다.
**가동 중지 시간** |  데이터 손실은 예상되지 않지만 리소스 이동을 위한 약간의 가동 중지 시간이 있습니다.



## <a name="next-steps"></a>다음 단계

Azure VM을 다른 지역으로 [이동](tutorial-move-region-virtual-machines.md)합니다.
Azure SQL 리소스를 다른 지역으로 [이동](tutorial-move-region-sql.md)합니다.