---
title: Azure용 Microsoft 맬웨어 방지 프로그램 | Microsoft Docs
description: 이 문서는 Azure Cloud Services 및 Virtual Machines에 대한 보호를 사용, 구성 및 배포하는 지원되는 시나리오 및 구성을 포함하여 Azure에 대한 Microsoft 맬웨어 방지의 아키텍처 개요를 제공합니다. Microsoft Azure 서비스 관리 API, PowerShell 스크립트, Azure 포털 및 Visual Studio를 통해 액세스할 수 있는 기본 구성, 관리 및 모니터링 기능을 설명합니다.
services: security
documentationcenter: na
author: barclayn
manager: mbaldwin
editor: ''
ms.assetid: 265683c8-30d7-4f2b-b66c-5082a18f7a8b
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 04/26/2018
ms.author: barclayn
ms.openlocfilehash: 9898b14745d88ba04acce02a5a38d1561c6f469e
ms.sourcegitcommit: e2adef58c03b0a780173df2d988907b5cb809c82
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/28/2018
ms.locfileid: "32192471"
---
# <a name="microsoft-antimalware-for-azure-cloud-services-and-virtual-machines"></a>Azure Cloud Services 및 Virtual Machines용 Microsoft 맬웨어 방지 프로그램
클라우드 환경에 대한 최신 위협 환경은 매우 동적이며 규정 준수 및 보안 요구 사항을 충족 하기 위해 비즈니스 IT 클라우드 구독자에 대한 압력을 늘려서 효과적으로 보호를 유지합니다. Azure용 Microsoft 맬웨어 방지 프로그램은 악성 또는 원치 않는 소프트웨어가 사용자의 Azure 시스템에서 스스로의 설치나 실행을 시도할 때 구성 가능한 알림을 통해 바이러스, 스파이웨어 및 기타 악성 소프트웨어를 식별 및 제거하는 데 도움이 되는 무료 실시간 보호 기능입니다.

솔루션은 Windows 8.0 이상을 위한 Microsoft Security Essentials\[MSE\], Microsoft Forefront Endpoint Protection, Microsoft System Center Endpoint Protection, Windows Intune 및 Windows Defender로 동일한 맬웨어 방지 플랫폼을 기반으로 합니다. Azure를 위한 Microsoft 맬웨어 방지는 응용 프로그램 및 테넌트 환경에 대한 단일 에이전트 솔루션이며 사용자의 개입 없이 백그라운드에서 실행되도록 설계됩니다. 맬웨어 방지 프로그램 모니터링을 포함하여 기본 보안 또는 고급 사용자 지정 구성을 사용하여 응용 프로그램 워크로드의 필요에 따라 보호를 배포할 수 있습니다.

Azure에 Microsoft 맬웨어 방지 프로그램을 배포하고 사용할 때 다음과 같은 핵심 기능을 사용할 수 있습니다.

* **실시간 보호** - Cloud Services 및 Virtual Machines에서 작업을 모니터링하여 악성 프로그램 실행을 검색 및 차단합니다.
* **예약된 검색** - 주기적으로 대상으로 지정된 검색을 수행하여 적극적으로 실행 중인 프로그램을 포함하여 맬웨어를 검색합니다.
* **맬웨어 치료** - 자동으로 검색된 맬웨어에서 악성 파일을 삭제 또는 격리하고 악성 레지스트리 항목을 정리하는 것과 같은 작업을 수행합니다.
* **서명 업데이트** - 자동으로 최신 보호 시그니처(바이러스 정의)를 설치하여 보호가 미리 결정된 빈도에 최신 상태가 되도록 합니다.
* **맬웨어 방지 엔진 업데이트** – 자동으로 Microsoft 맬웨어 방지 엔진을 업데이트합니다.
* **맬웨어 방지 플랫폼 업데이트** – 자동으로 Microsoft 맬웨어 방지 플랫폼을 업데이트합니다.
* **활성 보호** - 진화하는 위협 환경에 대한 신속한 응답을 확인하려면 Microsoft Azure에 검색된 위협 및 의심스러운 리소스에 대한 원격 분석 메타데이터를 보고하며 뿐만 아니라 Microsoft 활성 보호 시스템(MAPS)을 통해 실시간 동기 서명 전달 사용하도록 설정합니다.
* **샘플 보고** - Microsoft 맬웨어 방지 서비스에 샘플을 제공하고 보고하여 서비스를 구체화하고 문제를 해결하는 데 사용합니다.
* **제외** – 응용 프로그램 및 서비스 관리자로 특정 파일, 프로세스, 드라이브를 구성하여 성능 및/또는 기타 이유로 보호 및 검색에서 제외합니다.
* **맬웨어 방지 이벤트 수집** - 운영 체제 이벤트 로그에서 수행된 맬웨어 방지 서비스 상태, 의심스러운 활동 및 수정 작업을 기록하고 고객의 Azure Storage 계정에 수집합니다.

> [!NOTE]
> Microsoft 맬웨어 방지 프로그램 또한 Azure Security Center를 통해 배포할 수 있습니다. 자세한 내용은 [Azure Security Center에서 Endpoint Protection 설치](../security-center/security-center-install-endpoint-protection.md)를 읽어보세요.
>
>

## <a name="architecture"></a>아키텍처
Azure 솔루션용 Microsoft 맬웨어 방지 프로그램은 Microsoft 맬웨어 방지 클라이언트와 서비스, 맬웨어 방지 클래식 배포 모델, 맬웨어 방지 PowerShell cmdlet 및 Azure 진단 확장을 포함합니다. Microsoft 맬웨어 방지 솔루션은 Windows Server 2008 R2, Windows Server 2012 및 Windows Server 2012 R2 운영 체제 제품군에서 지원됩니다. Windows Server 2008 운영 체제 및 Linux 둘 다에서 지원되지 않습니다. 

Microsoft 맬웨어 방지 클라이언트 및 서비스는 기본적으로 Cloud Services 플랫폼에서 지원되는 모든 Azure 게스트 운영 체제 제품군에서 사용할 수 없는 상태로 설치됩니다. Microsoft 맬웨어 방지 클라이언트 및 서비스는 기본적으로 Virtual Machines 플랫폼에서 설치되지 않으며 보안 확장에서 Azure Portal 및 Visual Studio Virtual Machine 구성을 통해 선택적 기능으로 사용 가능합니다.

Azure App Service를 사용하는 경우 웹앱을 호스트하는 기본 서버에서 Microsoft 맬웨어 방지 프로그램을 사용할 수 있습니다. 이 프로그램은 Azure App Service 인프라를 보호하는 데 사용되며, 고객 콘텐츠에 대해서는 실행되지 않습니다.

> [!NOTE]
> Defender가 포함된 Windows Server 2016에 대한 지원이 릴리스되었습니다. Windows Defender는 기본 제공되는 맬웨어 방지 프로그램이며 Windows Server 2016에서 사용하도록 설정되어 있습니다. Windows Defender 인터페이스는 일부 Windows Server 2016 SKU에서도 기본적으로 사용하도록 설정되어 있습니다. [자세한 내용은 여기를 참조하세요](https://docs.microsoft.com/windows/threat-protection/windows-defender-antivirus/windows-defender-antivirus-on-windows-server-2016). Azure VM 맬웨어 방지 확장 프로그램을 Windows Defender가 있는 Windows Server 2016 Azure VM에 추가할 수 있지만, 이 시나리오에서 확장 프로그램은 Windows Defender에 사용할 선택적 [구성 정책](https://gallery.technet.microsoft.com/Antimalware-For-Azure-5ce70efe)을 적용하며, 확장 프로그램이 맬웨어 방지 서비스를 추가로 배포하지 않습니다.
> 이 업데이트에 대한 자세한 내용은 [여기](https://blogs.msdn.microsoft.com/azuresecurity/2017/03/07/update-to-azure-antimalware-extension-for-cloud-services/)에서 확인할 수 있습니다.

### <a name="microsoft-antimalware-workflow"></a>Microsoft 맬웨어 방지 워크플로
Azure 서비스 관리자는 다음 옵션을 사용하여 Virtual Machines와 Cloud Services에 기본 또는 사용자 지정 구성으로 Azure용 맬웨어 방지 프로그램을 사용할 수 있습니다.

* Virtual Machines - Azure Portal의 **보안 확장**에서
* Virtual Machines - 서버 탐색기에서 Visual Studio Virtual Machines 구성 사용
* Virtual Machines 및 Cloud Services - 맬웨어 방지 [클래식 배포 모델](https://msdn.microsoft.com/library/azure/ee460799.aspx)
* Virtual Machines 및 Cloud Services - 맬웨어 방지 PowerShell cmdlet 사용

Azure 포털 또는 PowerShell cmdlet은 미리 결정된 고정된 위치의 Azure 시스템에 맬웨어 방지 확장 패키지 파일을 푸시합니다. Azure 게스트 에이전트(또는 패브릭 에이전트)는 입력으로 제공된 맬웨어 방지 구성 설정을 적용하는 맬웨어 방지 확장을 시작합니다. 이 단계에서는 기본 또는 사용자 지정 구성 설정을 사용하여 맬웨어 방지 서비스를 활성화합니다. 사용자 지정 구성이 제공되지 않는 경우 기본 구성 설정을 사용하여 맬웨어 방지 서비스를 활성화합니다. 자세한 내용은 [Azure용 Microsoft 맬웨어 방지 - 코드 샘플](http://aka.ms/amazsamples "Azure Cloud Services 및 VM 코드 샘플에 대한 Microsoft 맬웨어 방지")에서 *맬웨어 방지 구성* 섹션을 참조하세요.

일단 실행하면 Microsoft 맬웨어 방지 클라이언트는 인터넷에서 최신 보호 엔진 및 서명 정의를 다운로드하고 Azure 시스템에 로드합니다. Microsoft 맬웨어 방지 서비스는 "Microsoft 맬웨어 방지" 이벤트 원본에서 시스템 OS 이벤트 로그에 서비스 관련 이벤트를 기록합니다. 이벤트에는 맬웨어 방지 클라이언트 성능 상태, 보호 및 수정 상태, 새 일정과 이전 구성 설정, 엔진 업데이트 및 서명 정의 등이 포함됩니다.

클라우드 서비스 또는 Virtual Machine에 대해 맬웨어 방지를 활성화하여 Azure 저장소 계정에 생성될 때 맬웨어 방지 프로그램 이벤트 로그 이벤트를 작성할 수 있습니다. 맬웨어 방지 서비스는 Azure 진단을 확장을 사용하여 Azure 시스템에서 고객의 Azure Storage 계정에 있는 테이블로 맬웨어 방지 이벤트를 수집합니다.

위의 시나리오에서 제공한 구성 단계 및 지원 옵션을 포함하는 배포 워크플로는 이 문서의 [맬웨어 방지 프로그램 배포 시나리오](#_Antimalware_Deployment_Scenarios) 섹션에서 설명합니다.

![Azure의 Microsoft 맬웨어 방지](./media/azure-security-antimalware/sec-azantimal-fig1.PNG)

> [!NOTE]
> 그러나 Microsoft 맬웨어 방지 확장을 사용하여 Virtual Machine Scale Sets를 배포하려면 Azure 리소스 관리자 템플릿 및 Powershell/API를 사용할 수 있습니다.  이미 실행 중인 Virtual Machine에서 확장을 설치하는 것에 대해 샘플 python 스크립트를 사용 하면 [여기](https://github.com/gbowerman/vmsstools)에 있는 샘플 Python 스크립트 *vmssextn.py*를 사용할 수 있습니다. 이 스크립트는 확장 집합에 있는 기존의 확장 config를 가져와 VM 확장 집합에 있는 기존 확장 목록에 확장을 추가합니다.
>
>

### <a name="default-and-custom-antimalware-configuration"></a>기본 및 사용자 지정 맬웨어 방지 구성
사용자 지정 구성 설정을 제공하지 않는 경우 기본 구성 설정이 적용되어 Azure Cloud Services 또는 Virtual Machines에 대한 맬웨어 방지를 활성화합니다. 기본 구성 설정은 Azure 환경에서 실행하기 위해 사전에 최적화되었습니다. 필요에 따라 Azure 응용 프로그램 또는 서비스 배포에 필요한 이러한 기본 구성 설정을 사용자 지정할 수 있으며 다른 배포 시나리오에 적용할 수 있습니다.

> [!NOTE]
> 기본적으로 Azure Resource Manager의 Microsoft 맬웨어 방지 사용자 인터페이스는 사용되지 않도록 설정됩니다. 이 오류 메시지가 표시되지 않도록 하는 [cleanuppolicy.xml](https://blogs.msdn.microsoft.com/azuresecurity/2016/02/24/update-on-microsoft-antimalware-and-azure-resource-manager-arm-vms/) 파일은 지원되지 않습니다. 사용자 지정 정책을 만드는 방법에 대한 자세한 내용은 [Azure Resource Manager VM의 Microsoft 맬웨어 방지 사용자 인터페이스 사후 배포 사용](https://blogs.msdn.microsoft.com/azuresecurity/2016/03/09/enabling-microsoft-antimalware-user-interface-post-deployment/)을 읽어보세요.
>
>

다음 테이블에서는 맬웨어 방지 서비스에 사용할 수 있는 구성 설정을 요약합니다. 기본 구성 설정은 아래의 "Default"라는 레이블이 지정된 열에 표시됩니다.

![표 1](./media/azure-security-antimalware/sec-azantimal-tb18.PNG)

## <a name="antimalware-deployment-scenarios"></a>맬웨어 방지 프로그램 배포 시나리오
Azure Cloud Services 및 Virtual Machines에 대한 모니터링을 포함하여 맬웨어 방지 프로그램을 활성화하고 구성하는 시나리오는 이 섹션에서 설명됩니다.

### <a name="virtual-machines---enable-and-configure-antimalware"></a>가상 머신 - 맬웨어 방지 활성화 및 구성
**Azure Portal을 사용하는 배포**

맬웨어 방지 서비스를 사용하려면 확장 블레이드에서 **추가**를 클릭하고 새 리소스 블레이드에서 **Microsoft 맬웨어 방지**를 선택하며 Microsoft 맬웨어 방지 블레이드에서 **만들기**를 클릭합니다. 구성 값을 입력하지 않고 **만들기**를 클릭하여 기본 설정을 사용하여 맬웨어 방지 프로그램을 활성화하거나 아래 그림2에 표시된 대로 구성된 Virtual Machine에 맬웨어 방지 구성 설정을 입력합니다. 지원되는 구성 값을 보려면 확장 추가 블레이드에서 각 구성 설정으로 제공되는 **도구 설명**을 참조합니다.

![Microsoft 맬웨어 방지에 대한 Virtual Machine 구성 설정](./media/azure-security-antimalware/sec-azantimal-fig2.PNG)

**Azure Portal을 사용한 배포**

Virtual Machines를 프로비전하는 동안 Azure Portal을 사용하여 Azure Virtual Machines에 대한 Microsoft 맬웨어 방지를 활성화하고 구성하려면 다음 단계를 수행합니다.

1.<https://portal.azure.com>에서 Azure Portal에 로그온합니다.

2.새 가상 머신을 만들려면 아래에서 보여주듯 **새로 만들기**, **Compute**, **가상****컴퓨터**, **갤러리에서**(빠른 생성을 사용하지 않음)를 클릭합니다.

![새 Virtual Machine](./media/azure-security-antimalware/sec-azantimal-fig3.PNG)

3.**이미지 선택** 페이지에서 **Microsoft Windows Server** 이미지를 선택합니다.

4.오른쪽 화살표를 클릭하고 Virtual Machine 구성을 입력합니다.

5. Virtual Machine 구성 페이지의 **보안 확장**에 있는 **Microsoft 맬웨어 방지**의 확인란을 선택합니다.

6.전송 단추를 클릭하여 기본 구성 설정을 사용하여 Azure Virtual Machines에 Microsoft 맬웨어 방지 프로그램을 활성화하고 구성합니다.

![Virtual Machine 구성](./media/azure-security-antimalware/sec-azantimal-fig4.PNG)

**Visual Studio 가상 컴퓨터 구성을 사용하여 배포**

Visual Studio를 사용하여 Microsoft 맬웨어 방지 서비스를 활성화하고 구성합니다.

1.Visual Studio에서 Microsoft Azure에 연결합니다.

2.**서버 탐색기**의 **Azure Virtual Machines** 노드에서 Virtual Machines를 선택합니다.

![Visual Studio의 Virtual Machine 구성](./media/azure-security-antimalware/sec-azantimal-fig5.PNG)

3.마우스 오른쪽 단추로 **구성**을 클릭하여 Virtual Machine 구성 페이지를 확인합니다.

4.**설치된 확장**의 드롭다운 목록에서 **Microsoft 맬웨어 방지**를 선택하고 **추가**를 클릭하여 기본 맬웨어 방지 구성을 사용하여 구성합니다.

![설치된 확장](./media/azure-security-antimalware/sec-azantimal-fig6.PNG)

5.기본 맬웨어 방지 구성을 사용자 지정하려면 설치 된 확장 목록에서 맬웨어 방지 확장을 선택(강조 표시)하고 **구성**을 클릭합니다.

6.**공용 구성** 텍스트 상자의 지원되는 JSON 형식에서 기본 맬웨어 방지 구성을 사용자 지정 구성으로 대체하고 확인을 클릭합니다.

7.**업데이트** 단추를 클릭하여 Virtual Machine에 구성 업데이트를 푸시합니다.

![Virtual Machine 구성 확장](./media/azure-security-antimalware/sec-azantimal-fig7.PNG)

**참고:** 맬웨어 방지에 대한 Visual Studio Virtual Machines 구성은 JSON 형식 구성만 지원합니다. 맬웨어 방지 JSON 구성 설정 템플릿은 [Azure용 Microsoft 맬웨어 방지 - 코드 샘플](http://aka.ms/amazsamples "Azure용 Microsoft 맬웨어 방지 - 코드 샘플")에 포함되며 지원되는 맬웨어 방지 구성 설정을 표시합니다.

**PowerShell cmdlet를 사용하는 배포**

Azure 응용 프로그램 또는 서비스는 PowerShell cmdlet을 사용하여 Azure Virtual Machines에 대해 Microsoft 맬웨어 방지를 활성화하고 구성할 수 있습니다.

맬웨어 방지 PowerShell cmdlet을 사용하여 Microsoft 맬웨어 방지를 활성화하고 구성합니다.

1. PowerShell 환경 설정 - <https://github.com/Azure/azure-powershell>에서 설명서를 참조합니다.
2. Set-AzureVMMicrosoftAntimalwareExtension 맬웨어 방지 cmdlet을 사용하여 <http://msdn.microsoft.com/library/azure/dn771718.aspx>에 설명한 대로 Virtual Machine에 대한 Microsoft 맬웨어 방지를 사용하도록 설정하고 구성합니다.

**참고:** 맬웨어 방지에 대한 Azure Virtual Machines 구성은 JSON 형식 구성만 지원합니다. 맬웨어 방지 JSON 구성 설정 템플릿은 [Azure용 Microsoft 맬웨어 방지 - 코드 샘플](http://aka.ms/amazsamples "Azure용 Microsoft 맬웨어 방지 - 코드 샘플")에 포함되며 지원되는 맬웨어 방지 구성 설정을 표시합니다.

### <a name="enable-and-configure-antimalware-using-powershell-cmdlets"></a>PowerShell cmdlet을 사용하여 맬웨어 방지 활성화 및 구성
Azure 응용 프로그램 또는 서비스는 PowerShell cmdlet을 사용하여 Azure Cloud Services에 대해 Microsoft 맬웨어 방지를 활성화하고 구성할 수 있습니다. Microsoft 맬웨어 방지는 Cloud Services 플랫폼에서 비활성화된 상태로 설치되고 Azure 응용 프로그램에서 동작을 필요로 하여 활성화됩니다.

PowerShell cmdlet을 사용하여 Microsoft 맬웨어 방지를 활성화 및 구성하려면

1. PowerShell 환경 설정 - <https://github.com/Azure/azure-sdk-tools#get-started>에서 설명서를 참조합니다.
2. Set-AzureServiceAntimalwareExtension 맬웨어 방지 cmdlet을 사용하여 <http://msdn.microsoft.com/library/azure/dn771718.aspx>에 설명한 대로 Cloud Service에 대한 Microsoft 맬웨어 방지를 사용하도록 설정하고 구성합니다.

맬웨어 방지 XML 구성 설정 템플릿은 [Azure용 Microsoft 맬웨어 방지 - 코드 샘플](http://aka.ms/amazsamples "Azure용 Microsoft 맬웨어 방지 - 코드 샘플")에 포함되며 지원되는 맬웨어 방지 구성 설정을 표시합니다.

### <a name="cloud-services-and-virtual-machines---configuration-using-powershell-cmdlets"></a>Cloud Services 및 Virtual Machines - PowerShell cmdlet를 사용하여 구성
Azure 응용 프로그램 또는 서비스는 PowerShell cmdlet을 사용하여 Cloud Services 및 Virtual Machines에 대해 Microsoft 맬웨어 방지 구성을 검색할 수 있습니다.

PowerShell cmdlet을 사용하여 Microsoft 맬웨어 방지 구성을 검색하려면

1. PowerShell 환경 설정 - <https://github.com/Azure/azure-sdk-tools#get-started>에서 설명서를 참조합니다.
2. **Virtual Machines의 경우**: Set-AzureVMMicrosoftAntimalwareExtension 맬웨어 방지 cmdlet을 사용하여 <http://msdn.microsoft.com/library/azure/dn771719.aspx>에 설명한 대로 맬웨어 방지 구성을 가져옵니다.
3. **Cloud Services의 경우**: Get-AzureServiceAntimalwareConfig 맬웨어 방지 cmdlet을 사용하여 <http://msdn.microsoft.com/library/azure/dn771722.aspx>에 설명한 대로 맬웨어 방지 구성을 가져옵니다.

### <a name="remove-antimalware-configuration-using-powershell-cmdlets"></a>PowerShell cmdlet을 사용하여 맬웨어 방지 구성 제거
Azure 응용 프로그램 또는 서비스는 클라우드 서비스 또는 Virtual Machine과 연관된 관련 Azure 맬웨어 방지 및 진단 서비스 확장에서 맬웨어 방지 구성 및 관련된 맬웨어 방지 모니터링 구성을 제거할 수 있습니다.

PowerShell cmdlet을 사용하여 Microsoft 맬웨어 방지를 제거하려면

1. PowerShell 환경 설정 - <https://github.com/Azure/azure-sdk-tools#get-started>에서 설명서를 참조합니다.
2. **Virtual Machines의 경우**: <http://msdn.microsoft.com/library/azure/dn771720.aspx>에 설명한 대로 Remove-AzureVMMicrosoftAntimalwareExtension 맬웨어 방지 cmdlet을 사용합니다.
3. **Cloud Services의 경우**: <http://msdn.microsoft.com/library/azure/dn771717.aspx>에 설명한 대로 emove-AzureServiceAntimalwareExtension 맬웨어 방지 cmdlet을 사용합니다.

Azure Preview 포털을 사용하여 가상 머신에 대한 맬웨어 방지 이벤트 컬렉션을 **사용**하려면

1. Virtual Machine 블레이드에서 모니터링 렌즈의 아무 위치나 클릭합니다.
2. 메트릭 블레이드에서 진단 명령을 클릭합니다.
3. **상태** ON을 선택하고 Windows 이벤트 시스템에 대한 옵션을 선택합니다
4. 에서도 확인할 수 있습니다. 목록에서 다른 모든 옵션의 선택을 취소하거나 응용 프로그램 서비스 요구 사항을 활성화된 상태로 선택할 수 있습니다.
5. "오류", "경고", "정보" 등의 맬웨어 방지 이벤트 범주는 Azure Storage 계정에 캡처됩니다.

맬웨어 방지 이벤트는 Windows 이벤트 시스템 로그에서 Azure Storage 계정으로 수집됩니다. 맬웨어 방지 이벤트를 수집하려면 적절한 Storage 계정을 선택하여 Virtual Machine에 대한 Storage 계정을 구성할 수 있습니다.

![메트릭 및 진단](./media/azure-security-antimalware/sec-azantimal-fig8.PNG)

> [!NOTE]
> Azure 맬웨어 방지에 대한 진단 로깅 방법에 대한 자세한 내용은 [Azure 맬웨어 방지에 대한 진단 로깅 사용](https://blogs.msdn.microsoft.com/azuresecurity/2016/04/19/enabling-diagnostics-logging-for-azure-antimalware/)을 읽어보세요.
>
>

### <a name="enable-and-configure-antimalware-monitoring-using-powershell-cmdlets"></a>PowerShell cmdlet을 사용하여 맬웨어 방지 모니터링 활성화 및 구성
Azure 진단을 사용하여 맬웨어 방지 PowerShell cmdlet을 통해 클라우드 서비스 또는 Virtual Machine에 대한 Microsoft 맬웨어 방지 이벤트의 컬렉션을 사용할 수 있습니다. Azure Storage 계정에 시스템 이벤트 로그 원본 "Microsoft 맬웨어 방지"에서 이벤트를 캡처하도록 Azure 진단을 확장을 구성할 수 있습니다. "오류", "경고", "정보" 등의 맬웨어 방지 이벤트 범주는 Azure Storage 계정에 캡처됩니다.

PowerShell cmdlet을 사용하여 Azure Storage 계정에 맬웨어 방지 이벤트 컬렉션을 사용하려면

1. PowerShell 환경 설정 - <https://github.com/Azure/azure-sdk-tools#get-started>를 참조하세요.
2. **Virtual Machines의 경우** - <http://msdn.microsoft.com/library/azure/dn771716.aspx>에 설명한 대로 모니터링 ON 옵션을 사용하여 Set-AzureVMMicrosoftAntimalwareExtension 맬웨어 방지 cmdlet을 사용합니다.
3. **Cloud Services의 경우** - <http://msdn.microsoft.com/library/azure/dn771718.aspx>에 설명한 대로 모니터링 ON 옵션을 사용하여 Set-AzureServiceAntimalwareExtension 맬웨어 방지 cmdlet을 사용합니다.

맬웨어 방지 프로그램 모니터링을 사용하도록 구성된 Azure Storage 계정의 *WADWindowsEventLogsTable* 테이블을 보면 맬웨어 방지 원시 이벤트를 볼 수 있습니다. 맬웨어 방지 서비스의 상태에 대 한 정보 가져오기를 포함하여 맬웨어 방지 이벤트 수집이 작동되는지 유효성을 검사하는 데 유용할 수 있습니다. 자세한 정보는 저장소 계정에서 맬웨어 방지 이벤트를 추출하는 방법에 대한 샘플 코드를 포함하여 [Azure용 Microsoft 맬웨어 방지 -코드 샘플](http://aka.ms/amazsamples "Azure용 Microsoft 맬웨어 방지 -코드 샘플")을 참조하세요.
