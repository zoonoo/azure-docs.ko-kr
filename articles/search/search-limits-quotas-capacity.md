---
title: 계층 및 SKU에 대한 서비스 제한
titleSuffix: Azure Cognitive Search
description: 용량 계획에 사용되는 서비스 제한 및 Azure Cognitive Search에 대한 요청 및 응답의 최대 제한입니다.
manager: nitinme
author: HeidiSteen
ms.author: heidist
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 10/07/2020
ms.openlocfilehash: 7e3a5fcdcead402d59e680fcba270e80b4eda8bb
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/09/2020
ms.locfileid: "91843433"
---
# <a name="service-limits-in-azure-cognitive-search"></a>Azure Cognitive Search의 서비스 제한

스토리지, 워크로드 및 인덱스, 기타 개체의 수량에 대한 최대 제한은 [Azure Cognitive Search](search-create-service-portal.md)를 **무료**, **기본**, **표준** 또는 **스토리지 최적화** 가격 책정 계층 중 어디에 프로비저닝하는지에 따라 달라집니다.

+ **무료** 는 Azure 구독과 함께 제공되는 다중 테넌트 공유 서비스입니다. 

+ **기본**은 프로덕션 워크로드 전용 컴퓨팅 리소스를 더 작은 규모로 제공하지만 일부 네트워킹 인프라를 다른 테넌트와 공유합니다.

+ **표준**은 모든 수준에서 더 많은 스토리지 및 처리 용량으로 전용 컴퓨터에서 실행됩니다. 표준은 4가지 수준인 S1, S2, S3 및 S3 HD로 제공됩니다. S3 HD(S3 고밀도)는 [다중 테넌트](search-modeling-multitenant-saas-applications.md) 및 많은 양의 작은 인덱스(서비스당 3천 개의 인덱스)에 대해 설계되었습니다. S3 HD는 [인덱서 기능](search-indexer-overview.md)을 제공하지 않으며 데이터 수집은 원본에서 인덱스로 데이터를 푸시하는 API를 활용해야 합니다. 

+ **스토리지 최적화**는 **표준**보다 많은 총 스토리지, 스토리지 대역폭 및 메모리가 있는 전용 머신에서 실행됩니다. 이 계층은 느리게 변경되는 대량 인덱스를 대상으로 합니다. 스토리지 최적화는 다음과 같은 두 가지 수준으로 제공됩니다. L1 및 L2

## <a name="subscription-limits"></a>구독 제한
[!INCLUDE [azure-search-limits-per-subscription](../../includes/azure-search-limits-per-subscription.md)]

## <a name="storage-limits"></a>스토리지 제한
[!INCLUDE [azure-search-limits-per-service](../../includes/azure-search-limits-per-service.md)]

<a name="index-limits"></a>

## <a name="index-limits"></a>인덱스 제한

| 리소스 | 무료 | 기본&nbsp;<sup>1</sup>  | S1 | S2 | S3 | S3&nbsp;HD | L1 | L2 |
| -------- | ---- | ------------------- | --- | --- | --- | --- | --- | --- |
| 최대 인덱스 |3 |5 또는 15 |50 |200 |200 |파티션당 1000 또는 서비스당 3000 |10 |10 |
| 인덱스당 최대 단순 필드 |1000 |100 |1000 |1000 |1000 |1000 |1000 |1000 |
| 인덱스당 최대 복합 컬렉션 필드 |40 |40 |40 |40 |40 |40 |40 |40 |
| 문서당 모든 복합 컬렉션에서 최대 요소 수&nbsp;<sup>2</sup> |3000 |3000 |3000 |3000 |3000 |3000 |3000 |3000 |
| 복합 필드의 최대 깊이 |10 |10 |10 |10 |10 |10 |10 |10 |
| 인덱스당 최대 [확인기](/rest/api/searchservice/suggesters) |1 |1 |1 |1 |1 |1 |1 |1 |
| 인덱스당 [최대 점수 매기기](/rest/api/searchservice/add-scoring-profiles-to-a-search-index) 프로필 |100 |100 |100 |100 |100 |100 |100 |100 |
| 프로필당 최대 함수 |8 |8 |8 |8 |8 |8 |8 |8 |

<sup>1</sup> 2017년 12월 이전에 생성된 기본 서비스는 인덱스에서 낮은 제한(15 대신 5)을 갖습니다. 기본 계층은 인덱스당 100개 필드 제한보다 더 낮은 SKU입니다.

<sup>2</sup> 너무 많은 요소가 인덱스에 필요한 저장소를 크게 증가 하므로 요소에 대 한 상한이 있습니다. 복합 컬렉션의 요소는 해당 컬렉션의 멤버로 정의 됩니다. 예를 들어 [대화방 복합 컬렉션을 사용 하는 호텔 문서](search-howto-complex-data-types.md#indexing-complex-types)를 가정 합니다. 대화방 컬렉션의 각 공간은 요소로 간주 됩니다. 인덱싱 중에 인덱싱 엔진은 문서 전체에서 최대 3000 개의 요소를 안전 하 게 처리할 수 있습니다. [이 제한은](search-api-migration.md#upgrade-to-2019-05-06) 에서 도입 되었으며, `api-version=2019-05-06` 문자열 컬렉션이 나 복잡 한 필드에만 적용 되는 것이 아니라 복잡 한 컬렉션에만 적용 됩니다.

<a name="document-limits"></a>

## <a name="document-limits"></a>문서 제한 

2018년 10월을 기준으로 모든 지역의 모든 청구 가능 계층(기본, S1, S2, S3, S3 HD)에서 생성된 모든 새 서비스에 대한 문서 수 제한이 더 이상 적용되지 않습니다. 2018년 10월 이전에 만든 이전 서비스는 여전히 문서 수 제한에 적용될 수 있습니다.

서비스에 문서 제한이 있는지 여부를 확인하려면 [서비스 통계 가져오기 REST API](/rest/api/searchservice/get-service-statistics)를 사용합니다. 문서 제한은 응답에 반영되며 제한 없음을 나타내는 `null`로 표시됩니다.

> [!NOTE]
> 서비스에 의해 적용되는 문서 제한은 없지만, 기본, S1, S2 및 S3 검색 서비스의 인덱스당 약 240억 개 문서의 분할 제한이 있습니다. S3 HD의 경우 분할 제한은 인덱스당 20억 개 문서입니다. 복합 컬렉션의 각 요소는 분할 제한을 기준으로 개별 문서로 계산됩니다.

### <a name="document-size-limits-per-api-call"></a>API 호출당 문서 크기 제한

인덱스 API를 호출할 때 최대 문서 크기는 약 16MB입니다.

문서 크기는 실제로 인덱스 API 요청 본문의 크기를 제한합니다. 여러 문서를 포함하는 배치를 한꺼번에 인덱스 API에 전달할 수 있으므로 현실적으로 크기 제한은 배치에 포함된 문서 수에 따라 좌우됩니다. 단일 문서를 포함하는 배치의 경우 최대 문서 크기는 16MB의 JSON입니다.

문서 크기를 추정하는 경우 검색 서비스에서 사용할 수 있는 필드만 고려해야 합니다. 원본 문서의 모든 이진 또는 이미지 데이터는 계산에서 생략해야 합니다.  

## <a name="indexer-limits"></a>인덱서 제한

최대 실행 시간은 서비스에 대한 균형 및 안정성을 제공하기 위해 존재하지만 큰 데이터 세트는 최대 허용보다 많은 인덱싱 시간이 필요할 수 있습니다. 인덱싱 작업이 허용된 최대 시간 내에 완료될 수 없는 경우에는 일정에 따라 실행해보십시오. 스케줄러는 인덱싱 상태를 추적합니다. 어떤 이유로든 예약된 인덱싱 작업이 중단되면 다음에 예약된 실행에서 인덱서가 지난 번에 중단된 위치부터 작업을 이어갈 수 있습니다.


| 리소스 | 무료&nbsp;<sup>1</sup> | 기본&nbsp;<sup>2</sup>| S1 | S2 | S3 | S3&nbsp;HD&nbsp;<sup>3</sup>|L1 |L2 |
| -------- | ----------------- | ----------------- | --- | --- | --- | --- | --- | --- |
| 최대 인덱서 |3 |5 또는 15|50 |200 |200 |해당 없음 |10 |10 |
| 최대 데이터 원본 |3 |5 또는 15 |50 |200 |200 |해당 없음 |10 |10 |
| 최대 기술 집합 <sup>4</sup> |3 |5 또는 15 |50 |200 |200 |해당 없음 |10 |10 |
| 호출당 최대 인덱싱 로드 |10,000개 문서 |최대 문서에 의해서만 제한됨 |최대 문서에 의해서만 제한됨 |최대 문서에 의해서만 제한됨 |최대 문서에 의해서만 제한됨 |해당 없음 |제한 없음 |제한 없음 |
| 최소 일정 | 5분 |5분 |5분 |5분 |5분 |5분 |5분 | 5분 |
| 최대 실행 시간| 1-3분 |24시간 |24시간 |24시간 |24시간 |해당 없음  |24시간 |24시간 |
| 기술 <sup>5</sup> 를 사용 하는 인덱서의 최대 실행 시간 | 3~10분 |2시간 |2시간 |2시간 |2시간 |해당 없음  |2시간 |2시간 |
| Blob 인덱서: 최대 Blob 크기(MB) |16 |16 |128 |256 |256 |해당 없음  |256 |256 |
| Blob 인덱서: Blob에서 추출된 콘텐츠의 최대 문자 |32,000 |64,000 |4&nbsp;백만 |8&nbsp;백만 |16&nbsp;백만 |해당 없음 |4&nbsp;백만 |4&nbsp;백만 |

<sup>1</sup> 무료 계층의 인덱서 최대 실행 시간은 Blob 원본의 경우 3분이고 기타 모든 데이터 원본의 경우 1분입니다. Cognitive Services를 호출하는 AI 인덱싱의 경우 무료 서비스는 하루 20개의 무료 트랜잭션으로 제한되며, 여기서 트랜잭션은 보강 파이프라인을 통해 성공적으로 전달되는 문서로 정의됩니다.

<sup>2</sup> 2017년 12월 이전에 생성된 기본 서비스는 인덱스, 데이터 원본 및 기술 세트에서 낮은 제한(15 대신 5)을 갖습니다.

<sup>3</sup> S3 HD 서비스는 인덱서 지원을 포함하지 않습니다.

<sup>4</sup> 기술 집합당 최대 30개의 기술입니다.

<sup>5</sup> AI 보강 및 이미지 분석은 계산 집약적이며 사용 가능한 처리 능력을 과도하게 많이 소비합니다. 이러한 워크로드에 대한 실행 시간이 단축되어 큐의 다른 작업을 실행하는 데 더 많은 기회를 제공합니다.

> [!NOTE]
> [인덱스 제한](#index-limits)에 설명된 것처럼 인덱서는 복합 형식(`2019-05-06`)을 지원하는 최신 GA API 버전부터 문서당 모든 복합 컬렉션에 대해 3000 요소의 상한을 적용합니다. 즉, 이전 API 버전을 사용하여 인덱서를 만든 경우에는 이 제한이 적용되지 않습니다. 최대 호환성을 유지하려면 이전 API 버전을 사용하여 만든 다음, `2019-05-06` 이상의 API 버전으로 업데이트된 인덱서는 여전히 제한에서 **제외**됩니다. 고객은 앞에서 설명한 것처럼 매우 큰 복합 컬렉션을 사용하는 경우 부정적인 영향에 대해 알고 있어야 하며 최신 GA API 버전을 사용하여 새 인덱서를 만드는 것이 좋습니다.

### <a name="shared-private-link-resource-limits"></a>공유 개인 링크 리소스 제한

> [!NOTE]
> 인덱서 [는이 방법 가이드](search-indexer-howto-access-private.md) 에 설명 된 대로 [공유 개인 링크 리소스 API](https://docs.microsoft.com/rest/api/searchmanagement/sharedprivatelinkresources) 를 통해 관리 되는 전용 끝점을 통해 안전 하 게 리소스에 액세스할 수 있습니다.

| 리소스 | 무료 | Basic | S1 | S2 | S3 | S3 HD | L1 | L2
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 전용 끝점 인덱서 지원 | 아니요 | 예 | 예 | 예 | 예 | 아니요 | 예 | 예 |
| 기술<sup>1</sup> 을 사용 하는 인덱서를 위한 개인 끝점 지원 | 아니요 | 아니요 | 아니요 | 예 | 예 | 아니요 | 예 | 예 |
| 최대 개인 끝점 | N/A | 10 또는 30 | 100 | 400 | 400 | N/A | 20 | 20 |
| 최대 고유 리소스 유형<sup>2</sup> | 해당 없음 | 4 | 7 | 15 | 15 | 해당 없음 | 4 | 4 |

<sup>1</sup> AI 보강 및 이미지 분석은 계산 집약적 이며 사용 가능한 처리 능력의 불균형을 사용 합니다. 따라서 낮은 검색 서비스 계층에서 개인 환경에서 실행 되도록 설정 하면 검색 서비스의 성능 및 안정성에 부정적인 영향을 줄 수 있습니다.

<sup>2</sup> 고유 리소스 형식 수는 `groupId` 리소스의 상태에 관계 없이 지정 된 검색 서비스에 대 한 모든 공유 개인 링크 리소스에서 사용 되는 고유한 값의 수로 계산 됩니다.

## <a name="synonym-limits"></a>동의어 제한

동의어 맵의 최대 개수는 계층에 따라 다릅니다. 각 규칙에는 최대 20개의 확장이 있을 수 있습니다. 여기서 확장은 동일한 용어입니다. 예를 들어, "kitty", "feline" 및 "felis"(고양이 속)와 연결된 "cat"은 3개의 확장으로 계산됩니다.

| 리소스 | 무료 | Basic | S1 | S2 | S3 | S3-HD |L1 | L2 |
| -------- | -----|------ |----|----|----|-------|---|----|
| 최대 동의어 맵 |3 |3|5 |10 |20 |20 | 10 | 10 |
| 맵당 최대 규칙 수 |5,000 |20000|20000 |20000 |20000 |20000 | 20000 | 20000  |

## <a name="queries-per-second-qps"></a>초당 쿼리 수(QPS)

QPS 예상 값은 모든 고객에 의해 독립적으로 개발되어야 합니다. 인덱스 크기와 복잡성, 쿼리 크기와 복잡성 및 트래픽 양은 QPS의 주 결정자입니다. 이러한 요소를 알 수 없는 경우 의미 있는 예상 값을 제공할 방법이 없습니다.

예측 값은 전용 리소스(기본 계층 및 표준 계층)에서 실행 중인 서비스에 대해 계산되는 경우 더 예측 가능해 집니다. 매개 변수를 더 잘 제어할 수 있기 때문에 QPS를 더 근접하게 예상할 수 있습니다. 예측 값에 접근하는 방법에 대한 지침은 [Azure Cognitive Search 성능 및 최적화](search-performance-optimization.md)를 참조하세요.

스토리지 최적화 계층(L1 및 L2)의 경우 표준 계층보다 낮은 쿼리 처리량과 더 많은 대기 시간이 소요됩니다.

## <a name="data-limits-ai-enrichment"></a>데이터 제한(AI 보강)

[엔터티 인식](cognitive-search-skill-entity-recognition.md), [핵심 구 추출](cognitive-search-skill-keyphrases.md), [감정 분석](cognitive-search-skill-sentiment.md), [언어 감지](cognitive-search-skill-language-detection.md) 및 [개인 정보 검색](cognitive-search-skill-pii-detection.md)에 대한 Text Analytics 리소스로 호출을 만드는 [AI 보강 파이프라인](cognitive-search-concept-intro.md)은 데이터가 제한될 수 있습니다. 레코드의 최대 크기는 [`String.Length`](/dotnet/api/system.string.length)에 의해 측정된 대로 50,000자여야 합니다. 감성 분석기로 보내기 전에 데이터를 분할해야 할 경우 [텍스트 분할 기술](cognitive-search-skill-textsplit.md)을 사용합니다.

## <a name="throttling-limits"></a>스로틀 제한

시스템이 최대 용량에 도달하면 검색 쿼리 및 인덱싱 요청이 제한됩니다. 제한은 API마다 다르게 동작합니다. 쿼리 API(검색/제안/자동 완성) 및 인덱싱 API는 서비스의 부하에 따라 동적으로 제한됩니다. 인덱스 API에는 정적 요청률 제한이 있습니다. 

인덱스와 관련된 작업에 대한 정적 요금 요청 제한:

+ 인덱스 나열(GET/indexes): 검색 단위당 초당 5
+ 인덱스 가져오기(GET/indexes/myindex): 검색 단위당 초당 10
+ 인덱스 만들기(POST /indexes): 검색 단위당 분당 12
+ 인덱스 만들기 또는 업데이트(PUT/indexes/myindex): 검색 단위당 초당 6
+ 인덱스 삭제(DELETE/indexes/myindex): 검색 단위당 분당 12 

## <a name="api-request-limits"></a>API 요청 제한
* 요청당 최대 16MB <sup>1</sup>
* URL 길이 최대 8KB
* 인덱스 업로드, 병합 또는 삭제 배치당 최대 1000개의 문서
* $orderby 절에 최대 32개의 필드
* 최대 검색어 크기는 UTF-8 인코딩된 텍스트로 32,766바이트(32KB에서 2바이트를 뺀 값)입니다.

<sup>1</sup> Azure Cognitive Search에서는 이론적 제한으로 달리 제한되지 않는 개별 필드 또는 컬렉션의 콘텐츠에 대한 실질적 한도를 부과하기 위해 요청 본문에 16MB의 상한이 적용됩니다(필드 컴퍼지션 및 제한 사항에 대한 자세한 내용은 [지원되는 데이터 형식](/rest/api/searchservice/supported-data-types) 참조).

## <a name="api-response-limits"></a>API 응답 제한
* 검색 결과 페이지당 반환되는 문서 최대 1000개
* 제안 API 요청당 반환되는 제안 최대 100개

## <a name="api-key-limits"></a>API 키 제한
API 키는 서비스 인증에 사용됩니다. 두 가지 형식이 있습니다. 관리자 키는 요청 헤더에서 지정되고 서비스에 전체 읽기/쓰기 액세스 권한을 부여합니다. 쿼리 키는 읽기 전용이며 URL에 지정되고 일반적으로 클라이언트 애플리케이션에 배포됩니다.

* 서비스당 최대 2개의 관리자 키
* 서비스당 최대 50개의 쿼리 키