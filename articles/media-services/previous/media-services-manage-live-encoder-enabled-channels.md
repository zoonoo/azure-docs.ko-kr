---
title: Azure Media Services를 사용하여 다중 비트 전송률 스트림을 만드는 라이브 스트리밍 | Microsoft 문서
description: 이 항목에서는 온-프레미스 인코더에서 단일 비트 전송률 라이브 스트림을 받은 다음 Media Services를 사용하여 적응 비트 전송률 스트림으로 라이브 인코딩을 수행하는 채널을 설정하는 방법에 대해 설명합니다. 적응 스트리밍 프로토콜인 HLS, 부드러운 스트리밍, DASH 중 하나를 사용하여 스트림을 하나 이상의 스트리밍 엔드포인트를 통해 클라이언트 재생 애플리케이션에 배달할 수 있습니다.
services: media-services
documentationcenter: ''
author: anilmur
manager: femila
editor: ''
ms.assetid: 30ce6556-b0ff-46d8-a15d-5f10e4c360e2
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/18/2019
ms.author: juliako;anilmur
ms.openlocfilehash: c168182f0b34329ed3e72e90ce86456dfbe210ca
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/23/2019
ms.locfileid: "61217259"
---
# <a name="live-streaming-using-azure-media-services-to-create-multi-bitrate-streams"></a>Azure Media Services를 사용하여 다중 비트 전송률 스트림을 만드는 라이브 스트리밍

> [!NOTE]
> 2018년 5월 12일부터 라이브 채널은 RTP/MPEG-2 전송 스트림 수집 프로토콜을 더 이상 지원하지 않습니다. RTP/MPEG-2에서 RTMP 또는 조각난 MP4(부드러운 스트리밍) 수집 프로토콜로 마이그레이션하세요.

## <a name="overview"></a>개요
AMS(Azure Media Services)에서 **채널** 은 라이브 스트리밍 콘텐츠를 처리하기 위한 파이프라인을 나타냅니다. **채널** 은 다음 두 가지 방법 중 하나로 라이브 입력 스트림을 받습니다.

* 온-프레미스 라이브 인코더는 단일 비트 전송률 스트림을 RTMP 또는 부드러운 스트리밍(조각화된 MP4) 형식의 하나로 Media Services를 통해 라이브 인코딩을 수행할 수 있는 채널에 전송합니다. 그러면 채널은 들어오는 단일 비트 전송률 스트림을 다중 비트 전송률(적응) 비디오 스트림으로 라이브 인코딩합니다. 요청된 경우 Media Services는 고객에게 스트림을 배달합니다.
* 온-프레미스 라이브 인코더가 다중 비트 전송률 **RTMP** 또는 **부드러운 스트리밍**(조각화된 MP4)을 AMS로 라이브 인코딩을 수행하도록 설정되지 않은 채널에 보냅니다. 수집된 스트림은 어떠한 추가적인 처리 없이 **채널**을 통과합니다. 이 방법을 **통과**라고 합니다. 다중 비트 전송률 부드러운 스트리밍을 출력하는 라이브 인코더인 MediaExcel, Ateme, Imagine Communications, Envivio, Cisco 및 Elemental을 사용할 수 있습니다. RTMP를 출력하는 라이브 인코더는 Adobe FMLE(Flash Media Live Encoder), Telestream Wirecast, Haivision, Teradek 및 Tricaster 인코더입니다.  또한 라이브 인코더는 라이브 인코딩이 사용되지 않는 채널에 단일 비트 전송률 스트림을 전송할 수 있지만 이 방법은 권장되지 않습니다. 요청된 경우 Media Services는 고객에게 스트림을 배달합니다.

  > [!NOTE]
  > 통과 방법은 라이브 스트리밍을 수행하는 가장 경제적인 방법입니다.
  > 
  > 

Media Services 2.10 릴리스부터, 채널을 만들 때 채널이 입력 스트림을 받는 방법과 채널이 스트림의 라이브 인코딩을 수행할지 여부를 지정할 수 있습니다. 다음 두 가지 옵션을 사용할 수 있습니다.

* **없음** – 다중 비트 전송률 스트림(통과 스트림)을 출력할 온-프레미스 라이브 인코더를 사용할 계획인 경우 이 값을 지정합니다. 이 경우 들어오는 스트림이 인코딩 없이 출력으로 전달됩니다. 이것이 2.10 릴리스 이전의 채널 동작입니다.  이 형식의 채널 작업에 대한 자세한 내용은 [다중 비트 전송률 스트림을 만드는 온-프레미스 인코더를 사용한 라이브 스트리밍](media-services-live-streaming-with-onprem-encoders.md)을 참조하세요.
* **표준** – Media Services를 사용하여 단일 비트 전송률 라이브 스트림을 다중 비트 전송률 스트림으로 인코딩할 계획인 경우 이 값을 선택합니다. 라이브 인코딩의 청구 영향이 있고 라이브 인코딩 채널을 "실행 중" 상태로 두면 요금이 청구됨을 기억해야 합니다.  시간당 추가 요금 청구를 방지하려면 라이브 스트리밍 이벤트가 완료된 직후 실행 중인 채널을 중지하는 것이 좋습니다.

> [!NOTE]
> 이 항목에서는 라이브 인코딩을 수행할 수 있는 채널의 특성에 대해 설명합니다(**표준** 인코딩 형식). 라이브 인코딩을 수행할 수 없는 채널 작업에 대한 자세한 내용은 [다중 비트 전송률 스트림을 만드는 온-프레미스 인코더를 사용한 라이브 스트리밍](media-services-live-streaming-with-onprem-encoders.md)을 참조하세요.
> 
> [고려 사항](media-services-manage-live-encoder-enabled-channels.md#Considerations) 섹션을 검토해야 합니다.
> 
> 

## <a name="billing-implications"></a>요금 청구
라이브 인코딩 채널은 상태가 API를 통한 "실행 중"으로 전환되면 그 즉시 청구되기 시작됩니다.   또한 Azure Portal 또는 Azure Media Services 탐색기 도구(https://aka.ms/amse)에서 상태를 볼 수도 있습니다.

다음 표에서는 채널 상태가 API 및 Azure Portal에서 청구 상태에 매핑되는 방식을 보여줍니다. API와 포털 UX의 상태는 서로 약간 다릅니다. 채널이 API를 통한 "실행 중" 상태 또는 Azure Portal의 "준비" 또는 "스트리밍" 상태에 있는 한, 요금이 청구됩니다.
채널이 요금을 청구하지 못하게 하려면 API를 통해 또는 Azure Portal에서 채널을 중지해야 합니다.
라이브 인코딩 채널의 작업이 끝나면 채널을 중지할 책임이 있습니다.  인코딩 채널을 중지하지 않으면 요금이 계속 청구됩니다.

### <a id="states"></a>채널 상태 및 상태가 청구 모드에 매핑되는 방식
채널의 현재 상태입니다. 가능한 값은 다음과 같습니다.

* **중지됨**. 이는 채널을 만든 후 초기 상태입니다(포털에서 자동 시작을 선택하지 않은 경우). 이 상태에서는 요금이 청구되지 않습니다. 이 상태에서 채널 속성을 업데이트할 수 있지만 스트리밍은 허용되지 않습니다.
* **시작 중**. 채널이 시작 중입니다. 이 상태에서는 요금이 청구되지 않습니다. 이 상태에서는 업데이트 또는 스트리밍이 허용되지 않습니다. 오류가 발생하는 경우 채널이 중단된 상태를 반환합니다.
* **실행 중**. 라이브 스트림 처리에 채널을 사용할 수 있습니다. 이제 사용 요금이 청구됩니다. 추가 요금 청구를 방지하기 위해 채널을 중지해야 합니다. 
* **중지 중**. 채널이 중지 중입니다. 이 일시적인 상태에서는 요금이 청구되지 않습니다. 이 상태에서는 업데이트 또는 스트리밍이 허용되지 않습니다.
* **삭제 중**. 채널이 삭제 중입니다. 이 일시적인 상태에서는 요금이 청구되지 않습니다. 이 상태에서는 업데이트 또는 스트리밍이 허용되지 않습니다.

다음 표에서는 채널 상태가 청구 모드에 매핑되는 방식을 보여 줍니다. 

| 채널 상태 | 포털 UI 표시기 | 요금이 청구됩니까? |
| --- | --- | --- |
| 시작 중 |시작 중 |없음(일시적인 상태) |
| 실행 중 |준비(실행 중인 프로그램이 없음)<br/>또는<br/>스트리밍(실행 중인 프로그램이 하나 이상임) |예 |
| 중지 중 |중지 중 |없음(일시적인 상태) |
| 중지됨 |중지됨 |아닙니다. |

### <a name="automatic-shut-off-for-unused-channels"></a>사용하지 않는 채널에 대한 자동 종료
2016년 1월 25일부터 시작하는 Media Services는 장기간 사용하지 않은 상태로 실행된 후 자동으로 채널을 중지하는(라이브 인코딩 사용) 업데이트를 출시했습니다. 이는 활성화된 프로그램이 없고 오랜 시간 동안 입력 기여 피드를 받지 않은 채널에 적용됩니다.

사용하지 않은 기간에 대한 임계값은 명목상 12시간이지만 변경될 수 있습니다.

## <a name="live-encoding-workflow"></a>Live Encoding 워크플로
다음 다이어그램은 채널이 RTMP 또는 부드러운 스트리밍 프로토콜 중 하나로 단일 비트 전송률 스트림을 받은 다음, 다중 비트 전송률 스트림으로 인코딩하는 라이브 스트리밍 워크플로를 나타냅니다. 

![라이브 워크플로][live-overview]

## <a id="scenario"></a>일반적인 라이브 스트리밍 시나리오
다음은 일반적인 라이브 스트리밍 애플리케이션을 만드는 일반적인 단계입니다.

> [!NOTE]
> 현재 라이브 이벤트의 최대 권장 기간은 8시간입니다. 이 기간보다 긴 시간 동안 채널을 실행해야 하는 경우 amslived@microsoft.com에 문의하세요. 라이브 인코딩의 청구 영향이 있고 라이브 인코딩 채널을 "실행 중" 상태로 두면 시간당 요금이 청구됨을 기억해야 합니다.  시간당 추가 요금 청구를 방지하려면 라이브 스트리밍 이벤트가 완료된 직후 실행 중인 채널을 중지하는 것이 좋습니다. 

1. 비디오 카메라를 컴퓨터에 연결합니다. RTMP 또는 부드러운 스트리밍 프로토콜 중 하나로 **단일** 비트 전송률 스트림을 출력할 수 있는 온-프레미스 라이브 인코더를 시작하고 구성합니다. 

    이 단계는 채널을 만든 후에도 수행할 수 있습니다.
2. 채널을 만들고 시작합니다. 
3. 채널 수집 URL을 검색합니다. 

    수집 URL은 스트림을 채널로 보내기 위해 라이브 인코더를 통해 사용됩니다.
4. 채널 미리 보기 URL을 검색합니다. 

    이 URL을 사용하여 채널이 라이브 스트림을 제대로 받고 있는지 확인합니다.
5. 프로그램을 만듭니다. 

    Azure Portal을 사용하는 경우 프로그램을 만들면 자산도 만들어집니다. 

    .NET SDK 또는 REST를 사용하는 경우 자산을 만들고 프로그램을 만들 때 이 자산을 사용하도록 지정해야 합니다. 
6. 프로그램과 연결된 자산을 게시합니다.   

    >[!NOTE]
    >AMS 계정이 만들어질 때 **기본** 스트리밍 엔드포인트는 **중지됨** 상태에서 계정에 추가됩니다. 콘텐츠를 스트리밍하려는 스트리밍 엔드포인트가 **실행** 상태에 있어야 합니다. 

7. 스트리밍 및 보관을 시작할 준비가 되었으면 프로그램을 시작합니다.
8. 필요에 따라 라이브 인코더는 광고를 시작하라는 신호를 받을 수 있습니다. 광고는 출력 스트림에 삽입됩니다.
9. 이벤트 스트리밍 및 보관을 중지할 때마다 프로그램을 중지 합니다.
10. 프로그램을 삭제하고 필요에 따라 자산을 삭제합니다.   

> [!NOTE]
> Live Encoding 채널을 중지하는 것을 잊지 않는 것이 매우 중요합니다. 라이브 인코딩의 시간별 요금 청구가 있고 라이브 인코딩 채널을 "실행 중" 상태로 두면 요금이 청구됨을 기억해야 합니다.  시간당 추가 요금 청구를 방지하려면 라이브 스트리밍 이벤트가 완료된 직후 실행 중인 채널을 중지하는 것이 좋습니다. 
> 
> 

## <a id="channel"></a>채널 입력(수집) 구성
### <a id="Ingest_Protocols"></a>수집 스트리밍 프로토콜
**인코더 형식**이 **표준**으로 설정된 경우 유효한 옵션은 다음과 같습니다.

* 단일 비트 전송률 **RTMP**
* 단일 비트 전송률 **조각화된 MP4** (부드러운 스트리밍)

#### <a id="single_bitrate_RTMP"></a>단일 비트 전송률 RTMP
고려 사항:

* 들어오는 스트림에 다중 비트 전송률 비디오가 포함될 수 없습니다.
* 비디오 스트림의 평균 비트 전송률은 15Mbps 미만이어야 합니다.
* 오디오 스트림의 평균 비트 전송률은 1Mbps 미만이어야 합니다.
* 지원되는 코덱은 다음과 같습니다.
* MPEG-4 AVC / H.264 비디오
* 기준, 기본, 상위 프로필(8비트 4:2:0)
* 상위 10 프로필(10비트 4:2:0)
* 상위 422 프로필(10비트 4:2:2)
* MPEG-2 AAC-LC 오디오
* 모노, 스테레오, 서라운드(5.1, 7.1)
* 44.1kHz 샘플링 주기
* Mpeg-2 스타일 ADTS 패키징
* 권장되는 인코더는 다음과 같습니다.
* Telestream Wirecast
* Flash Media Live Encoder

#### <a name="single-bitrate-fragmented-mp4-smooth-streaming"></a>단일 비트 전송률 조각화된 MP4(부드러운 스트리밍)
일반적인 사용 사례:

Elemental Technologies, Ericsson, Ateme, Envivio와 같은 공급업체의 온-프레미스 라이브 인코더를 사용하여 입력 스트림을 공개 인터넷을 통해 근처의 Azure 데이터 센터에 보냅니다.

고려 사항:

[단일 비트 전송률 RTMP](media-services-manage-live-encoder-enabled-channels.md#single_bitrate_RTMP)와 동일합니다.

#### <a name="other-considerations"></a>기타 고려 사항
* 채널 또는 연결된 프로그램이 실행 중인 동안에는 입력 프로토콜을 변경할 수 없습니다. 다른 프로토콜을 요청하는 경우 각각의 입력 프로토콜에 대한 개별 채널을 만들어야 합니다.
* 들어오는 비디오 스트림의 최대 해상도는 1920x1080이며 인터레이스의 경우 최대 60필드/초이고 프로그레시브의 경우 30프레임/초입니다.

### <a name="ingest-urls-endpoints"></a>수집 URL(엔드포인트)
채널이 라이브 인코더에서 지정하는 입력 엔드포인트(수집 URL)를 제공하므로 해당 인코더는 채널에 스트림을 푸시할 수 있습니다.

채널을 만들면 수집 URL을 가져올 수 있습니다. 이러한 URL을 가져오기 위해 채널이 **실행 중** 상태일 필요는 없습니다. 채널에 데이터 푸시를 시작할 준비가 되면 채널이 **실행 중** 상태여야 합니다. 채널이 데이터 수집을 시작하면 미리 보기 URL을 통해 스트림을 미리 볼 수 있습니다.

SSL 연결을 통한 조각화된 MP4(부드러운 스트리밍) 라이브 스트림 수집 옵션이 있습니다. SSL을 통해 수집하려면 수집 URL을 HTTPS로 업데이트해야 합니다. 현재 AMS는 사용자 지정 도메인을 사용하는 SSL을 지원하지 않습니다.  

### <a name="allowed-ip-addresses"></a>허용된 IP 주소
이 채널에 비디오를 게시하도록 허용된 IP 주소를 정의할 수 있습니다. 허용된 IP 주소는 단일 IP 주소(예: '10.0.0.1'), IP 주소 및 CIDR 서브넷 마스크를 사용하는 IP 범위(예: '10.0.0.1/22') 또는 IP 주소와 점으로 구분된 십진수 서브넷 마스크를 사용하는 IP 범위(예: '10.0.0.1(255.255.252.0)')로 지정할 수 있습니다.

IP 주소가 지정되지 않고 정의된 규칙이 없는 경우 IP 주소가 허용되지 않습니다. 모든 IP 주소를 허용하려면 규칙을 만들고 0.0.0.0/0으로 설정합니다.

## <a name="channel-preview"></a>채널 미리 보기
### <a name="preview-urls"></a>미리 보기 URL
채널은 추가 처리 및 배달 전에 스트림을 미리 보고 확인하는 데 사용하는 미리 보기 엔드포인트(미리 보기 URL)를 제공합니다.

채널을 만들 때 미리 보기 URL을 가져올 수 있습니다. URL을 가져오기 위해 채널이 **실행 중** 상태일 필요는 없습니다.

채널이 데이터 수집을 시작하면 스트림을 미리 볼 수 있습니다.

> [!NOTE]
> 현재 미리 보기 스트림은 지정된 입력 형식에 관계없이 조각화된 MP4(부드러운 스트리밍) 형식으로만 배달될 수 있습니다.  Azure Portal에 호스팅된 플레이어를 사용하여 스트림을 볼 수 있습니다.
> 
> 

### <a name="allowed-ip-addresses"></a>허용된 IP 주소
엔드포인트를 미리 보려면 연결이 허용된 IP 주소를 정의할 수 있습니다. 지정된 IP 주소가 없는 경우 모든 IP 주소가 허용됩니다. 허용된 IP 주소는 단일 IP 주소(예: '10.0.0.1'), IP 주소 및 CIDR 서브넷 마스크를 사용하는 IP 범위(예: '10.0.0.1/22') 또는 IP 주소와 점으로 구분된 십진수 서브넷 마스크를 사용하는 IP 범위(예: '10.0.0.1(255.255.252.0)')로 지정할 수 있습니다.

## <a name="live-encoding-settings"></a>라이브 인코딩 설정
이 섹션에서는 채널의 **Encoding 형식**이 **표준**으로 설정된 경우 채널 내의 라이브 인코더에 대한 설정을 조정하는 방법에 대해 설명합니다.

> [!NOTE]
> 기여 피드에는 단일 오디오 트랙만 포함될 수 있습니다. 여러 오디오 트랙의 수집은 현재 지원되지 않습니다. [온-프레미스 라이브 인코딩](media-services-live-streaming-with-onprem-encoders.md)으로 라이브 인코딩을 수행할 때 여러 오디오 트랙이 포함된 부드러운 스트리밍 프로토콜로 기여 피드를 보낼 수 있습니다.
> 
> 

### <a name="ad-marker-source"></a>광고 표식 원본
광고 표식 신호의 원본을 지정할 수 있습니다. 기본값은 채널 내의 라이브 인코더가 비동기 **광고 표식 API**를 수신해야 함을 나타내는 **Api**입니다.

### <a name="cea-708-closed-captions"></a>CEA 708 선택 캡션
들어오는 비디오의 모든 CEA 708 캡션 데이터를 무시하도록 라이브 인코더에 지시하는 선택적 플래그입니다. 플래그를 false(기본값)로 설정하면 인코더가 CEA 708 데이터를 검색하고 출력 비디오 스트림에 다시 삽입합니다.

#### <a name="index"></a>인덱스
SPTS(단일 프로그램 전송 스트림)로 보내는 것이 좋습니다. 입력 스트림에 여러 프로그램이 포함된 경우 채널 내의 라이브 인코더는 입력의 PMT(프로그램 맵 테이블)를 구문 분석하고 스트림 형식 이름이 MPEG-2 AAC ADTS, AC-3 System-A, AC-3 System-B, MPEG-2 개인 PES, MPEG-1 오디오, MPEG-2 오디오인 입력을 식별하여 PMT에 지정된 순서로 정렬합니다. 해당 정렬의 n번째 항목을 선택하기 위해 0부터 시작하는 인덱스가 사용됩니다.

#### <a name="language"></a>언어
ENG와 같은 ISO 639-2를 따르는 오디오 스트림의 언어 식별자입니다. 없는 경우 기본값은 UND(정의되지 않음)입니다.

### <a id="preset"></a>시스템 기본 설정
이 채널 내의 라이브 인코더에서 사용할 기본 설정을 지정합니다. 현재 허용되는 유일한 값은 **Default720p** (기본값)입니다.

사용자 지정 기본 설정이 필요한 경우 amslived@microsoft.com으로 문의해야 합니다.

**Default720p**는 비디오를 다음 6개 계층으로 인코딩합니다.

#### <a name="output-video-stream"></a>출력 비디오 스트림

| 비트 전송률 | 너비 | 높이 | MaxFPS | 프로필 | 출력 스트림 이름 |
| --- | --- | --- | --- | --- | --- |
| 3500 |1280 |720 |30 |높음 |Video_1280x720_3500kbps |
| 2200 |960 |540 |30 |높음 |Video_960x540_2200kbps |
| 1350 |704 |396 |30 |높음 |Video_704x396_1350kbps |
| 850 |512 |288 |30 |높음 |Video_512x288_850kbps |
| 550 |384 |216 |30 |높음 |Video_384x216_550kbps |
| 200 |340 |192 |30 |높음 |Video_340x192_200kbps |

#### <a name="output-audio-stream"></a>출력 오디오 스트림

오디오가 128kbps, 샘플링 속도 48kHz로 스테레오 AAC-LC로 인코딩됩니다.

## <a name="signaling-advertisements"></a>광고 신호 보내기
채널이 Live Encoding을 사용하도록 설정된 경우 파이프라인에 비디오를 처리하는 구성 요소가 있으며 이 구성 요소를 조작할 수 있습니다. 슬레이트 및/또는 광고를 나가는 적응 비트 전송률 스트림에 삽입하도록 채널에 신호를 보낼 수 있습니다. 슬레이트는 특정한 경우(예: 중간 광고 중)에 입력 라이브 피드를 숨기는 데 사용할 수 있는 정지 이미지입니다. 광고 신호는 적절한 시간에 광고로 전환하는 등의 특별한 작업을 수행하도록 비디오 플레이어에 지시하기 위해 나가는 스트림에 포함하는 시간이 동기화된 신호입니다. 이 목적을 위해 사용되는 SCTE-35 신호 메커니즘의 개요는 이 [블로그](https://codesequoia.wordpress.com/2014/02/24/understanding-scte-35/) 를 참조하세요. 다음은 라이브 이벤트에서 구현할 수 있는 일반적인 시나리오입니다.

1. 이벤트가 시작되기 전에 시청자가 사전 이벤트 이미지를 보게 합니다.
2. 이벤트가 끝난 후에 시청자가 사후 이벤트 이미지를 보게 합니다.
3. 이벤트 중에 문제가 발생한 경우(경기장의 정전 등) 시청자가 오류 이벤트 이미지를 보게 합니다.
4. 중간 광고 중에 라이브 이벤트 피드를 숨기기 위해 중간 광고 이미지를 보냅니다.

다음은 광고를 신호로 보낼 때 설정할 수 있는 속성입니다. 

### <a name="duration"></a>기간
중간 광고의 기간(초)입니다. 중간 광고를 시작하려면 이 값이 0이 아닌 양수여야 합니다. 중간 광고가 진행 중인 경우 기간이 0으로 설정되어 있고 CueId가 진행 중인 중간 광고와 일치하면 해당 중간 광고가 취소됩니다.

### <a name="cueid"></a>CueId
적절한 작업을 수행하기 위해 다운스트림 애플리케이션에서 사용할 중간 광고의 고유 ID입니다. 양의 정수여야 합니다. 이 값을 임의의 양의 정수로 설정하거나 업스트림 시스템을 사용하여 큐 ID를 추적할 수 있습니다. API를 통해 제출하기 전에 모든 ID를 양의 정수로 정규화해야 합니다.

### <a name="show-slate"></a>슬레이트 표시
선택 사항입니다. 중간 광고 중에 [기본 슬레이트](media-services-manage-live-encoder-enabled-channels.md#default_slate) 이미지로 전환하고 들어오는 비디오 피드를 숨기도록 라이브 인코더에 신호를 보냅니다. 슬레이트 중에는 오디오도 음소거됩니다. 기본값은 **false**입니다. 

사용되는 이미지는 채널을 만들 때 기본 슬레이트 자산 ID 속성을 통해 지정된 이미지입니다. 슬레이트는 표시 이미지 크기에 맞게 확장됩니다. 

## <a name="insert-slate--images"></a>슬레이트 이미지 삽입
슬레이트 이미지로 전환하도록 채널 내의 라이브 인코더에 신호를 보낼 수 있습니다. 진행 중인 슬레이트를 종료하도록 신호를 보낼 수도 있습니다. 

중간 광고 시간과 같은 특정한 상황에 슬레이트 이미지로 전환하고 들어오는 비디오 신호를 숨기도록 라이브 인코더를 구성할 수 있습니다. 이러한 슬레이트를 구성하지 않는 경우 입력 비디오가 해당 중간 광고 중에 마스킹되지 않습니다.

### <a name="duration"></a>기간
슬레이트의 기간(초)입니다. 슬레이트를 시작하려면 이 값이 0이 아닌 양수여야 합니다. 진행 중인 슬레이트가 있는 경우 기간을 0으로 지정하면 진행 중인 슬레이트가 종료됩니다.

### <a name="insert-slate-on-ad-marker"></a>광고 표식에서 슬레이트 삽입
이 설정은 true로 설정되면 중간 광고 중에 슬레이트 이미지를 삽입하도록 라이브 인코더를 구성합니다. 기본값은 true입니다. 

### <a id="default_slate"></a>기본 슬레이트 자산 ID

선택 사항입니다. 슬레이트 이미지를 포함하는 Media Services 자산의 자산 ID를 지정합니다. 기본값은 null입니다. 


> [!NOTE] 
> 채널을 만들기 전에 다음 제약 조건이 있는 슬레이트 이미지가 전용 자산(다른 파일이 이 자산에 없어야 함)으로 업로드되어야 합니다. 이 이미지는 라이브 인코더가 광고 재생으로 인해 슬레이트를 삽입하는 경우 또는 슬레이트를 삽입하라는 명시적인 신호를 받은 경우에만 사용됩니다. 현재는 라이브 인코더가 이러한 '입력 신호 손실' 상태가 될 때 사용자 지정 이미지를 사용할 수 있는 방법이 없습니다. [여기](https://feedback.azure.com/forums/169396-azure-media-services/suggestions/10190457-define-custom-slate-image-on-a-live-encoder-channel)서 이 기능에 대해 투표할 수 있습니다.


* 최대 1920x1080 해상도.
* 최대 3MB 크기.
* 파일 이름에는 *.jpg 확장명이 있어야 합니다.
* 이미지는 자산의 유일한 자산 파일로 해당 자산에 업로드되어야 하고 이 자산 파일은 기본 파일로 표시되어야 합니다. 자산은 암호화된 저장소일 수 없습니다.

**기본 슬레이트 자산 ID**를 지정하지 않고 **광고 표식에서 슬레이트 삽입**을 **true**로 설정하는 경우 기본 Azure Media Services 이미지가 입력 비디오 스트림을 숨기는 데 사용됩니다. 슬레이트 중에는 오디오도 음소거됩니다. 

## <a name="channels-programs"></a>채널의 프로그램
채널은 라이브 스트림에서 세그먼트의 게시 및 저장소를 제어할 수 있는 프로그램과 연결되어 있습니다. 채널은 프로그램을 관리합니다. 채널 및 프로그램 관계는 기존 미디어와 매우 유사하여 채널에는 일정한 콘텐츠 스트림이 있고 프로그램 범위는 해당 채널에 있는 일부 시간 제한 이벤트로 지정됩니다.

**보관 창** 길이를 설정하여 프로그램에 대해 기록된 콘텐츠를 유지할 시간을 지정할 수 있습니다. 이 값은 최소 5분에서 최대 25시간 사이로 설정할 수 있습니다. 또한 보관 창 길이는 클라이언트가 현재 라이브 위치에서 이전 시간을 검색할 수 있는 최대 시간을 나타냅니다. 프로그램은 지정된 시간 동안 실행되지만 기간 길이보다 늦는 콘텐츠는 계속 삭제됩니다. 또한 이 속성의 값은 클라이언트 매니페스트가 증가할 수 있는 길이를 결정합니다.

각 프로그램은 스트리밍된 콘텐츠를 저장하는 자산과 연결됩니다. 자산은 Azure Storage 계정의 블록 BLOB 컨테이너에 매핑되고 자산의 파일은 해당 컨테이너에 BLOB으로 저장됩니다. 고객이 스트림을 볼 수 있도록 프로그램을 게시하려면 연결된 자산에 대한 주문형 로케이터를 만들어야 합니다. 이 로케이터가 있으면 클라이언트에 제공할 수 있는 스트리밍 URL을 작성할 수 있습니다.

채널은 동시 실행 프로그램을 최대 세 개까지 지원하므로 동일한 들어오는 스트림의 보관 파일을 여러 개 만들 수 있습니다. 따라서 이벤트의 여러 부분을 필요에 따라 게시하고 보관할 수 있습니다. 예를 들어 비즈니스 요구 사항에 따라 6시간의 프로그램을 보관하고 마지막 10분만 브로드캐스트해야 할 수 있습니다. 이렇게 하려면 두 개의 동시 실행 프로그램을 만들어야 합니다. 한 프로그램은 6시간의 이벤트를 보관하도록 설정하고 프로그램은 게시하지 않습니다. 다른 프로그램은 10분 동안을 보관하도록 설정하고 프로그램을 게시합니다.

새 이벤트에 기존 프로그램을 다시 사용할 수 없습니다. 대신 프로그래밍 라이브 스트리밍 애플리케이션 섹션에서 설명한 각각의 이벤트에 대한 새 프로그램을 만들고 시작합니다.

스트리밍 및 보관을 시작할 준비가 되었으면 프로그램을 시작합니다. 이벤트 스트리밍 및 보관을 중지할 때마다 프로그램을 중지 합니다. 

보관된 콘텐츠를 삭제하려면 프로그램을 중단 및 삭제한 다음 연결된 자산을 삭제합니다. 프로그램이 자산을 사용하는 경우 삭제할 수 없습니다. 프로그램을 먼저 삭제해야 합니다. 

프로그램을 중단 및 삭제한 다음에도 자산을 삭제하지 않는 한 사용자는 주문형 비디오로 보관된 콘텐츠를 스트림할 수 있어야 합니다.

보관된 콘텐츠를 보관하려는데 스트리밍에 사용할 수 있는 콘텐츠가 없는 경우 스트리밍 로케이터를 삭제합니다.

## <a name="getting-a-thumbnail-preview-of-a-live-feed"></a>라이브 피드의 축소판 그림 미리 보기 가져오기
Live Encoding을 사용하도록 설정한 경우 이제 라이브 피드가 채널에 도달할 때 라이브 피드의 미리 보기를 가져올 수 있습니다. 이 도구는 라이브 피드가 실제로 채널에 도달하고 있는지를 확인하는 데 유용할 수 있습니다. 

## <a id="states"></a>채널 상태 및 상태가 청구 모드에 매핑되는 방식
채널의 현재 상태입니다. 가능한 값은 다음과 같습니다.

* **중지됨**. 만들어진 후 채널의 초기 상태입니다. 이 상태에서 채널 속성을 업데이트할 수 있지만 스트리밍은 허용되지 않습니다.
* **시작 중**. 채널이 시작 중입니다. 이 상태 중에는 업데이트나 스트리밍이 허용되지 않습니다. 오류가 발생하는 경우 채널이 중단된 상태를 반환합니다.
* **실행 중**. 라이브 스트림 처리에 채널을 사용할 수 있습니다.
* **중지 중**. 채널이 중지 중입니다. 이 상태에서는 업데이트 또는 스트리밍이 허용되지 않습니다.
* **삭제 중**. 채널이 삭제 중입니다. 이 상태에서는 업데이트 또는 스트리밍이 허용되지 않습니다.

다음 표에서는 채널 상태가 청구 모드에 매핑되는 방식을 보여 줍니다. 

| 채널 상태 | 포널 UI 표시기 | 청구 여부 |
| --- | --- | --- |
| 시작 중 |시작 중 |없음(일시적인 상태) |
| 실행 중 |준비(실행 중인 프로그램이 없음)<br/>또는<br/>스트리밍(실행 중인 프로그램이 하나 이상 있음) |예 |
| 중지 중 |중지 중 |없음(일시적인 상태) |
| 중지됨 |중지됨 |아닙니다. |

> [!NOTE]
> 현재, 채널 시작 평균 시간은 약 2분이지만 종종 최대 20분 이상 걸릴 수도 있습니다. 채널 다시 설정은 최대 5분까지 걸릴 수 있습니다.
> 
> 

## <a id="Considerations"></a>고려 사항
* **표준** 인코딩 형식의 채널에서 입력 소스/기여도 피드 손실이 발생하는 경우 원본 비디오/오디오를 오류 슬레이트 및 대기로 바꿔 보완합니다. 채널은 입력/기여도 피드가 다시 시작될 때까지 계속 슬레이트를 내보냅니다. 라이브 채널을 2시간 이상 이러한 상태로 두지 않는 것이 좋습니다. 그 후에는 입력 다시 연결 시 채널의 동작이 보장되지 않으며 다시 설정 명령에 대한 응답 동작도 보장되지 않습니다. 채널을 중지하고 삭제한 후 새로 만들어야 합니다.
* 채널 또는 연결된 프로그램이 실행 중인 동안에는 입력 프로토콜을 변경할 수 없습니다. 다른 프로토콜을 요청하는 경우 각각의 입력 프로토콜에 대한 개별 채널을 만들어야 합니다.
* 라이브 인코더를 다시 구성할 때마다 채널에 대해 **Reset** 메서드를 호출합니다. 채널을 다시 설정하기 전에 프로그램을 중단해야 합니다. 채널을 다시 설정한 후 프로그램을 다시 시작합니다.
* 채널이 실행 상태일 때만 중단할 수 있으며 채널의 모든 프로그램이 중단됩니다.
* 기본적으로 Media Services 계정에 5개의 채널만 추가할 수 있습니다. 이는 모든 새 계정에 대한 소프트 할당량입니다. 자세한 내용은 [할당량 및 제한 사항](media-services-quotas-and-limitations.md)을 참조하세요.
* 채널 또는 연결된 프로그램이 실행 중인 동안에는 입력 프로토콜을 변경할 수 없습니다. 다른 프로토콜을 요청하는 경우 각각의 입력 프로토콜에 대한 개별 채널을 만들어야 합니다.
* 채널이 **실행 중** 상태일 때만 청구됩니다. 자세한 내용은 [이](media-services-manage-live-encoder-enabled-channels.md#states) 섹션을 참조하세요.
* 현재 라이브 이벤트의 최대 권장 기간은 8시간입니다. 이 기간보다 긴 시간 동안 채널을 실행해야 하는 경우 amslived@microsoft.com에 문의하세요.
* 콘텐츠를 스트림하려는 스트리밍 엔드포인트가 **실행** 상태인지 확인합니다.
* 인코딩 사전 설정에서 "최대 프레임 속도" 30fps의 개념을 사용합니다. 입력이 60fps/59.94i이면 입력 프레임이 30/29.97fps로 드롭/디인터레이스됩니다. 입력이 50fps/50i이면 입력 프레임이 25fps로 드롭/디인터레이스됩니다. 입력이 25fps이면 출력이 25fps를 유지합니다.
* 작업이 끝나면 채널을 중지하는 것을 잊지 마세요. 그렇지 않으면 요금이 계속 청구됩니다.

## <a name="known-issues"></a>알려진 문제
* 채널 시작 시간은 평균 2분으로 향상되었지만 종종 여전히 최대 20분 이상 정도 걸리기도 합니다.
* 슬레이트 이미지는 [여기](media-services-manage-live-encoder-enabled-channels.md#default_slate)설명된 제한 사항을 따라야 합니다. 1920x1080보다 큰 기본 슬레이트를 사용하여 채널을 만들려고 하면 결국 요청이 오류로 처리됩니다.
* 다시 한번 강조하지만, 작업이 끝나면 채널을 중지하는 것을 잊지 마세요. 그렇지 않으면 요금이 계속 청구됩니다.

## <a name="next-step"></a>다음 단계
Media Services 학습 경로를 검토합니다.

[!INCLUDE [media-services-learning-paths-include](../../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a>피드백 제공
[!INCLUDE [media-services-user-voice-include](../../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a>관련된 항목
[Azure Media Services를 사용하여 라이브 스트리밍 이벤트 제공](media-services-overview.md)

[포털을 사용하여 단일 비트 전송률에서 적응형 비트 전송률 스트림으로 라이브 인코딩을 수행하는 채널 만들기](media-services-portal-creating-live-encoder-enabled-channel.md)

[.NET SDK를 사용하여 단일 비트 전송률에서 적응 비트 전송률 스트림으로 라이브 인코딩을 수행하는 채널을 만들기](media-services-dotnet-creating-live-encoder-enabled-channel.md)

[REST API를 사용하여 채널 관리](https://docs.microsoft.com/rest/api/media/operations/channel)

[Media Services 개념](media-services-concepts.md)

[Azure Media Services 조각화된 MP4 라이브 수집 사양](media-services-fmp4-live-ingest-overview.md)

[live-overview]: ./media/media-services-manage-live-encoder-enabled-channels/media-services-live-streaming-new.png

