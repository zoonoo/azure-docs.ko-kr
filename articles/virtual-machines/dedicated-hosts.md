---
title: 가상 머신용 Azure Dedicated Host 개요
description: Azure Dedicated Host를 사용하여 가상 머신을 배포하는 방법에 대해 자세히 알아봅니다.
author: cynthn
ms.service: virtual-machines
ms.subservice: dedicated-hosts
ms.topic: conceptual
ms.workload: infrastructure
ms.date: 12/07/2020
ms.author: cynthn
ms.reviewer: zivr
ms.openlocfilehash: 8824ea38121b8f440f1b0ef1f07737f46e8b7295
ms.sourcegitcommit: eda26a142f1d3b5a9253176e16b5cbaefe3e31b3
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/11/2021
ms.locfileid: "109732887"
---
# <a name="azure-dedicated-hosts"></a>Azure Dedicated Host

Azure Dedicated Host는 하나의 Azure 구독 전용 물리적 서버(하나 이상의 가상 머신을 호스트)를 제공하는 서비스입니다. 전용 호스트는 리소스로 제공되는, 데이터 센터에서 사용되는 것과 동일한 물리적 서버입니다. 지역, 가용성 영역 및 장애 도메인 내에서 전용 호스트를 프로비저닝할 수 있습니다. 그런 다음 사용자의 요구에 가장 적합한 구성으로 프로비저닝된 호스트에 직접 VM을 배치할 수 있습니다.


## <a name="benefits"></a>이점

전체 호스트를 예약하면 다음과 같은 이점이 있습니다.

-   물리적 서버 수준에서 하드웨어 격리. 다른 VM이 호스트에 배치되지 않습니다. 전용 호스트는 동일한 데이터 센터에 배포되며, 동일한 네트워크 및 기본 스토리지 인프라를 격리되지 않은 다른 호스트로 공유합니다.
-   Azure 플랫폼에서 시작된 유지 관리 이벤트 제어. 대부분의 유지 관리 이벤트는 가상 머신에 거의 영향을 주지 않지만 1 초의 일시 중지라도 영향을 줄 수 있는 중요한 워크로드가 있습니다. 전용 호스트를 사용하면 유지 관리 기간에 옵트인하여 서비스에 미치는 영향을 줄일 수 있습니다.
-   Azure 하이브리드 혜택을 통해 Windows 및 SQL에 대한 자체 라이선스를 Azure로 가져올 수 있습니다. 하이브리드 혜택을 사용하면 추가 혜택이 제공됩니다. 자세한 내용은 [Azure 하이브리드 혜택](https://azure.microsoft.com/pricing/hybrid-benefit/)을 참조하세요.


## <a name="groups-hosts-and-vms"></a>그룹, 호스트 및 VM

![전용 호스트의 새 리소스 보기](./media/virtual-machines-common-dedicated-hosts/dedicated-hosts2.png)

**호스트 그룹** 은 전용 호스트의 모음을 나타내는 리소스입니다. 영역 및 가용성 영역에서 호스트 그룹을 만들고 여기에 호스트를 추가합니다.

**호스트** 는 Azure 데이터 센터의 물리적 서버에 매핑된 리소스입니다. 호스트가 만들어질 때 물리적 서버가 할당됩니다. 호스트는 호스트 그룹 내에 만들어집니다. 호스트에는 만들 수 있는 VM 크기를 설명하는 SKU가 있습니다. 각 호스트는 같은 크기의 시리즈에 속하는 서로 다른 크기의 여러 VM을 호스팅할 수 있습니다.


## <a name="high-availability-considerations"></a>고가용성 고려 사항

고가용성을 위해 여러 호스트(최소 2개)에 분산된 여러 VM을 배포해야 합니다. Azure Dedicated Host를 사용하면 인프라를 프로비전하여 오류 격리 경계를 형성하는 여러 옵션이 있습니다.

### <a name="use-availability-zones-for-fault-isolation"></a>오류 격리를 위해 가용성 영역 사용

가용성 영역은 Azure 지역 내의 고유한 물리적 위치입니다. 각 영역은 독립된 전원, 냉각 및 네트워킹을 갖춘 하나 이상의 데이터 센터로 구성됩니다. 호스트 그룹은 단일 가용성 영역에 만들어집니다. 일단 만들어지면 모든 호스트가 해당 영역 내에 배치됩니다. 영역 간에 고가용성을 달성하려면 여러 호스트 그룹(영역당 하나씩)을 만들고 그에 따라 호스트를 분산해야 합니다.

가용성 영역에 호스트 그룹을 할당하는 경우 해당 호스트에서 만든 모든 VM을 동일한 영역에 만들어야 합니다.

### <a name="use-fault-domains-for-fault-isolation"></a>오류 격리에 장애 도메인 사용

특정 장애 도메인에서 호스트를 만들 수 있습니다. 확장 집합 또는 가용성 집합의 VM과 마찬가지로 다른 장애 도메인의 호스트는 데이터 센터의 다른 물리적 랙에 배치됩니다. 호스트 그룹을 만들 때 장애 도메인 수를 지정해야 합니다. 호스트 그룹 내에 호스트를 만들 때 각 호스트에 대해 장애 도메인을 할당합니다. VM에는 장애 도메인 할당이 필요하지 않습니다.

장애 도메인은 공동 배치와 다릅니다. 두 호스트에 대해 동일한 장애 도메인이 있다고 해서 이들 호스트가 서로 근접해 있는 것은 아닙니다.

장애 도메인은 호스트 그룹으로 범위가 지정됩니다. 두 호스트 그룹 간의 반선호도에 대해 어떠한 가정도 해서는 안 됩니다(다른 가용성 영역에 있지 않은 경우).

다른 장애 도메인이 있는 호스트에 배포된 VM은 여러 스토리지 스탬프에 기본 관리 디스크 서비스를 두어 오류 격리 보호를 강화합니다.

### <a name="using-availability-zones-and-fault-domains"></a>가용성 영역 및 장애 도메인 사용

두 기능을 함께 사용하여 더 많은 오류를 격리할 수 있습니다. 이 경우 각 호스트 그룹에 대해 가용성 영역과 장애 도메인 수를 지정하고, 그룹의 각 호스트에 장애 도메인을 할당하고, 각 VM에 가용성 영역을 할당합니다.

[여기](https://github.com/Azure/azure-quickstart-templates/blob/master/quickstarts/microsoft.compute/vm-dedicated-hosts/README.md)에 있는 Resource Manager 샘플 템플릿은 영역 및 장애 도메인을 사용하여 지역의 최대 복원력을 위해 호스트를 분산합니다.


## <a name="manual-vs-automatic-placement"></a>수동 및 자동 배치

Azure에서 VM을 만들 때 사용할 전용 호스트를 선택할 수 있습니다. 호스트 그룹 내의 기존 호스트에 VM을 자동으로 배치하는 옵션도 사용할 수 있습니다.

새 호스트 그룹을 만들 때 자동 VM 배치 설정이 선택되어 있는지 확인 합니다. VM을 만들 때 호스트 그룹을 선택하고 Azure에서 VM에 가장 적합한 호스트를 선택하도록 합니다.

자동 배치를 사용하도록 설정 된 호스트 그룹의 경우 모든 VM을 자동으로 배치할 필요는 없습니다. 호스트 그룹에 대해 자동 배치를 선택하는 경우에도 호스트를 명시적으로 선택할 수 있습니다.

### <a name="limitations"></a>제한 사항

자동 VM 배치를 사용하는 경우 알려진 문제 및 제한 사항:

- 전용 호스트에는 Azure 하이브리드 혜택을 적용할 수 없습니다.
- VM을 다시 배포할 수 없습니다.
- 전용 호스트가 있는 Lsv2, NVasv4, NVsv3, Msv2 또는 M 시리즈 VM을 사용할 수 없습니다.


## <a name="virtual-machine-scale-set-support"></a>가상 머신 확장 집합 지원

가상 머신 확장 집합을 사용하면 가상 머신 그룹을 단일 리소스로 처리하고 가용성, 관리, 크기 조정 및 오케스트레이션 정책을 그룹으로 적용할 수 있습니다. 기존 전용 호스트를 가상 머신 확장 집합에 사용할 수도 있습니다.

가상 머신 확장 집합을 만들 때 전용 호스트에 모든 VM 인스턴스를 만들도록 기존 호스트 그룹을 지정할 수 있습니다.

전용 호스트 그룹에서 가상 머신 확장 집합을 만들 때 다음과 같은 요구 사항이 적용됩니다.

- 자동 VM 배치를 사용하도록 설정해야 합니다.
- 호스트 그룹의 가용성 설정이 확장 집합과 일치해야 합니다.
    - 지역 확장 집합에는 지역 호스트 그룹(가용성 영역을 지정하지 않고 만듦)을 사용해야 합니다.
    - 호스트 그룹과 확장 집합은 동일한 가용성 영역을 사용해야 합니다.
    - 호스트 그룹 수준의 장애 도메인 수는 확장 집합의 장애 도메인 수와 일치해야 합니다. Azure Portal을 사용하면 확장 집합에 대해 *최대 분산* 을 지정할 수 있으며, 이는 장애 도메인 수를 1로 설정합니다.
- 충분한 용량과 확장 집합 영역 및 장애 도메인에 대한 동일한 설정으로 전용 호스트를 먼저 만들어야 합니다.
- 전용 호스트에 지원되는 VM 크기는 확장 집합에 사용되는 크기와 일치해야 합니다.

모든 확장 집합 오케스트레이션 및 최적화 설정이 전용 호스트에서 지원되는 것은 아닙니다. 확장 집합에 다음 설정을 적용합니다.
- 오버프로비전은 권장되지 않으며 기본적으로 사용하지 않도록 설정됩니다. 오버프로비저닝을 사용하도록 설정할 수 있지만, 호스트 그룹에 오버프로비전된 인스턴스를 포함하여 모든 VM에 대한 용량이 없는 경우 확장 집합 할당이 실패합니다.
- ScaleSetVM 오케스트레이션 모드 사용
- 공동 배치에 근접 배치 그룹을 사용하지 않습니다.



## <a name="maintenance-control"></a>유지 관리 제어

안정성, 성능, 보안을 개선하고 새로운 기능을 시작하기 위해 가상 머신을 지원하는 인프라가 때때로 업데이트될 수 있습니다. Azure 플랫폼은 가능하면 플랫폼 유지 관리의 영향을 최소화하려고 하지만 *유지 관리가 중요한* 워크로드가 있는 고객은 유지 관리를 위해 VM을 중지하거나 연결을 끊어야 하는 몇 초도 용인할 수 없습니다.

**유지 관리 제어** 는 고객에게 전용 호스트에서 예약된 정기 플랫폼 업데이트를 건너뛰고 35일의 롤링 기간 내에 선택한 시간에 업데이트를 적용할 수 있는 옵션을 제공합니다. 유지 관리 기간 내에서 순서에 관계없이 호스트 수준에서 직접 유지 관리를 적용할 수 있습니다. 유지 관리 기간이 끝나면 Microsoft는 계속해서 사용자 정의 장애 도메인을 따르지 않을 수 있는 순서로 호스트에 보류 중인 유지 관리를 적용합니다.

자세한 내용은 [유지 관리 제어를 통한 플랫폼 업데이트 관리](./maintenance-control.md)를 참조하세요.

## <a name="capacity-considerations"></a>용량 고려 사항

전용 호스트가 프로비전되면 Azure는 이를 물리적 서버에 할당합니다. 이렇게 하면 VM을 프로비전해야 할 때 용량의 가용성이 보장됩니다. Azure는 지역 또는 영역의 전체 용량을 사용하여 호스트에 대한 물리적 서버를 선택합니다. 또한 고객은 클러스터 공간 부족에 대해 걱정하지 않고 전용 호스트 공간을 늘릴 수 있습니다.

## <a name="quotas"></a>할당량

전용 호스트를 배포할 때 사용되는 두 가지 형식의 할당량이 있습니다.

1. 전용 호스트 vCPU 할당량. 기본 할당량 한도는 지역당 vCPU 3,000개입니다.
1. VM 크기 패밀리 할당량. 예를 들어 **종량제** 구독의 경우 미국 동부 지역에서 Dsv3 크기 시리즈에 사용할 수 있는 vCPU 10개의 할당량만 가능합니다. Dsv3 전용 호스트를 배포하려면 vCPU 64개 이상으로 할당량 증가를 요청해야 전용 호스트를 배포할 수 있습니다.

할당량 증가를 요청하려면 [Azure Portal](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/newsupportrequest)에서 지원 요청을 만듭니다.

전용 호스트를 프로비저닝하면 전용 호스트 vCPU와 VM 패밀리 vCPU 할당량이 모두 사용되지만 지역 vCPU는 사용되지 않습니다.


![포털의 사용 및 할당량 페이지 스크린샷](./media/virtual-machines-common-dedicated-hosts/quotas.png)

자세한 내용은 [가상 머신 vCPU 할당량](./windows/quotas.md)을 참조하세요.

평가판과 MSDN 구독의 경우 Azure 전용 호스트에 대한 할당량이 없습니다.

## <a name="pricing"></a>가격 책정

배포되는 VM 수에 관계없이 사용자에게 전용 호스트당 요금이 부과됩니다. 월별 명세서에 청구 가능한 새로운 리소스 종류의 호스트가 표시됩니다. 전용 호스트의 VM은 여전히 명세서에 표시되지만 가격은 0입니다.

호스트 가격은 VM 패밀리, 형식(하드웨어 크기) 및 지역을 기준으로 설정됩니다. 호스트 가격은 호스트에서 지원되는 최대 VM 크기를 기준으로 합니다.

소프트웨어 라이선스, 스토리지 및 네트워크 사용량은 호스트 및 VM과 별도로 요금이 청구됩니다. 청구 가능한 항목에는 변경 사항이 없습니다.

자세한 내용은 [Azure Dedicated Host 가격 책정](https://aka.ms/ADHPricing)을 참조하세요.

[Azure Dedicated Host의 예약 인스턴스](prepay-dedicated-hosts-reserved-instances.md)를 사용하여 비용을 절감할 수도 있습니다.

## <a name="sizes-and-hardware-generations"></a>크기 및 하드웨어 세대

SKU는 호스트에 대해 정의되며 VM 크기 시리즈와 형식을 나타냅니다. 동일한 크기 시리즈에 속하는 경우 단일 호스트 내에서 크기가 다른 여러 VM을 혼합할 수 있습니다.

*형식* 은 하드웨어 세대입니다. 동일한 VM 시리즈에 대해 다양한 하드웨어 형식이 여러 CPU 공급업체에서 제공되며 서로 다른 CPU 세대 및 코어 수를 갖습니다.

크기와 하드웨어 형식은 지역에 따라 다릅니다. 자세히 알아보려면 호스트 [가격 책정 페이지](https://aka.ms/ADHPricing)를 참조하세요.

> [!NOTE]
> 전용 호스트가 프로비전되면 크기 또는 형식을 변경할 수 없습니다. 다른 크기의 형식이 필요한 경우 새 호스트를 만들어야 합니다.

## <a name="host-life-cycle"></a>호스트 수명 주기


Azure는 호스트의 상태를 모니터하고 관리합니다. 호스트를 쿼리할 때 반환되는 상태는 다음과 같습니다.

| 성능 상태   | Description       |
|----------|----------------|
| 호스트 사용 가능     | 호스트와 관련하여 알려진 문제가 없습니다.   |
| 확인 중인 호스트  | 호스트에 조사 중인 몇 가지 문제가 있습니다. 이는 Azure에서 식별된 문제의 범위와 근본 원인을 확인하고 파악하는 데 필요한 전환 상태입니다. 호스트에서 실행되는 가상 머신은 영향을 받을 수 있습니다. |
| 할당 취소 보류 중인 호스트   | Azure는 호스트를 다시 정상 상태로 복원할 수 없으며 이 호스트에서 가상 머신을 다시 배포하도록 요청할 수 없습니다. `autoReplaceOnFailure`를 사용하도록 설정하면 가상 머신이 정상 하드웨어로 *서비스 복구* 됩니다. 그렇지 않으면 가상 머신이 실패할 호스트에서 실행 중일 수 있습니다.|
| 호스트 할당 취소됨  | 모든 가상 머신이 호스트에서 제거되었습니다. 하드웨어가 순환에서 제외되었으므로 더 이상 이 호스트에 대한 비용이 청구되지 않습니다.   |


## <a name="next-steps"></a>다음 단계

- [Azure PowerShell](./windows/dedicated-hosts-powershell.md), [포털](./dedicated-hosts-portal.md) 및 [Azure CLI](./linux/dedicated-hosts-cli.md)를 사용하여 전용 호스트를 배포할 수 있습니다.

- 지역의 복원력을 극대화하기 위해 영역 및 장애 도메인을 모두 사용하는 샘플 템플릿을 [여기](https://github.com/Azure/azure-quickstart-templates/blob/master/quickstarts/microsoft.compute/vm-dedicated-hosts/README.md)에서 확인할 수 있습니다.

- [Azure Dedicated Host의 예약 인스턴스](prepay-dedicated-hosts-reserved-instances.md)를 사용하여 비용을 절감할 수도 있습니다.
