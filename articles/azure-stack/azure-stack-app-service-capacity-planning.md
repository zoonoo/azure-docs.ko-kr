---
title: Azure 앱 서비스 서버 역할에 Azure 스택을 위한 용량 계획 | Microsoft Docs
description: Azure 앱 서비스 서버 역할에 Azure 스택을 위한 용량 계획
services: azure-stack
documentationcenter: ''
author: brenduns
manager: femila
editor: ''
ms.assetid: ''
ms.service: azure-stack
ms.workload: app-service
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2018
ms.author: brenduns
ms.reviewer: anwestg
ms.openlocfilehash: 8926955d5e0260b5971e07b6988bb21df9980847
ms.sourcegitcommit: d87b039e13a5f8df1ee9d82a727e6bc04715c341
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/21/2018
ms.locfileid: "29388586"
---
# <a name="capacity-planning-for-azure-app-service-server-roles-in-azure-stack"></a>Azure 앱 서비스 서버 역할에 Azure 스택을 위한 용량 계획
*적용 대상: Azure 스택 통합 시스템과 Azure 스택 개발 키트*

Azure 스택 앱 서비스를 Azure의 프로덕션 준비 배포를 프로 비전 하려면 지원 하기 위해 시스템 예상 용량 계획 해야 합니다.  다음은 최소 인스턴스 및 모든 프로덕션 배포에 사용 해야 하는 Sku 계산에 대 한 지침입니다.

이러한 지침을 사용 하 여 앱 서비스 용량 전략을 계획할 수 있습니다. 이후 버전의 Azure 스택 앱 서비스에 대 한 고가용성 옵션을 제공 합니다.

| 앱 서비스 서버 역할 | 최소 인스턴스 수를 권장 합니다. | 권장된 계산 SKU|
| --- | --- | --- |
| Controller | 2 | A1 |
| 프런트 엔드 | 2 | A1 |
| 관리 | 2 | A3 |
| 게시자 | 2 | A1 |
| 공유 웹 작업자- | 2 | A1 |
| 전용-웹 작업자 | 계층 당 2 개 | A1 |

## <a name="controller-role"></a>컨트롤러 역할

**권장 되는 최소**: A1 표준의 두 인스턴스

Azure 앱 서비스 컨트롤러 일반적으로 CPU, 메모리 및 네트워크 리소스 사용을 적습니다. 그러나 고가용성을 위해 두 명의 컨트롤러가 있어야 합니다. 두 명의 컨트롤러는 허용 되는 컨트롤러의 최대 수 또한입니다. 만들면 두 번째 웹 사이트 컨트롤러에서 직접 설치 관리자에서 배포 하는 동안 됩니다.

## <a name="front-end-role"></a>프런트 엔드 역할

**권장 되는 최소**: A1 표준의 두 인스턴스

프런트 엔드 웹 작업자 가용성에 따라 웹 작업자로 요청을 라우팅합니다. 고가용성을 위해 둘 이상의 프런트 엔드가 있어야 하 고 두 개 있을 수 있습니다. 용량 계획 시 각 코어 초당 약 100 개 요청을 처리할 수 하는 것이 좋습니다.

## <a name="management-role"></a>관리 역할

**권장 되는 최소**: A3의 두 인스턴스

Azure 앱 서비스 관리 역할은 응용 프로그램 서비스 Azure 리소스 관리자 및 API 끝점, 포털 확장 (관리, 테 넌 트, 함수 포털) 및 데이터 서비스를 담당 합니다. 관리 서버 역할은 일반적으로 프로덕션 환경에서 4GB RAM에 대 한 필요합니다. 그러나 많은 관리 작업 (예: 웹 사이트 생성)을 수행 하는 경우 높은 CPU 수준이 발생할 수도 있습니다. 고가용성을 위해이 역할에 할당 하는 둘 이상의 서버가 있어야 하 고 서버당 둘 이상의 코어가 키를 누릅니다.

## <a name="publisher-role"></a>게시자 역할

**권장 되는 최소**: A1의 두 인스턴스

많은 사용자가 동시에 게시 하는 게시자 역할 과도 하 게 CPU 사용을 발생할 수 있습니다. 고가용성을 위해 둘 이상의 게시자 역할을 사용할 수 있도록 합니다.  게시자는 FTP/FTPS 트래픽의 처리 됩니다.

## <a name="web-worker-role"></a>웹 작업자 역할

**권장 되는 최소**: A1의 두 인스턴스

고가용성을 위해 4 개 이상의 웹 작업자 역할이 있어야, 공유 웹 사이트 모드에 대 한 두 개, 각 전용된 작업자 계층에 대해 두 개 제공 하려는 합니다. 공유 및 전용된 계산 모드 테 넌 트에 서로 다른 수준의 서비스를 제공합니다. 많은 고객이 있는 경우 추가 웹 작업 자가 할 수도 있습니다.
 - 전용된 계산 모드 작업자 계층 (리소스를 많이 사용)를 사용 하 여
 - 공유 컴퓨팅 모드에서 실행 합니다.

사용자 생성 후에 전용된 계산 모드 앱 서비스 계획은 더 이상 사용할 수 사용자에 게에 지정 된 웹 작업자 수가 SKU에 대 한 앱 서비스 계획 합니다.

Azure 함수 소비 계획 모델에서 사용자를 제공 하려면 공유 웹 작업자를 배포 해야 합니다.

사용 하도록 공유 웹 작업자 역할 수를 결정할 때는 이러한 고려 사항을 검토 합니다.

- **메모리**: 메모리는 웹 작업자 역할에 대 한 가장 중요 한 리소스입니다. 메모리가 부족 하 여 디스크에서 가상 메모리를 바꿀 때 웹 사이트 성능에 영향을 줍니다. 각 서버 운영 체제에 대해 약 1.2 g B ram 필요합니다. 웹 사이트를 실행할 사용이 임계값 이상의 RAM은 수 있습니다.
- **활성 웹 사이트 비율**: 일반적으로 Azure 스택 배포에서 Azure 앱 서비스에서 응용 프로그램의 약 5%가 활성 상태입니다. 그러나 지정된 된 순간에 활성화 된 응용 프로그램의 백분율 높거나 낮을 수 있습니다. Azure 스택 배포에서 Azure 응용 프로그램 서비스에 배치 하는 응용 프로그램의 최대 수 5%의 실행 중인 응용 프로그램 속도 보다 작은:
    - 20 배 활성 웹 사이트 (5 x 20 = 100)의 수입니다.
- **평균 메모리 사용량**: 프로덕션 환경에서 관찰 된 응용 프로그램의 평균 메모리 사용량은 약 70MB입니다. 따라서 모든 웹 작업자 역할 컴퓨터 또는 Vm에 할당 된 메모리는 다음과 같이 계산할 수 있습니다.

    *프로 비전 됨 응용 프로그램 수가 * 70 MB * 5%-(웹 작업자 역할 수 * 1044 MB)*

   예를 들어 웹 작업자 역할 10 개를 실행 하는 환경에서 5, 000 응용 프로그램에 있는 경우 각 웹 작업자 역할 VM 7060MB RAM이 있어야 합니다.

   0.05 * 5,000 * 70-(10 * 1044) 7060 = (= 약 7GB)

   더 많은 작업자 인스턴스를 추가 하는 방법에 대 한 정보를 참조 하십시오. [자세한 작업자 역할 추가](azure-stack-app-service-add-worker-roles.md)합니다.

## <a name="file-server-role"></a>파일 서버 역할

파일 서버 역할에 대 한 개발을 위한 독립 실행형 파일 서버를 사용할 수 있습니다 및 예를 들어 Azure 스택 개발 키트에서 Azure 앱 서비스를 배포 하는 경우 테스트를 사용 하 여이 템플릿의 경우-https://aka.ms/appsvconmasdkfstemplate 합니다. 프로덕션 환경에서는 미리 구성 된 Windows 파일 서버 또는 미리 구성 된 비 Windows 파일 서버를 사용 해야 합니다.

프로덕션 환경에서는 파일 서버 역할은 디스크 i/o 사용량이 많습니다. 모든 사용자 웹 사이트에 콘텐츠 및 응용 프로그램 파일을 보관 하기 때문에 미리 구성 해야이 역할에 대해 다음 중 하나:
- Windows 파일 서버
- 파일 서버 클러스터
- 비 Windows 파일 서버
- 파일 서버 클러스터
- 자세한 내용은 NAS (Network Attached Storage) 장치 참조 [파일 서버를 프로 비전](azure-stack-app-service-before-you-get-started.md#prepare-the-file-server)합니다.

## <a name="next-steps"></a>다음 단계

[Azure 스택 앱 서비스를 시작 하기 전에](azure-stack-app-service-before-you-get-started.md)
