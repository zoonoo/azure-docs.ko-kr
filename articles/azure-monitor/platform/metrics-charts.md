---
title: Azure 메트릭 탐색기의 고급 기능
description: Azure Monitor의 고급 기능에 대해 알아봅니다 메트릭 탐색기
author: vgorbenko
services: azure-monitor
ms.topic: conceptual
ms.date: 01/22/2019
ms.author: vitalyg
ms.subservice: metrics
ms.openlocfilehash: 8d15c217f2e65877ea3baa18f6ba847492bc7fa1
ms.sourcegitcommit: eaec2e7482fc05f0cac8597665bfceb94f7e390f
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/29/2020
ms.locfileid: "82509825"
---
# <a name="advanced-features-of-azure-metrics-explorer"></a>Azure 메트릭 탐색기의 고급 기능

> [!NOTE]
> 이 문서에서는 사용자가 메트릭 탐색기의 기본 기능에 대해 잘 알고 있다고 가정 합니다. 새 사용자 인 경우 첫 번째 메트릭 차트를 만드는 방법을 알아보려면 [Azure 메트릭 탐색기 시작](metrics-getting-started.md)을 참조 하세요.

## <a name="metrics-in-azure"></a>Azure의 메트릭

[Azure Monitor의 메트릭](data-platform-metrics.md)은 시간이 지남에 따라 수집되고 저장된 일련의 측정된 값과 수입니다. 표준(또는 "플랫폼") 메트릭 및 사용자 지정 메트릭이 있습니다. 표준 메트릭은 Azure 플랫폼 자체에서 제공됩니다. 표준 메트릭은 Azure 리소스의 상태 및 사용량 통계를 반영합니다. 사용자 지정 메트릭은 [사용자 지정 이벤트 및 메트릭](https://docs.microsoft.com/azure/application-insights/app-insights-api-custom-events-metrics), [WINDOWS Azure 진단 (WAD) 확장](https://docs.microsoft.com/azure/azure-monitor/platform/diagnostics-extension-overview)에 대 한 Application Insights API를 사용 하 여 응용 프로그램에서 Azure로 전송 되거나 [REST API Azure Monitor](https://docs.microsoft.com/azure/azure-monitor/platform/metrics-store-custom-rest-api)됩니다.

## <a name="create-views-with-multiple-metrics-and-charts"></a>여러 메트릭 및 차트를 사용 하 여 뷰 만들기

여러 메트릭 선을 그리거나 여러 메트릭 차트를 한 번에 표시 하는 차트를 만들 수 있습니다. 이 기능을 사용 하면 다음을 수행할 수 있습니다.

- 동일한 그래프에서 관련 메트릭의 상관 관계를 설정 하 여 한 값이 다른 값과 관련 된 방식을 확인 합니다.
- 가까운 근접에서 여러 측정 단위가 포함 된 메트릭 표시
- 여러 리소스의 메트릭을 시각적으로 집계 하 고 비교

예를 들어 5 개의 저장소 계정이 있고 그 사이에 사용 되는 총 공간을 확인 하려는 경우 특정 시점에 모든 값의 개별 및 합계를 표시 하는 (누적) 영역형 차트를 만들 수 있습니다.

### <a name="multiple-metrics-on-the-same-chart"></a>동일한 차트의 여러 메트릭

먼저 [새 차트를 만듭니다](metrics-getting-started.md#create-your-first-metric-chart). **메트릭 추가** 를 클릭 하 고 단계를 반복 하 여 동일한 차트에 다른 메트릭을 추가 합니다.

   > [!NOTE]
   > 일반적으로 하나의 차트에서 다른 단위의 측정값(예: "밀리초" 및 "킬로바이트") 또는 크게 다른 규모를 갖는 메트릭을 사용하지 않습니다. 대신, 여러 차트를 사용하는 것이 좋습니다. [차트 추가] 단추를 클릭하여 메트릭 탐색기에서 여러 개의 차트를 만듭니다.

### <a name="multiple-charts"></a>여러 차트

**차트 추가** 를 클릭 하 고 다른 메트릭을 사용 하 여 다른 차트를 만듭니다.

### <a name="order-or-delete-multiple-charts"></a>여러 차트 순서 또는 삭제

여러 차트를 정렬 하거나 삭제 하려면 줄임표 ( **...** ) 기호를 클릭 하 여 차트 메뉴를 열고 **위로 이동**, **아래로 이동**또는 **삭제**의 적절 한 메뉴 항목을 선택 합니다.

## <a name="changing-aggregation"></a>집계 변경

차트에 메트릭을 추가 하면 메트릭 탐색기가 자동으로 해당 기본 집계를 미리 선택 합니다. 기본 시나리오에서는 기본값이 적합 하지만 다른 집계를 사용 하 여 메트릭에 대 한 추가 정보를 얻을 수 있습니다. 차트에서 다른 집계를 보려면 메트릭 탐색기에서 해당 집계를 처리 하는 방법을 이해 해야 합니다. 

메트릭은 해당 기간 동안 캡처된 일련의 측정값 (또는 "메트릭 값")입니다. 차트를 그리면 선택 된 메트릭의 값이 *시간 세분화*에 대해 개별적으로 집계 됩니다. [메트릭 탐색기 시간 선택 패널을 사용 하 여](metrics-getting-started.md#select-a-time-range)시간 수준 크기를 선택 합니다. 시간 수준을 명시적으로 선택 하지 않으면 현재 선택한 시간 범위에 따라 시간 세분성이 자동으로 선택 됩니다. 시간 수준을 결정 한 후에는 각 시간 수준 간격 중에 캡처된 메트릭 값을 집계 하 여 차트에 배치 합니다 .이 값은 시간당 하나의 포인트 포인트입니다.

예를 들어 **지난 24 시간** 동안 **평균** 집계를 사용 하 여 **서버 응답 시간** 메트릭을 보여 주는 차트가 있다고 가정 합니다.

- 시간 세분성이 30 분으로 설정 된 경우 차트는 48 집계 datapoints에서 그려집니다 (예: 꺾은선형 차트는 차트 그림 영역에서 48 점을 연결). 즉, 시간당 24 시간 x 2 datapoints입니다. 각 포인트는 관련 30 분 동안 발생 한 서버 요청에 대해 캡처된 모든 응답 시간의 *평균* 을 나타냅니다.
- 시간 세분성을 15 분으로 전환 하면 96 집계 datapoints을 얻게 됩니다.  즉, 시간당 24 시간 x 4 datapoints.

메트릭 탐색기에서 사용할 수 있는 5 가지 기본 통계 집계 유형은 **Sum**, **Count**, **Min**, **Max**및 **Average**입니다. **합계** 집계를 **합계** 집계 라고도 합니다. 많은 메트릭에 대해 메트릭 탐색기는 완전히 관련이 없고 사용할 수 없는 집계를 숨깁니다.

- **합계** – 집계 간격에 대해 캡처된 모든 값의 합계입니다.
- **Count** – 집계 간격에 대해 캡처된 측정 수입니다. 메트릭은 항상 값 1을 **사용 하 여** 캡처되는 경우 **Count** 와 같습니다. 이는 메트릭이 고유 이벤트의 수를 추적할 때 일반적 이며, 각 측정은 하나의 이벤트를 나타냅니다 (즉, 새 요청이 들어올 때마다 메트릭 레코드를 실행 하는 코드를 발생 시키는 경우).
- **평균** – 집계 간격에 대해 캡처된 메트릭 값의 평균
- **Min** – 집계 간격에 대해 캡처된 가장 작은 값입니다.
- **Max** – 집계 간격에 대해 캡처된 가장 큰 값입니다.

## <a name="apply-filters-to-charts"></a>차트에 필터 적용

차원을 포함한 메트릭을 보여주는 차트에 필터를 적용할 수 있습니다. 예를 들어 "트랜잭션 수" 메트릭에 차원이 있는 경우 트랜잭션으로부터의 응답 성공 여부를 나타내고 이 차원을 필터링하는 "응답 형식"은 성공적인(또는 실패한) 트랜잭션에 대한 차트 줄을 그립니다. 

### <a name="to-add-a-filter"></a>필터를 추가하려면

1. 차트 위에 있는 **필터 추가**를 선택합니다.

2. 필터링하려는 차원(속성)을 선택합니다.

   ![메트릭 이미지](./media/metrics-charts/00006.png)

3. 차트를 그릴 때 포함하려는 차원 값을 선택합니다(이 예제에서는 성공적인 스토리지 트랜잭션을 필터링하도록 표시함).

   ![메트릭 이미지](./media/metrics-charts/00007.png)

4. 필터 값을 선택한 후에 필터 선택기를 닫으려면 바깥쪽을 클릭합니다. 이제 차트에서는 실패한 스토리지 트랜잭션 수를 보여줍니다.

   ![메트릭 이미지](./media/metrics-charts/00008.png)

5. 동일한 차트에 여러 필터를 적용하려면 1~4단계를 반복하면 됩니다.



## <a name="apply-splitting-to-a-chart"></a>차트에 분할 적용

차원별로 메트릭 분할하여 메트릭의 다른 세그먼트가 서로 비교되는 방법을 시각화하고 차원의 외부 세그먼트를 식별할 수 있습니다.

### <a name="apply-splitting"></a>분할 적용

1. 차트 위쪽의 **분할 적용**을 클릭합니다.
 
   > [!NOTE]
   > 여러 메트릭이 있는 차트에서는 분할을 사용할 수 없습니다. 또한 여러 필터를 포함할 수 있지만 하나의 분할 차원만 단일 차트에 적용 됩니다.

2. 차트를 분할하려는 차원을 선택합니다.

   ![메트릭 이미지](./media/metrics-charts/00010.png)

   이제 차트에서는 차원의 각 세그먼트에 하나씩 여러 줄을 표시합니다.

   ![메트릭 이미지](./media/metrics-charts/00012.png)

3. **그룹화 선택기**를 닫으려면 바깥쪽을 클릭합니다.

   > [!NOTE]
   > 동일한 차원에서 필터링 및 분할을 둘 다 사용하여 시나리오와 관련 없는 세그먼트를 숨기고 차트를 더 쉽게 읽을 수 있습니다.

## <a name="lock-boundaries-of-chart-y-axis"></a>차트 Y축의 경계 잠그기

차트에 더 큰 값의 변경이 더 작게 표시되면 Y축의 범위를 잠그는 것이 중요해집니다. 

예를 들어 성공한 요청의 볼륨이 99.99%에서99.5%로 떨어지면 서비스 품질의 상당한 저하를 나타낼 수 있습니다. 그러나 기본 차트 설정에서 작은 숫자 값 변동을 확인하는 것은 어렵거나 불가능할 수 있습니다. 이 경우 차트의 최하위 경계를 99%로 잠글 수 있습니다. 이렇게 하면 이 작은 감소가 더 분명해집니다. 

또 다른 예는 사용 가능한 메모리의 변동입니다. 이 경우 값은 기술적으로 0에 도달하지 않습니다. 범위를 더 높은 값으로 수정하면 사용 가능한 메모리의 감소를 더 쉽게 발견할 수 있습니다. 

Y축 범위를 제어하려면 “...” 차트 메뉴를 사용하고 **차트 편집**을 선택하여 고급 차트 설정에 액세스합니다. Y축 범위 섹션의 값을 수정하거나 **자동** 단추를 사용하여 기본값으로 되돌립니다.

![메트릭 이미지](./media/metrics-charts/00014-manually-set-granularity.png)

> [!WARNING]
> 일정 기간 동안 다양한 개수나 합계(이에 따라 사용 개수, 합계, 최소값 또는 최대 집계)를 추적하는 차트의 Y축 경계를 잠그려면 일반적으로 자동 기본값을 사용하지 않고 고정 시간 세분성을 지정해야 합니다. 사용자가 브라우저 창 크기를 조정하거나 화면 해상도를 변경할 때 시간 세분성이 자동으로 수정되면 차트의 값이 변경되므로 이 설정이 필요합니다. 시간 세분성의 변경 결과는 차트 모양에 영향을 주고 Y축 범위의 현재 선택이 무효화됩니다.

## <a name="change-colors-of-chart-lines"></a>차트 선의 색 변경

차트를 구성한 후에는 기본 색상표에서 차트 선에 색이 자동으로 할당 됩니다. 이러한 색을 변경할 수 있습니다.

차트 선의 색을 변경 하려면 차트에 해당 하는 범례의 색이 지정 된 막대를 클릭 합니다. 색 선택 대화 상자가 열립니다. 색 선택기를 사용 하 여 선의 색을 구성 합니다.

차트 색이 구성 된 후에는 차트를 대시보드에 고정할 때 해당 색이 그대로 유지 됩니다. 다음 섹션에서는 차트를 고정 하는 방법을 보여 줍니다.

> [!NOTE]
> 릴리스 및 게시 일정의 제약 조건으로 인해 차트 선의 색을 일시적으로 변경 하려면 특수 매개 변수를 전달 해야 하나요? 기능을 Azure Portal [https://portal.azure.com/?feature.colorpicker=true](https://portal.azure.com/?feature.colorpicker=true)시작할 때 **colorpicker = true** 를 지정 해야 합니다. 이 제한 사항은 곧 삭제될 예정입니다. 

![메트릭 이미지](./media/metrics-charts/018.png)

## <a name="pin-charts-to-dashboards"></a>대시보드에 차트 고정

차트를 구성한 후에 다른 모니터링 원격 분석의 컨텍스트에서 다시 보거나 팀과 공유할 수 있도록 대시보드에 추가하려고 합니다.

구성된 차트를 대시보드에 고정하려면:

차트를 구성한 후에 차트의 오른쪽의 위 모서리에서 **차트 작업** 메뉴를 클릭하고 **대시보드에 고정**을 클릭합니다.

![메트릭 이미지](./media/metrics-charts/00013.png)

## <a name="create-alert-rules"></a>경고 규칙 만들기

설정한 조건을 사용하여 메트릭을 메트릭 기반 경고 규칙의 토대로 시각화할 수 있습니다. 새 경고 규칙에는 사용자 차트의 대상 리소스, 메트릭, 분할 및 필터 차원이 포함됩니다. 나중에 경고 규칙 생성 창에서 이러한 설정을 수정할 수 있습니다.

### <a name="to-create-a-new-alert-rule-click-new-alert-rule"></a>새 경고 규칙을 만들려면 **새 경고 규칙**을 클릭합니다.

![새로운 경고 규칙 단추가 빨간색으로 강조 표시됨](./media/metrics-charts/015.png)

사용자 지정 경고 규칙을 보다 쉽게 생성할 수 있도록 차트의 기본 메트릭 크기가 미리 채워진 경고 규칙 만들기 창으로 이동됩니다.

![경고 규칙 만들기](./media/metrics-charts/016.png)

메트릭 경고를 설정하는 방법을 자세히 알아보려면 이 [문서](alerts-metric.md)를 확인하세요.

## <a name="troubleshooting"></a>문제 해결

*차트에 데이터가 표시되지 않습니다.*

* 필터는 창의 모든 차트에 적용됩니다. 하나의 필터에 포커스를 둔 동안 다른 차트에서 모든 데이터를 제외하는 필터를 설정하지 않았는지 확인하세요.

* 여러 차트에서 서로 다른 필터를 설정하려면 해당 차트를 서로 다른 블레이드를 만들어 별도의 즐겨찾기로 저장합니다. 필요한 경우 대시보드에 고정하여 서로 나란히 볼 수 있습니다.

* 메트릭에 정의되지 않은 속성으로 차트를 분할하는 경우 차트에 아무것도 표시되지 않습니다. 분할(분리)한 속성을 지워 보거나 다른 속성을 선택합니다.

## <a name="next-steps"></a>다음 단계

  메트릭을 사용하여 조치 가능한 대시보드를 만드는 모범 사례에 대한 자세한 내용은 [사용자 지정 KPI 대시보드 만들기](https://docs.microsoft.com/azure/application-insights/app-insights-tutorial-dashboards)를 참고하세요.

