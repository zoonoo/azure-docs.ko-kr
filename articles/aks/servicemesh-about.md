---
title: 서비스 메시 정보
description: 서비스 메시, 아키텍처 및 기능에 대 한 개요 및 배포할 조건을 선택할 때 고려해 야 하는 조건을 파악 합니다.
author: paulbouwer
ms.topic: article
ms.date: 10/09/2019
ms.author: pabouwer
ms.openlocfilehash: eca49a3fac1ea0398ebe1d05bde20fbca3c81232
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/02/2020
ms.locfileid: "77594314"
---
# <a name="about-service-meshes"></a>서비스 메시 정보

서비스 메시는 트래픽 관리, 복원 력, 정책, 보안, 강력한 id 및 관찰성와 같은 기능을 작업에 제공 합니다. 응용 프로그램은 이러한 운영 기능에서 분리 되며 서비스 메시는 응용 프로그램 계층에서 응용 프로그램 계층으로 이동 하 고 인프라 계층으로 이동 합니다.

## <a name="scenarios"></a>시나리오

서비스 메시를 사용할 때 작업에 대해 사용할 수 있는 몇 가지 시나리오는 다음과 같습니다.

- **클러스터의 모든 트래픽 암호화** -클러스터의 지정 된 서비스 간에 상호 TLS를 사용 하도록 설정 합니다. 네트워크 경계에서 수신 및 송신으로 확장할 수 있습니다. 응용 프로그램 코드 및 인프라에 필요한 변경 없이 기본적으로 보안 옵션을 제공 합니다.

- **카나리아 및 단계적 롤아웃** -클러스터의 새 서비스 집합으로 라우팅될 트래픽 하위 집합에 대 한 조건을 지정 합니다. 카나리아 릴리스를 성공적으로 테스트 하는 경우 조건부 라우팅 및 단계를 제거 하 여 새 서비스에 대 한 모든 트래픽의%를 점차적으로 늘립니다. 결국 모든 트래픽이 새 서비스로 전송 됩니다.

- **트래픽 관리 및 조작** -특정 원본에서 서비스 버전으로의 모든 트래픽을 제한 하는 서비스에 대 한 정책을 만듭니다. 또는 지정 된 서비스 간의 실패 클래스에 다시 시도 전략을 적용 하는 정책입니다. 마이그레이션하는 동안 또는 문제를 디버그 하는 동안 새 버전의 서비스로 라이브 트래픽을 미러링합니다. 테스트 환경의 서비스 사이에 오류를 삽입 하 여 복원 력을 테스트 합니다.

- **관찰성** -서비스가 서로 연결 되는 트래픽에 대 한 통찰력을 얻습니다. 클러스터의 모든 트래픽과 수신/송신에 대 한 메트릭, 로그 및 추적을 얻습니다. 응용 프로그램에 분산 추적 기능을 추가 합니다.

## <a name="architecture"></a>Architecture

서비스 메시는 일반적으로 제어 평면과 데이터 평면으로 구성 됩니다.

**제어 평면** 에는 서비스 메시 관리를 지 원하는 많은 구성 요소가 있습니다. 일반적으로 UI 또는 API 일 수 있는 관리 인터페이스를 포함 합니다. 일반적으로 서비스 메시에 서 특정 기능을 구현 하는 방법을 정의 하는 규칙 및 정책 정의를 관리 하는 구성 요소가 있습니다. 또한 강력한 id 및 mTLS 용 인증서와 같은 보안 측면을 관리 하는 구성 요소가 있습니다. 서비스 메시에는 일반적으로 작업에서 메트릭 및 원격 분석을 수집 하 고 집계 하는 메트릭 또는 관찰성 구성 요소가 있습니다.

일반적으로 **데이터 평면은** 작업에 사이드카 투명 하 게 삽입 되는 프록시로 구성 됩니다. 이 프록시는 작업을 포함 하는 pod의 모든 네트워크 트래픽을 제어 하도록 구성 됩니다. 이렇게 하면 프록시를 사용 하 여 프록시를 보호 하 고, 동적으로 트래픽을 라우팅 하 고, 트래픽에 정책을 적용 하 고, 메트릭 및 추적 정보를 수집할 수 있습니다. 

![일반적인 서비스 메시 아키텍처](media/servicemesh/typical-architecture.png)

## <a name="capabilities"></a>기능

각 서비스 메시는 기본적인 맞춤 및 특정 시나리오를 지 원하는 데 중점을 두고 있지만 일반적으로 대부분의 경우 다음과 같은 기능을 대부분 구현 한다는 것을 알 수 있습니다.

### <a name="traffic-management"></a>트래픽 관리 

- **프로토콜** – 계층 7 (http, grpc)
- **동적 라우팅** -조건부, 가중치, 미러링
- **복원 력** -시간 제한, 다시 시도, 회로 차단기
- **정책** -액세스 제어, 요율 제한, 할당량
- **테스트** -오류 주입

### <a name="security"></a>보안

- **암호화** – mTLS, 인증서 관리, 외부 CA
- **강력한 id** – SPIFFE 또는 유사
- **인증-인증** , 권한 부여

### <a name="observability"></a>관찰성

- **메트릭** – 골든 메트릭, 프로메테우스, grafana
- **추적** -작업 간 추적
- **트래픽** – 클러스터, 수신/송신

### <a name="mesh"></a>메시

- **지원 되** 는 Kubernetes, virtual machines
- **다중 클러스터** 게이트웨이, 페더레이션

## <a name="selection-criteria"></a>선택 조건

서비스 메시를 선택 하기 전에 요구 사항 및 서비스 메시를 설치 하는 이유를 이해 해야 합니다. 다음 질문을 해 보세요.

- **수신 컨트롤러는 사용자의 요구에 충분 한가요?** -때때로 a/b 테스트 또는 트래픽 분할과 같은 기능이 필요한 시나리오를 지원 하기에 충분 한 경우도 있습니다. 사용자 환경에 복잡성을 추가 하지 마세요.

- **워크 로드 및 환경에서 추가 오버 헤드를 허용할 수 있나요?** -서비스 메시를 지 원하는 데 필요한 모든 추가 구성 요소에는 cpu 및 메모리와 같은 추가 리소스가 필요 합니다. 또한 모든 프록시 및 이와 관련 된 정책 검사는 트래픽에 대기 시간을 추가 합니다. 대기 시간이 매우 중요 하거나 서비스 메시 구성 요소를 포함 하는 추가 리소스를 제공할 수 없는 워크 로드가 있는 경우 다시 고려해 야 합니다.

- **이러한 복잡성을 불필요 하 게 추가 하 고 있습니까?** -서비스 메시를 설치 하는 이유가 비즈니스 또는 운영 팀에 중요 하지 않을 수 있는 기능을 확보 한 다음 설치, 유지 관리 및 구성에 대 한 추가 복잡성이 무엇 인지 고려 합니다.

- **이는 증분 방식으로 채택 될 수 있나요?** -많은 기능을 제공 하는 일부 서비스 메시는 더 큰 증분 방식으로 채택할 수 있습니다. 성공 여부를 확인 하는 데 필요한 구성 요소만 설치 합니다. 더 확신 하 고 추가 기능이 필요한 경우 해당 기능을 탐색 합니다. 처음부터 *모든 항목* 을 설치 하는 것은 강력 하지 않습니다.

신중 하 게 고려해 야 하는 경우 필요한 기능을 제공 하는 서비스 메쉬가 필요 하다 고 판단 되 면 다음 결정은 *어떤 서비스 메시 입니까?*

다음 영역을 고려 하 여 요구 사항에 가장 부합 하는 영역을 고려 합니다. 이를 통해 사용자 환경 및 워크 로드에 가장 적합 합니다. [다음 단계](#next-steps) 섹션에서는 특정 서비스 메시와 이러한 영역에 매핑되는 방법에 대 한 자세한 정보를 안내 합니다.

- **기술** -트래픽 관리, 정책, 보안, 관찰성

- **Business** 상용 support, foundation (cncf), OSS 라이선스, 거 버 넌 스

- **운영** – 설치/업그레이드, 리소스 요구 사항, 성능 요구 사항, 통합 (메트릭, 원격 분석, 대시보드, 도구, smi-s), 혼합 작업 (Linux 및 Windows 노드 풀), Compute (Kubernetes, virtual machines), 다중 클러스터

- **보안** -인증, id, 인증서 관리 및 회전, 플러그형 외부 CA


## <a name="next-steps"></a>다음 단계

다음 설명서에서는 Azure Kubernetes 서비스 (AKS)에서 시도할 수 있는 서비스 메시에 대해 자세히 설명 합니다.

> [!div class="nextstepaction"]
> [Istio에 대 한 자세한 정보 ...][istio-about]

> [!div class="nextstepaction"]
> [Linkerd에 대 한 자세한 정보 ...][linkerd-about]

> [!div class="nextstepaction"]
> [자세히 알아보기 ...][consul-about]

Kubernetes의 서비스 메시에 대 한 표준 인터페이스인 SMI-S (서비스 메시 인터페이스)를 탐색할 수도 있습니다.

- [SMI-S (서비스 메시 인터페이스)][smi]


<!-- LINKS - external -->
[smi]: https://smi-spec.io/

<!-- LINKS - internal -->
[istio-about]: ./servicemesh-istio-about.md
[linkerd-about]: ./servicemesh-linkerd-about.md
[consul-about]: ./servicemesh-consul-about.md