---
title: 관리 동의 워크플로 구성-Azure Active Directory | Microsoft Docs
description: 최종 사용자가 관리자 동의가 필요한 응용 프로그램에 대 한 액세스를 요청 하는 방법을 구성 하는 방법을 알아봅니다.
services: active-directory
author: kenwith
manager: celestedg
ms.service: active-directory
ms.subservice: app-mgmt
ms.workload: identity
ms.topic: how-to
ms.date: 10/29/2019
ms.author: kenwith
ms.reviewer: luleon
ms.collection: M365-identity-device-management
ms.openlocfilehash: 7fc688ca0981024e5e08c9fb20ecb6704efbd7f2
ms.sourcegitcommit: 8e7316bd4c4991de62ea485adca30065e5b86c67
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/17/2020
ms.locfileid: "94658777"
---
# <a name="configure-the-admin-consent-workflow-preview"></a>관리자 동의 워크플로 구성 (미리 보기)

이 문서에서는 최종 사용자에 게 관리자 동의가 필요한 응용 프로그램에 대 한 액세스를 요청 하는 방법을 제공 하는 관리 동의 워크플로 (미리 보기) 기능을 사용 하도록 설정 하는 방법을 설명 합니다.

관리자 동의 워크플로가 없으면 사용자 동의가 사용 하지 않도록 설정 된 테 넌 트의 사용자가 조직 데이터에 액세스 하기 위한 권한이 필요한 앱에 액세스 하려고 할 때 차단 됩니다. 사용자에 게 앱에 액세스할 수 있는 권한이 없는 일반 오류 메시지가 표시 되 고 관리자에 게 도움을 요청 해야 합니다. 그러나 사용자는 누구에 게 연락 해야 하는지 모르고 응용 프로그램에서 새 로컬 계정을 제공 하거나 만듭니다. 관리자에 게 알림이 제공 되는 경우에도 관리자가 액세스 권한을 부여 하 고 사용자에 게 알릴 수 있도록 간소화 된 프로세스는 항상 없습니다.
 
관리자 동의 워크플로를 통해 관리자에 게 관리자 승인이 필요한 응용 프로그램에 대 한 액세스 권한을 부여 하는 안전한 방법을 제공 합니다. 사용자가 응용 프로그램에 액세스 하려고 하지만 동의를 제공할 수 없는 경우 관리자 승인에 대 한 요청을 보낼 수 있습니다. 요청은 검토자로 지정 된 관리자에 게 전자 메일을 통해 전송 됩니다. 검토자가 요청에 대 한 작업을 수행 하 고 사용자에 게 작업에 대 한 알림이 표시 됩니다.

요청을 승인 하려면 검토자가 전역 관리자, 클라우드 응용 프로그램 관리자 또는 응용 프로그램 관리자 여야 합니다. 검토자는 이미 이러한 관리자 역할 중 하나를 할당 해야 합니다. 검토자로 지정 하기만 하면 권한이 상승 되지 않습니다.

## <a name="enable-the-admin-consent-workflow"></a>관리자 동의 워크플로를 사용 하도록 설정

관리자 동의 워크플로를 사용 하도록 설정 하 고 검토자를 선택 하려면:

1. 전역 관리자 권한으로 [Azure Portal](https://portal.azure.com)에 로그인합니다.
2. 왼쪽 탐색 메뉴의 맨 위에 있는 **모든 서비스** 를 클릭합니다. **Azure Active Directory 확장** 이 열립니다.
3. 필터 검색 상자에 "**Azure Active Directory**"를 입력 하 고 **Azure Active Directory** 항목을 선택 합니다.
4. 탐색 메뉴에서 **엔터프라이즈 애플리케이션** 을 클릭합니다. 
5. **관리** 에서 **사용자 설정** 을 선택 합니다.
6. **관리자 동의 요청 (미리 보기)** 아래에서 **사용자가 동의할 수 없는 앱에 대해 관리자 동의를 요청할 수 있습니다** .를 **예** 로 설정 합니다.

   ![관리자 동의 워크플로 설정 구성](media/configure-admin-consent-workflow/admin-consent-requests-settings.png)
 
6. 다음 설정을 구성합니다.

   * **관리자 동의 요청을 검토 하려면 사용자를 선택** 합니다. 전역 관리자, 클라우드 응용 프로그램 관리자 및 응용 프로그램 관리자 역할이 있는 사용자 집합에서이 워크플로에 대 한 검토자를 선택 합니다.
   * **선택한 사용자는 요청에 대 한 전자 메일 알림을 받게 됩니다**. 요청을 만들 때 검토자에 게 전자 메일 알림을 사용 하거나 사용 하지 않도록 설정 합니다.  
   * **선택한 사용자는 요청 만료 미리 알림을 받게 됩니다**. 요청이 곧 만료 될 때 검토자에 게 미리 알림 전자 메일 알림을 사용 하거나 사용 하지 않도록 설정 합니다.  
   * **동의 요청은 (일) 후에 만료** 됩니다. 요청이 유효한 상태로 유지 되는 기간을 지정 합니다.

7. **저장** 을 선택합니다. 기능을 사용 하도록 설정 하는 데 최대 한 시간이 걸릴 수 있습니다.

> [!NOTE]
> **관리자 동의 요청 검토자 선택** 목록을 수정 하 여이 워크플로에 대 한 검토자를 추가 하거나 제거할 수 있습니다. 이 기능의 현재 제한은 검토자가 검토자로 지정 된 요청을 검토 하는 기능을 유지할 수 있다는 것입니다.

## <a name="how-users-request-admin-consent"></a>사용자가 관리자 동의를 요청 하는 방법

관리자 동의 워크플로를 사용 하도록 설정 하면 사용자가 동의할 수 없는 응용 프로그램에 대 한 관리자 승인을 요청할 수 있습니다. 다음 단계에서는 승인을 요청할 때 사용자 경험을 설명 합니다. 

1. 사용자가 응용 프로그램에 로그인 하려고 합니다.

2. **승인 필요** 메시지가 표시 됩니다. 사용자는 앱에 대 한 액세스를 필요로 하는 근거를 입력 한 다음 **승인 요청** 을 선택 합니다.

   ![승인 요청을 받을 수 있는 승인 필요 대화 상자를 보여 주는 스크린샷](media/configure-admin-consent-workflow/end-user-justification.png)

3. 요청 **전송** 메시지는 요청이 관리자에 게 전송 되었음을 확인 합니다. 사용자가 여러 요청을 전송 하는 경우 첫 번째 요청만 관리자에 게 전송 됩니다.

   ![요청 전송 확인을 보여 주는 스크린샷](media/configure-admin-consent-workflow/end-user-sent-request.png)

 4. 사용자는 요청이 승인, 거부 또는 차단 될 때 전자 메일 알림을 받습니다. 

## <a name="review-and-take-action-on-admin-consent-requests"></a>관리 동의 요청을 검토 하 고 작업을 수행 합니다.

관리자 동의 요청을 검토 하 고 조치를 취합니다.

1. 관리자 동의 워크플로의 등록 된 검토자 중 하나로 [Azure Portal](https://portal.azure.com) 에 로그인 합니다.
2. 왼쪽 탐색 메뉴의 맨 위에서 **모든 서비스** 를 선택 합니다. **Azure Active Directory 확장** 이 열립니다.
3. 필터 검색 상자에 "**Azure Active Directory**"를 입력 하 고 **Azure Active Directory** 항목을 선택 합니다.
4. 탐색 메뉴에서 **엔터프라이즈 애플리케이션** 을 클릭합니다.
5. **활동** 에서 **관리자 동의 요청 (미리 보기)** 을 선택 합니다.

   > [!NOTE]
   > 검토자는 검토자로 지정 된 후에 생성 된 관리자 요청만 표시 합니다.

1. 요청 중인 응용 프로그램을 선택 합니다.
2. 요청에 대 한 세부 정보를 검토 합니다.  

   * 액세스를 요청 하는 사용자 및 이유를 확인 하려면 **요청한 사람** 탭을 선택 합니다.
   * 응용 프로그램에서 요청 하는 사용 권한을 확인 하려면 **사용 권한 및 동의 검토** 를 선택 합니다.

8. 요청을 평가 하 고 적절 한 조치를 취합니다.

   * **요청을 승인** 합니다. 요청을 승인 하려면 응용 프로그램에 관리자 동의를 부여 합니다. 요청이 승인 되 면 모든 요청자에 게 액세스 권한이 부여 되었다는 알림이 표시 됩니다.  
   * **요청을 거부** 합니다. 요청을 거부 하려면 모든 요청자에 게 제공 되는 근거를 제공 해야 합니다. 요청이 거부 되 면 모든 요청자에 게 응용 프로그램에 대 한 액세스가 거부 되었다는 알림이 표시 됩니다. 요청을 거부 해도 사용자가 나중에 앱에 대 한 관리자 동의를 요청 하지 않습니다.  
   * **요청을 차단** 합니다. 요청을 차단 하려면 모든 요청자에 게 제공 되는 근거를 제공 해야 합니다. 요청이 차단 되 면 모든 요청자에 게 응용 프로그램에 대 한 액세스가 거부 되었다는 알림이 표시 됩니다. 요청을 차단 하면 사용 하지 않도록 설정 된 상태에서 테 넌 트의 응용 프로그램에 대 한 서비스 주체 개체가 만들어집니다. 사용자는 나중에 응용 프로그램에 대 한 관리자 동의를 요청할 수 없습니다.
 
## <a name="email-notifications"></a>이메일 알림
 
구성 된 경우 모든 검토자는 다음과 같은 경우에 전자 메일 알림을 받게 됩니다.

* 새 요청을 만들었습니다.
* 요청이 만료 되었습니다.
* 요청이 만료 날짜에 가까워졌습니다.  
 
요청자는 다음과 같은 경우 전자 메일 알림을 받습니다.

* 액세스를 위한 새 요청을 제출 합니다.
* 요청이 만료 되었습니다.
* 요청이 거부 되었거나 차단 되었습니다.
* 요청이 승인 되었습니다.
 
## <a name="audit-logs"></a>감사 로그 
 
아래 표에서는 관리자 동의 워크플로에 사용할 수 있는 시나리오 및 감사 값에 대해 간략하게 설명 합니다. 

> [!NOTE]
> 감사 행위자의 사용자 컨텍스트는 현재 모든 시나리오에서 누락 되었습니다. 이는 미리 보기 버전의 알려진 제한 사항입니다.


|시나리오  |감사 서비스  |감사 범주  |작업 감사  |감사 행위자  |감사 로그 제한  |
|---------|---------|---------|---------|---------|---------|
|관리자가 동의 요청 워크플로를 사용 하도록 설정        |액세스 검토           |UserManagement           |거 버 넌 스 정책 템플릿 만들기          |앱 컨텍스트            |현재 사용자 컨텍스트를 찾을 수 없습니다.            |
|관리자가 동의 요청 워크플로를 사용 하지 않도록 설정       |액세스 검토           |UserManagement           |거 버 넌 스 정책 템플릿 삭제          |앱 컨텍스트            |현재 사용자 컨텍스트를 찾을 수 없습니다.           |
|관리자가 동의 워크플로 구성을 업데이트 하는 중        |액세스 검토           |UserManagement           |거 버 넌 스 정책 템플릿 업데이트          |앱 컨텍스트            |현재 사용자 컨텍스트를 찾을 수 없습니다.           |
|앱에 대 한 관리자 동의 요청을 만드는 최종 사용자       |액세스 검토           |정책         |요청 만들기           |앱 컨텍스트            |현재 사용자 컨텍스트를 찾을 수 없습니다.           |
|검토자가 관리자 동의 요청을 승인 하는 경우       |액세스 검토           |UserManagement           |비즈니스 흐름의 모든 요청 승인          |앱 컨텍스트            |현재는 관리자 동의가 부여 된 사용자 컨텍스트 또는 앱 ID를 찾을 수 없습니다.           |
|검토자가 관리자 동의 요청을 거부 합니다.       |액세스 검토           |UserManagement           |비즈니스 흐름의 모든 요청 승인          |앱 컨텍스트            | 현재 관리자 동의 요청을 거부 한 행위자의 사용자 컨텍스트를 찾을 수 없습니다.          |

## <a name="faq"></a>FAQ 

**이 워크플로를 사용 하도록 설정 했지만 기능을 테스트 하는 경우 새 "승인 필요" 메시지가 표시 되지 않는 이유는 무엇 인가요?**

기능을 켠 후 최종 사용자가 업데이트를 확인 하는 데 최대 60 분이 걸릴 수 있습니다. API에서 **EnableAdminConsentRequests** 값을 확인 하 여 구성이 제대로 적용 되었는지 확인할 수 있습니다 `https://graph.microsoft.com/beta/settings` .

**검토자로 서 보류 중인 모든 요청을 볼 수 없는 이유는 무엇입니까?**

검토자는 검토자로 지정 된 후 생성 된 관리자 요청만 볼 수 있습니다. 따라서 최근에 검토자로 추가 된 경우 할당 전에 생성 된 요청은 표시 되지 않습니다.

**검토자로 서 동일한 응용 프로그램에 대 한 여러 요청이 표시 되는 이유는 무엇 인가요?**
  
응용 프로그램 개발자가 정적 및 동적 동의를 사용 하 여 최종 사용자의 데이터에 대 한 액세스를 요청 하도록 앱을 구성한 경우 두 개의 관리자 동의 요청이 표시 됩니다. 한 요청은 정적 권한을 나타내고 다른 요청은 동적 권한을 나타냅니다.

**요청자는 내 요청 상태를 확인할 수 있나요?**  

아니요. 현재 요청자는 전자 메일 알림을 통해서만 업데이트를 가져올 수 있습니다.

**검토자는 응용 프로그램을 승인할 수는 있지만 모든 사용자에 게는 그렇지 않나요?**
 
관리자 동의를 부여 하 고 테 넌 트의 모든 사용자가 응용 프로그램을 사용 하도록 허용 하는 경우 요청을 거부 하는 것이 좋습니다. 그런 다음 사용자 할당을 요구 하 고 응용 프로그램에 사용자 또는 그룹을 할당 하 여 응용 프로그램에 대 한 액세스를 제한 함으로써 관리자 동의를 수동으로 부여 합니다. 자세한 내용은 [사용자 및 그룹을 할당하는 메서드](./assign-user-or-group-access-portal.md)를 참조하세요.

## <a name="next-steps"></a>다음 단계

애플리케이션에 동의하는 방법에 대한 자세한 내용은 [Azure Active Directory 동의 프레임워크](../develop/consent-framework.md)를 참조하세요.

[최종 사용자가 애플리케이션에 동의하는 방법 구성](configure-user-consent.md)

[애플리케이션에 대한 테넌트 전체 관리자 동의 부여](grant-admin-consent.md)

[Microsoft ID 플랫폼의 권한 및 동의](../develop/v2-permissions-and-consent.md)

[StackOverflow의 Azure AD](https://stackoverflow.com/questions/tagged/azure-active-directory)