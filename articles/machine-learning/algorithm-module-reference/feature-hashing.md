---
title: 기능 해싱 모듈 참조
titleSuffix: Azure Machine Learning
description: Azure Machine Learning의 기능 해시 모듈을 사용 하 여 피쳐화 텍스트 데이터를 사용 하는 방법에 대해 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/22/2020
ms.openlocfilehash: 7178417a5c20afe5b1ed02bc526ec174704962df
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/28/2020
ms.locfileid: "79456253"
---
# <a name="feature-hashing-module-reference"></a>기능 해싱 모듈 참조

이 문서에서는 Azure Machine Learning designer (미리 보기)에 포함 된 모듈을 설명 합니다.

기능 해싱 모듈을 사용 하 여 영어 텍스트 스트림을 정수 기능 집합으로 변환 합니다. 그런 다음이 해시 된 기능 집합을 기계 학습 알고리즘에 전달 하 여 텍스트 분석 모델을 학습 시킬 수 있습니다.

이 모듈에서 제공 하는 기능 해시 기능은 nimbusml 프레임 워크를 기반으로 합니다. 자세한 내용은 [NgramHash 클래스](https://docs.microsoft.com/python/api/nimbusml/nimbusml.feature_extraction.text.extractor.ngramhash?view=nimbusml-py-latest)를 참조 하세요.

## <a name="what-is-feature-hashing"></a>기능 해싱 이란?

기능 해시는 고유 토큰을 정수로 변환 하는 방식으로 작동 합니다. 입력으로 제공 하는 정확한 문자열에 대해 작동 하며 언어 분석 또는 전처리를 수행 하지 않습니다. 

예를 들어 다음과 같은 간단한 문장 집합을 가져온 다음 감정 점수를 가져옵니다. 이 텍스트를 사용 하 여 모델을 작성 하려는 경우를 가정 합니다.

|사용자 텍스트|데이터|
|--------------|---------------|
|이 책 좋아했던|3|
|이 책 hated|1|
|이 책은 매우 유용 했습니다.|3|
|선호 하는 책|2|

내부적으로 기능 해싱 모듈은 n 그램 사전을 만듭니다. 예를 들어이 데이터 집합에 대 한 바이 그램 목록은 다음과 같습니다.

|Term (bigrams)|빈도|
|------------|---------------|
|이 책|3|
|좋아했던|1|
|Hated|1|
|내가 사랑|1|

**N 그램 속성을** 사용 하 여 n 그램의 크기를 제어할 수 있습니다. Bigrams을 선택 하는 경우에는 평균 그램도 계산 됩니다. 사전에는 다음과 같은 단일 용어도 포함 됩니다.

|용어 (=-그램)|빈도|
|------------|---------------|
|설명서|3|
|I|3|
|서적|1|
|을|1|

사전이 작성 된 후 기능 해싱 모듈은 사전 용어를 해시 값으로 변환 합니다. 그런 다음 각 경우에 기능을 사용 했는지 여부를 계산 합니다. 텍스트 데이터의 각 행에 대해 모듈은 각 해시 된 기능에 대해 하나의 열로 열 집합을 출력 합니다.

예를 들어 해싱 후 기능 열은 다음과 같을 수 있습니다.

|등급|해시 기능 1|해싱 기능 2|해싱 기능 3|
|-----|-----|-----|-----|
|4|1|1|0|
|5|0|0|0|

* 열의 값이 0 인 경우 행에는 해시 된 기능이 포함 되지 않습니다.
* 값이 1 인 경우 해당 행에는 기능이 포함 되어 있습니다.

기능 해시를 사용 하면 가변 길이의 텍스트 문서를 같은 길이의 숫자 기능 벡터로 표시 하 여 차원을 줄일 수 있습니다. 학습에 대 한 텍스트 열을 있는 그대로 사용 하려는 경우 고유 값이 많은 범주 기능 열로 처리 됩니다.

또한 숫자 출력을 사용 하면 분류, 클러스터링, 정보 검색 등의 일반적인 기계 학습 방법을 사용할 수 있습니다. 조회 작업은 문자열을 비교 하는 대신 정수 해시를 사용할 수 있기 때문에 기능 가중치를 가져오는 것도 훨씬 더 빠릅니다.

## <a name="configure-the-feature-hashing-module"></a>기능 해싱 모듈 구성

1.  디자이너에서 파이프라인에 기능 해시 모듈을 추가 합니다.

1. 분석할 텍스트가 포함 된 데이터 집합을 연결 합니다.

    > [!TIP]
    > 기능 해시는 형태소 분석 또는 잘림 같은 어휘 연산을 수행 하지 않으므로 기능 해시를 적용 하기 전에 텍스트를 전처리 하 여 더 나은 결과를 얻을 수 있습니다. 

1. **대상 열** 을 해시 된 기능으로 변환할 텍스트 열로 설정 합니다. 다음 사항에 유의 하세요.

    * 열은 문자열 데이터 형식 이어야 합니다.
    
    * 여러 텍스트 열을 선택 하면 기능 차원에 상당한 영향을 줄 수 있습니다. 예를 들어 10 비트 해시의 열 수는 두 열에 대해 단일 열에 대해 1024에서 2048로 이동 합니다.

1. 해시 **bitsize** 를 사용 하 여 해시 테이블을 만들 때 사용할 비트 수를 지정 합니다.
    
    기본 비트 크기는 10입니다. 많은 문제를 해결 하려면이 값을 적절 하 게 합니다. 학습 텍스트의 n-그램 어휘 크기에 따라 충돌을 방지 하기 위해 더 많은 공간이 필요할 수 있습니다.
    
1. **N 그램**의 경우 학습 사전에 추가할 n 그램의 최대 길이를 정의 하는 숫자를 입력 합니다. N-영문법은 고유한 단위로 처리 되는 *n 개* 단어의 시퀀스입니다.

    예를 들어 3을 입력 하는 경우에는 3, 4, bigrams 및 trigrams을 만듭니다.

1. 파이프라인을 제출 합니다.

## <a name="results"></a>결과

처리가 완료 된 후 모듈은 원래 텍스트 열이 여러 열로 변환 된 변환 된 데이터 집합을 출력 합니다. 각 열은 텍스트의 기능을 나타냅니다. 사전의 중요성에 따라 결과 데이터 집합은 클 수 있습니다.

|열 이름 1|열 유형 2|
|-------------------|-------------------|
|USERTEXT|원본 데이터 열|
|감정|원본 데이터 열|
|USERTEXT-해싱 기능 1|해시 된 기능 열|
|USERTEXT-해싱 기능 2|해시 된 기능 열|
|USERTEXT-해싱 기능 n|해시 된 기능 열|
|USERTEXT-해싱 기능 1024|해시 된 기능 열|

변환 된 데이터 집합을 만든 후 모델 학습 모듈에 대 한 입력으로 사용할 수 있습니다.
 
## <a name="best-practices"></a>모범 사례

다음 모범 사례는 기능 해싱 모듈을 최대한 활용 하는 데 도움이 될 수 있습니다.

* 기능 해시를 사용 하 여 입력 텍스트를 전처리 하기 전에 전처리 텍스트 모듈을 추가 합니다. 

* 출력 데이터 집합에서 텍스트 열을 제거 하려면 기능 해시 모듈 뒤에 열 선택 모듈을 추가 합니다. 해싱 기능이 생성 된 후에는 텍스트 열이 필요 하지 않습니다.
    
* 이러한 텍스트 전처리 옵션을 사용 하 여 결과를 단순화 하 고 정확도를 높이는 것이 좋습니다.

    * 단어 분리
    * 단어 제거 중지
    * 대/소문자 정규화
    * 문장 부호 및 특수 문자 제거
    * 형태소 분석  

솔루션에 적용할 최적의 전처리 메서드 집합은 도메인, 어휘 및 비즈니스 요구에 따라 달라 집니다. 데이터를 사용 하 여 파이프라인을 사용 하 여 가장 효율적인 텍스트 처리 방법을 확인 합니다.

## <a name="next-steps"></a>다음 단계
            
Azure Machine Learning에서 [사용할 수 있는 모듈 집합](module-reference.md) 을 참조 하세요. 
