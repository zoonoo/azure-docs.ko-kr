---
title: 포함 파일
description: 포함 파일
services: virtual-machines
author: cynthn
ms.service: virtual-machines
ms.topic: include
ms.date: 11/06/2019
ms.author: cynthn
ms.custom: include file
ms.openlocfilehash: 7bf71f55e1b49a9280b25cfcc01090afbd0c42db
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/29/2021
ms.locfileid: "101750206"
---
## <a name="create-an-image-gallery"></a>이미지 갤러리 만들기

이미지 갤러리는 이미지 공유를 활성화하는 데 사용되는 기본 리소스입니다. 갤러리 이름에 허용되는 문자는 대문자 또는 소문자, 숫자, 점 및 마침표입니다. 갤러리 이름에 대시를 사용할 수 없습니다.  갤러리 이름은 구독 내에서 고유해야 합니다. 

다음 예제에서는 *myGalleryRG* 리소스 그룹에 *myGallery* 라는 갤러리를 만듭니다.

1. https://portal.azure.com 에서 Azure Portal에 로그인합니다.
1. 검색 상자에서 **공유 이미지 갤러리** 유형을 사용하고 결과에서 **공유 이미지 갤러리** 를 선택합니다.
1. **공유 이미지 갤러리** 페이지에서 **추가** 를 클릭합니다.
1. **공유 이미지 갤러리 만들기** 페이지에서 올바른 구독을 선택합니다.
1. **리소스 그룹** 에서 **새로 만들기** 를 선택하고 이름으로 *myGalleryRG* 를 입력합니다.
1. **이름** 에서 갤러리 이름으로 *myGallery* 를 입력합니다.
1. **지역** 은 기본값 그대로 둡니다.
1. '테스트용 내 이미지 갤러리'와 같이 갤러리에 대한 간단한 설명을 입력할 수 있습니다. 그런 다음 **검토 + 만들기** 를 클릭합니다.
1. 유효성 검사를 통과하면 **만들기** 를 선택합니다.
1. 배포가 완료되면 **리소스로 이동** 을 선택합니다.


## <a name="create-an-image-definition"></a>이미지 정의 만들기 

이미지 정의는 이미지에 대한 논리적 그룹화를 만듭니다. 내부에서 생성된 이미지 버전에 대한 정보를 관리하는 데 사용됩니다. 이미지 정의 이름은 대문자 또는 소문자, 숫자, 점, 대시 및 마침표로 구성될 수 있습니다. 이미지 정의에 대해 지정할 수 있는 값에 대한 자세한 내용은 [이미지 정의](../articles/virtual-machines/shared-image-galleries.md#image-definitions)를 참조하세요.

갤러리 내에서 갤러리 이미지 정의를 만듭니다. 이 예제에서 갤러리 이미지의 이름은 *myImageDefinition* 입니다.

1. 새 이미지 갤러리 페이지에서 페이지 맨 위에 있는 **새 이미지 정의 추가** 를 선택합니다. 
1. **공유 이미지 갤러리에 새 이미지 정의 추가** 에서 **지역** 으로 *미국 동부* 를 선택합니다.
1. **이미지 정의 이름** 에 *myImageDefinition* 을 입력합니다.
1. **운영 체제** 에서 원본 VM에 따라 올바른 옵션을 선택합니다.  
1. **VM 생성** 에서 원본 VM에 따라 옵션을 선택합니다. 대부분의 경우 *Gen 1* 입니다. 자세한 내용은 [Gen2 VM에 대한 지원](../articles/virtual-machines/generation-2.md)을 참조하세요.
1. **운영 체제 상태** 에서 원본 VM에 따라 옵션을 선택합니다. 자세한 내용은 [일반화 및 특수화](../articles/virtual-machines/shared-image-galleries.md#generalized-and-specialized-images)를 참조하세요.
1. **게시자** 에 *myPublisher* 를 입력합니다. 
1. **제안** 에 *myOffer* 를 입력합니다.
1. **SKU** 에 *mySKU* 를 입력합니다.
1. 완료되면 **검토 + 만들기** 를 선택합니다.
1. 이미지 정의가 유효성 검사를 통과하면 **만들기** 를 선택합니다.
1. 배포가 완료되면 **리소스로 이동** 을 선택합니다.


## <a name="create-an-image-version"></a>이미지 버전 만들기

관리형 이미지에서 이미지 버전을 만듭니다. 이 예제에서 이미지 버전은 *1.0.0* 이며, *미국 중서부* 및 *미국 중남부* 데이터 센터 둘 다에 복제됩니다. 복제를 위해 대상 지역을 선택할 때 '원본' 지역을 복제 대상으로 포함해야 한다는 점을 주의합니다.

이미지 버전에 허용되는 문자는 숫자 및 마침표입니다. 숫자는 32비트 정수 범위 내에 포함되어야 합니다. 형식: *MajorVersion*.*MinorVersion*.*Patch*.

이미지 버전을 만들기 위한 단계는 원본이 일반화된 이미지인지 아니면 특수화된 VM의 스냅샷인지에 따라 약간 다릅니다. 

### <a name="option-generalized"></a>옵션: 일반화

1. 이미지 정의 페이지에서 위쪽에 있는 **버전 추가** 를 선택합니다.
1. **지역** 에서 관리형 이미지가 저장되는 지역을 선택합니다. 이미지 버전은 해당 이미지 버전이 생성되는 관리형 이미지와 동일한 지역에 만들어야 합니다.
1. **이름** 에 *1.0.0* 을 입력합니다. 이미지 버전 이름은 정수를 사용하여 정.부.패치 형식을 따라야 합니다. 
1. **원본 이미지** 의 드롭다운에서 원본 관리형 이미지를 선택합니다.
1. **최신 항목에서 제외** 에서 기본값 아니요를 그대로 둡니다.
1. **종료 날짜** 에서 몇 개월 후에 해당하는 날짜를 달력에서 선택합니다.
1. **복제** 에서 **기본 복제본 수** 를 1로 유지합니다. 원본 지역으로 복제해야 하므로 첫 번째 복제본을 기본값 그대로 둔 다음 두 번째 복제본 지역으로 미국 동부를 선택합니다.
1. 완료되면 **검토 + 만들기** 를 선택합니다. Azure가 구성의 유효성을 검사합니다.
1. 이미지 버전이 유효성 검사를 통과하면 **만들기** 를 선택합니다.
1. 배포가 완료되면 **리소스로 이동** 을 선택합니다.

이미지를 모든 대상 영역에 복제하는 데 시간이 걸릴 수 있습니다.

### <a name="option-specialized"></a>옵션: 특수화

1. 이미지 정의 페이지에서 위쪽에 있는 **버전 추가** 를 선택합니다.
1. **지역** 에서 스냅샷이 저장되는 지역을 선택합니다. 이미지 버전은 해당 이미지 버전이 생성되는 원본과 동일한 지역에 만들어야 합니다.
1. **이름** 에 *1.0.0* 을 입력합니다. 이미지 버전 이름은 정수를 사용하여 정.부.패치 형식을 따라야 합니다. 
1. **OS 디스크 스냅샷** 의 드롭다운에서 원본 VM의 스냅샷을 선택합니다. 원본 VM에 포함하려는 데이터 디스크가 있는 경우 드롭다운에서 올바른 **LUN** 번호를 선택한 다음 **데이터 디스크 스냅샷** 에 해당 데이터 디스크의 스냅샷을 선택합니다. 
1. **최신 항목에서 제외** 에서 기본값 아니요를 그대로 둡니다.
1. **종료 날짜** 에서 몇 개월 후에 해당하는 날짜를 달력에서 선택합니다.
1. **복제** 에서 **기본 복제본 수** 를 1로 유지합니다. 원본 지역으로 복제해야 하므로 첫 번째 복제본을 기본값 그대로 둔 다음 두 번째 복제본 지역으로 미국 동부를 선택합니다.
1. 완료되면 **검토 + 만들기** 를 선택합니다. Azure가 구성의 유효성을 검사합니다.
1. 이미지 버전이 유효성 검사를 통과하면 **만들기** 를 선택합니다.
1. 배포가 완료되면 **리소스로 이동** 을 선택합니다.

## <a name="share-the-gallery"></a>갤러리 공유

이미지 갤러리 수준에서 액세스를 공유하는 것이 좋습니다. 다음에서는 방금 만든 갤러리를 공유하는 과정을 안내합니다.

1. 새 이미지 갤러리 페이지의 왼쪽 메뉴에서 **액세스 제어(IAM)** 를 선택합니다. 
1. **역할 할당 추가** 아래에서 **추가** 를 선택합니다. **역할 할당 추가** 창이 열립니다. 
1. **역할** 아래에서 **읽기 권한자** 를 선택합니다.
1. **다음에 대한 액세스 할당** 은 기본값 **Azure AD 사용자, 그룹 또는 서비스 주체** 그대로 둡니다.
1. **선택** 아래에서 초대하려는 사용자의 이메일 주소를 입력합니다.
1. 사용자가 조직 외부에 있는 경우 **이 사용자에게 Microsoft에서 공동 작업할 수 있게 해주는 이메일이 전송됩니다.** 라는 메시지가 표시됩니다. 사용자와 이메일 주소를 선택하고 **저장** 을 클릭합니다.

사용자가 조직 외부에 있는 경우 조직에 가입하기 위한 이메일 초대를 받게 됩니다. 사용자는 초대를 수락해야 하며, 그러면 갤러리와 해당 리소스 목록에 있는 모든 이미지 정의 및 버전을 볼 수 있습니다.
