---
author: memildin
ms.service: security-center
ms.topic: include
ms.date: 03/14/2021
ms.author: memildin
ms.custom: generated
ms.openlocfilehash: 4a03a36f098035db1a91b4516dedb6a303aa41d2
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/30/2021
ms.locfileid: "103466209"
---
이 범주에는 **24** 개의 권장 사항이 있습니다.

|권장 |Description |심각도 |
|---|---|---|
|컨테이너 레지스트리용 Azure Defender를 사용해야 합니다. |안전한 컨테이너화된 워크로드를 만들려면 워크로드의 기반이 되는 이미지에 알려진 취약성이 없어야 합니다.<br>컨테이너 레지스트리용 Azure Defender는 레지스트리를 검사하여 푸시된 각 컨테이너 이미지의 보안 취약성을 확인하고 이미지마다 발견한 정보를 공개합니다.<br>컨테이너의 보안 상태를 개선하고 공격으로부터 보호하려면 컨테이너 레지스트리에 Azure Defender를 사용하도록 설정합니다.<br><br>중요: 이 권장 사항에 따라 수정하면 컨테이너 레지스트리를 보호하기 위한 요금이 부과됩니다. 이 구독에 컨테이너 레지스트리가 없으면 요금이 발생하지 않습니다.<br>나중에 이 구독에 컨테이너 레지스트리를 만들면 자동으로 보호되고 해당 시간에 요금이 청구됩니다.<br> <a href='https://docs.microsoft.com/azure/security-center/azure-container-registry-integration'>컨테이너 레지스트리용 Azure Defender에 대한 자세한 정보</a><br />(관련 정책: [컨테이너 레지스트리용 Azure Defender를 사용하도록 설정해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fmicrosoft.authorization%2fpolicyDefinitions%2fc25d9a16-bc35-4e15-a7e5-9db606bf9ed4)) |높음 |
|Azure Defender for Kubernetes를 사용해야 합니다. |Azure Defender for Kubernetes는 실시간 위협 방지를 컨테이너화된 환경에 제공하고 의심스러운 활동에 대한 경고를 생성합니다.<br>이 정보를 사용하여 보안 문제를 신속하게 수정하고 컨테이너의 보안을 강화할 수 있습니다.<br><br>중요: 이 권장 사항에 따라 수정하면 Kubernetes 클러스터 보호 요금이 부과됩니다. 이 구독에 Kubernetes 클러스터가 없으면 요금이 발생하지 않습니다.<br>나중에 이 구독에 Kubernetes 클러스터를 만들면 자동으로 보호되고 해당 시간에 요금이 청구됩니다.<br> <a href='https://docs.microsoft.com/azure/security-center/azure-kubernetes-service-integration'>Azure Defender for Kubernetes에 대한 자세한 정보</a><br />(관련 정책: [Azure Defender for Kubernetes를 사용하도록 설정해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fmicrosoft.authorization%2fpolicyDefinitions%2f523b5cd1-3e23-492f-a539-13118b6d1e3a)) |높음 |
|클러스터에 Kubernetes용 Azure Policy 추가 기능을 설치하고 사용하도록 설정해야 함 |Kubernetes용 Azure Policy 추가 기능은 OPA(<a target="_blank" href="https://www.openpolicyagent.org/">Open Policy Agent</a>)용 허용 컨트롤러 웹후크인 <a target="_blank" href="https://github.com/open-policy-agent/gatekeeper">Gatekeeper</a> v3를 확장하여 일관된 중앙 집중식 방법으로 클러스터에 대규모 규약 및 세이프가드를 적용합니다.<p>Security Center를 사용하려면 클러스터 내에서 보안 기능 및 규정 준수를 감사하고 적용할 추가 기능이 필요합니다. <a target="_blank" href="https://docs.microsoft.com/azure/governance/policy/concepts/policy-for-kubernetes">자세한 정보</a></p><p>Kubernetes v1.14.0 이상이 필요합니다.</p><br />(관련 정책: [클러스터에 AKS(Azure Kubernetes Service)용 Azure Policy 추가 기능을 설치하고 사용하도록 설정해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f0a15ec92-a229-4763-bb14-0ea34a568f8d) |높음 |
|컨테이너 CPU 및 메모리 한도를 적용해야 함 |CPU 및 메모리 제한을 적용하면 리소스 고갈 공격(서비스 거부 공격의 일종)이 차단됩니다.<p>컨테이너가 구성된 리소스 제한을 초과하여 사용하지 않도록 컨테이너에 대한 제한을 설정하는 것이 좋습니다.</p><br />(관련 정책: [컨테이너 CPU 및 메모리 리소스 제한이 Kubernetes 클러스터에 지정된 제한을 초과하지 않는지 확인](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fe345eecc-fa47-480f-9e88-67dcc122b164)) |중간 |
|신뢰할 수 있는 레지스트리의 컨테이너 이미지만 배포해야 함 |Kubernetes 클러스터에서 실행되는 이미지는 알려지고 모니터링되는 컨테이너 이미지 레지스트리를 통해 제공되어야 합니다. 신뢰할 수 있는 레지스트리는 알려지지 않은 취약성, 보안 문제 및 악성 이미지의 개입 가능성을 제한하여 클러스터 노출 위험을 줄입니다.<br />(관련 정책: [Kubernetes 클러스터에서 허용되는 컨테이너 이미지만 확인](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ffebd0533-8e55-448f-b837-bd0e06f16469)) |높음 |
|컨테이너 레지스트리는 CMK(고객 관리형 키)로 암호화해야 함 |고객 관리형 키를 사용하여 레지스트리 콘텐츠의 미사용 데이터 암호화를 관리합니다. 기본적으로, 데이터는 서비스 관리형 키로 암호화되지만, CMK(고객 관리형 키)는 일반적으로 규정 준수 기준을 충족하는 데 필요합니다. CMK를 사용하면 사용자가 만들고 소유한 Azure Key Vault 키로 데이터를 암호화할 수 있습니다. 순환 및 관리를 포함하여 키의 수명 주기를 고객이 모두 제어하고 책임져야 합니다. https://aka.ms/acr/CMK에서 CMK 암호화에 대해 자세히 알아보세요.<br />(관련 정책: [컨테이너 레지스트리는 CMK(고객 관리형 키)로 암호화해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f5b9159ae-1701-4a6f-9a7a-aa9c8ddd0580)) |중간 |
|컨테이너 레지스트리는 무제한 네트워크 액세스를 허용하지 않아야 함 |기본적으로 Azure Container Registry는 모든 네트워크에 있는 호스트로부터의 인터넷 연결을 수락합니다. 잠재적 위협으로부터 레지스트리를 보호하려면 특정 공용 IP 주소 또는 주소 범위에서만 액세스를 허용합니다. 레지스트리에 IP/방화벽 규칙이나 구성된 가상 네트워크가 없는 경우 상태가 좋지 않은 리소스에 표시됩니다. Container Registry 네트워크 규칙에 대한 자세한 내용은 https://aka.ms/acr/portal/public-network 및 https://aka.ms/acr/vnet을 참조하세요.<br />(관련 정책: [컨테이너 레지스트리는 무제한 네트워크 액세스를 허용하지 않아야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fd0793b48-0edc-4296-a390-4c75d1bdfd71)) |중간 |
|컨테이너 레지스트리는 프라이빗 링크를 사용해야 함 |Azure Private Link를 통해 원본 또는 대상의 공용 IP 주소가 없어도 Azure 서비스에 가상 네트워크를 연결할 수 있습니다. 프라이빗 링크 플랫폼은 Azure 백본 네트워크를 통해 소비자와 서비스 간의 연결을 처리합니다. 전체 서비스 대신 프라이빗 엔드포인트를 컨테이너 레지스트리에 매핑하면 데이터 유출 위험으로부터 보호받을 수 있습니다. https://aka.ms/acr/private-link에서 자세히 알아보세요.<br />(관련 정책: [컨테이너 레지스트리는 프라이빗 링크를 사용해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fe8eef0a8-67cf-4eb4-9386-14b0e78733d4)) |중간 |
|권한 상승을 포함하는 컨테이너를 사용하지 않아야 함 |컨테이너는 Kubernetes 클러스터의 루트에 대한 권한 에스컬레이션으로 실행되어서는 안 됩니다.<br>AllowPrivilegeEscalation 특성은 프로세스가 부모 프로세스보다 많은 권한을 획득할 수 있는지 여부를 제어합니다.<br />(관련 정책: [Kubernetes 클러스터는 컨테이너 권한 상승을 허용해서는 안 됨](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f1c6e92c9-99f0-4e55-9cf2-0c234dc48f99)) |중간 |
|중요한 호스트 네임스페이스를 공유하는 컨테이너를 사용하지 않아야 함 |컨테이너 외부의 권한 상승으로부터 보호하려면 Kubernetes 클러스터에서 중요한 호스트 네임스페이스(호스트 프로세스 ID 및 호스트 IPC)에 대한 Pod 액세스를 방지하세요.<br />(관련 정책: [Kubernetes 클러스터 컨테이너는 호스트 프로세스 ID 또는 호스트 IPC 네임스페이스를 공유해서는 안 됨](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f47a1ee2f-2a2a-4576-bf2a-e0e36709c2b8)) |중간 |
|컨테이너는 허용되는 포트에서만 수신 대기해야 함 |Kubernetes 클러스터의 공격 표면을 줄이려면 컨테이너의 액세스를 구성된 포트로 제한하여 클러스터에 대한 액세스를 제한합니다.<br />(관련 정책: [컨테이너가 Kubernetes 클러스터의 허용된 포트에서만 수신 대기하도록 확인](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f440b515e-a580-421e-abeb-b159a61ddcbc)) |중간 |
|변경 불가능한(읽기 전용) 루트 파일 시스템을 컨테이너에 적용해야 함 |컨테이너는 Kubernetes 클러스터의 읽기 전용 루트 파일 시스템에서 실행되어야 합니다. 변경할 수 없는 파일 시스템은 런타임에 악성 이진 파일을 경로에 추가하여 컨테이너를 변경하지 못하도록 보호합니다.<br />(관련 정책: [Kubernetes 클러스터 컨테이너는 읽기 전용 루트 파일 시스템에서 실행되어야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fdf49d893-a74c-421d-bc95-c663042e5b80)) |중간 |
|Kubernetes 클러스터는 HTTPS를 통해서만 액세스할 수 있어야 함 |HTTPS를 사용하여 인증을 보장하고, 네트워크 계층 도청 공격으로부터 전송 중인 데이터를 보호합니다. 이 기능은 현재 AKS(Kubernetes Service)로 일반 공급되며, AKS 엔진 및 Azure Arc 지원 Kubernetes에서 미리 보기로 제공됩니다. 자세한 내용은 https://aka.ms/kubepolicydoc을 방문하세요.<br />(관련 정책: [Kubernetes 클러스터에서 HTTPS 수신 적용](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f1a5b4dca-0b6f-4cf5-907c-56316bc1bf3d)) |높은 |
|제한된 액세스 권한으로 Kubernetes Services Management API 서버를 구성해야 함 |허용되는 네트워크, 머신 또는 서브넷의 애플리케이션만 클러스터에 액세스할 수 있도록 하려면 Kubernetes Service Management API 서버에 대한 액세스를 제한합니다. 권한 있는 IP 범위를 정의하거나 <a target='_blank' href=https://docs.microsoft.com/azure/aks/private-clusters>https://docs.microsoft.com/azure/aks/private-clusters</a>에 설명된 대로 API 서버를 프라이빗 클러스터로 설정하여 액세스를 제한할 수 있습니다.<br />(관련 정책: [Kubernetes Services에서 권한 있는 IP 범위를 정의해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f0e246bcf-5f6f-4f87-bc6f-775d4712c7ea)) |높음 |
|Kubernetes Services를 취약하지 않은 Kubernetes 버전으로 업그레이드해야 함 |현재 Kubernetes 버전의 알려진 취약성으로부터 보호하려면 Kubernetes 서비스 클러스터를 최신 Kubernetes 버전으로 업그레이드하세요. Kubernetes 버전 1.11.9+, 1.12.7+, 1.13.5+ 및 1.14.0+의 취약성 <a target='_blank' href='https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9946'>CVE-2019-9946</a>이 패치됨<br />(관련 정책: [Kubernetes Services를 취약하지 않은 Kubernetes 버전으로 업그레이드해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ffb893a29-21bb-418c-a157-e99480ec364c)) |높음 |
|최소 권한 Linux 기능을 컨테이너에 적용해야 함 |컨테이너의 공격 표면을 줄이기 위해 Linux 기능을 제한하고 루트 사용자의 모든 권한을 부여하지 않고 컨테이너에 특정 권한을 부여합니다. 모든 기능을 삭제한 다음, 필요한 기능을 추가하는 것이 좋습니다.<br />(관련 정책: [Kubernetes 클러스터 컨테이너는 허용된 기능만 사용해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fc26596ff-4d70-4e6a-9a30-c2506bd2f80c)) |중간 |
|컨테이너 AppArmor 프로필의 재정의 또는 비활성화를 제한해야 함 |Kubernetes 클러스터에서 실행되는 컨테이너는 허용된 AppArmor 프로필로만 제한되어야 합니다.<br>AppArmor(Application Armor)는 보안 위협으로부터 운영 체제와 애플리케이션을 보호하는 Linux 보안 모듈입니다. AppArmor를 사용하려면 시스템 관리자는 AppArmor 보안 프로필을 각 프로그램에 연결해야 합니다.<br />(관련 정책: [Kubernetes 클러스터 컨테이너는 허용된 AppArmor 프로필만 사용해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f511f5417-5d12-434d-ab2e-816901e72a5e)) |높음 |
|권한 있는 컨테이너를 피해야 함 |무제한 호스트 액세스를 방지하기 위해 되도록이면 권한 있는 컨테이너를 사용하지 마세요.<p>권한 있는 컨테이너는 호스트 머신의 모든 루트 기능을 갖고 있습니다. 공격의 진입점으로 사용되어 손상된 애플리케이션, 호스트 및 네트워크에 악성 코드 또는 맬웨어를 퍼뜨릴 수 있습니다.</p><br />(관련 정책: [Kubernetes 클러스터에서 권한 있는 컨테이너를 허용하지 않음](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f95edb821-ddaf-4404-9732-666045e056b4)) |중간 |
|Kubernetes 서비스에서 역할 기반 액세스 제어를 사용해야 함 |사용자가 수행할 수 있는 작업에 대한 세부적인 필터링을 제공하려면 RBAC(역할 기반 액세스 제어)를 사용하여 Kubernetes Service 클러스터에서 권한을 관리하고 관련 권한 부여 정책을 구성합니다. 자세한 내용은 <a target='_blank' href='https://docs.microsoft.com/azure/aks/concepts-identity#role-based-access-controls-rbac'>Azure 역할 기반 액세스 제어</a>를 참조하세요.<br />(관련 정책: [Kubernetes Services에서 RBAC(역할 기반 액세스 제어)를 사용해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fac4a19c2-fa67-49b4-8ae5-0b2e78c49457)) |높음 |
|컨테이너를 루트 사용자로 실행하지 않아야 함 |컨테이너는 Kubernetes 클러스터에서 루트가 아닌 사용자로 실행되어야 합니다. 컨테이너 내의 루트 사용자로 프로세스를 실행하면 호스트의 루트로 실행됩니다. 시스템이 손상된 경우 공격자가 컨테이너에서 루트 권한을 갖게 되며, 잘못된 구성이 악용되기 쉽습니다.<br />(관련 정책: [Kubernetes 클러스터 Pod 및 컨테이너는 승인된 사용자 및 그룹 ID로만 실행해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ff06ddb64-5fa3-4b77-b166-acb36f7f6042)) |높음 |
|서비스는 허용되는 포트에서만 수신 대기해야 함 |Kubernetes 클러스터의 공격 표면을 줄이려면 서비스의 액세스를 구성된 포트로 제한하여 클러스터에 대한 액세스를 제한합니다.<br />(관련 정책: [서비스가 Kubernetes 클러스터의 허용된 포트에서만 수신 대기하도록 보장](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f233a2a17-77ca-4fb1-9b6b-69223d272a44)) |중간 |
|호스트 네트워킹 및 포트 사용을 제한해야 함 |Kubernetes 클러스터에서 호스트 네트워크 및 허용 가능한 호스트 포트 범위에 대한 Pod 액세스를 제한합니다. hostNetwork 특성을 사용하여 만든 Pod는 노드의 네트워크 공간을 공유합니다. 손상된 컨테이너가 네트워크 트래픽을 스니핑하지 않도록 하려면 Pod를 호스트 네트워크에 배치하지 않는 것이 좋습니다. 노드의 네트워크에 컨테이너 포트를 공개해야 하고 Kubernetes Service 노드 포트를 사용하면 요구 사항이 충족되지 않는 경우 Pod 사양의 컨테이너에 대해 hostPort를 지정하면 충족될 가능성이 있습니다.<br />(관련 정책: [Kubernetes 클러스터 Pod는 승인된 호스트 네트워크와 포트 범위만 사용해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f82985f06-dc18-4a48-bc1c-b9f4f0098cfe)) |중간 |
|손상된 컨테이너에서 노드 액세스를 제한하려면 Pod HostPath 볼륨 탑재 사용을 알려진 목록으로 제한해야 함 |Kubernetes 클러스터의 pod HostPath 볼륨 탑재를 구성된 허용 호스트 경로로 제한하는 것이 좋습니다. 손상된 경우 컨테이너의 컨테이너 노드 액세스를 제한해야 합니다.<br />(관련 정책: [Kubernetes 클러스터 Pod hostPath 볼륨은 허용된 호스트 경로만 사용해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f098fc59e-46c7-4d99-9b16-64990e543d75)) |중간 |
|Azure Container Registry 이미지의 취약성을 수정해야 함(Qualys 제공) |컨테이너 이미지 취약성 평가는 레지스트리를 검사하여 보안 취약성을 확인하고 이미지마다 발견한 정보를 공개합니다. 취약성을 해결하면 컨테이너의 보안 상태가 크게 개선되며 공격으로부터 보호할 수 있습니다.<br />(관련 정책: [Azure Container Registry 이미지의 취약성을 수정해야 함](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f5f0f936f-2f01-4bf5-b6be-d423792fa562)) |높음 |
|||
